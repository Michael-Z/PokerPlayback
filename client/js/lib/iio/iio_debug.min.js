function emptyFn(){}iio={},iio.apps=[],iio.scripts=iio.scripts||{},iio.start=function(a,b,c){var d=iio.canvas.prep(b,c);return a instanceof Array?new iio.App(d,a[0],a[1]):new iio.App(d,a)},iio.stop=function(a){if(!a)for(var b=0;b<iio.apps.length;b++)iio.cancelLoops(iio.apps[b])},iio.script=function(){if("undefined"!=typeof CoffeeScript){var scripts=Array.prototype.slice.call(document.getElementsByTagName("script")),iioScripts=scripts.filter(function(a){return"text/iioscript"===a.type});iioScripts.forEach(function(script){var xhr=new XMLHttpRequest;xhr.open("GET",script.src,!0),xhr.onreadystatechange=function(){if(4===xhr.readyState&&(200===xhr.status||0==xhr.status)){var appName=script.src.split("/").pop().replace(/\.[^/.]+$/,"");iio.scripts[appName]=eval("(function() {\nreturn function(app, settings) {\n"+CoffeeScript.compile(xhr.responseText,{bare:!0})+"}\n})()"),window.dispatchEvent(new Event("iioscript:"+appName))}},xhr.send(null)})}},window.addEventListener?window.addEventListener("DOMContentLoaded",iio.script,!1):window.attachEvent("onload",iio.script),Array.prototype.insert=function(a,b){return this.splice(a,0,b),this},void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return/function ([^(]*)/.exec(this+"")[1]}}),iio.inherit=function(a,b){var c=a;emptyFn.prototype=b.prototype,a.prototype=new emptyFn,a.prototype.constructor=c},iio.merge=function(a,b){for(var c in b)a[c]=b[c];return a},iio.merge_args=function(a){if(a){for(var b={},c=0;c<a.length;c++)b=iio.merge(b,a[c]);return b}return a},iio.addEvent=function(a,b,c,d){return a.addEventListener?(a.addEventListener(b,c,d),!0):a.attachEvent?(a.attachEvent("on"+b,c),!0):!1},iio.set=function(a,b){a.forEach(function(a){a.set(b)})},iio.random=function(a,b){return a=a||0,b=0===b||"undefined"!=typeof b?b:1,Math.random()*(b-a)+a},iio.randomInt=function(a,b){return Math.floor(iio.random(a,b))},iio.centroid=function(a){for(var b,c,d=0;d<a.length;d++)b+=a[d].x,c+=a[d].y;return new iio.Vector(b/a.length,c/a.length)},iio.specVec=function(a,b){for(var c=a[0],d=0;d<a.length;d++)b(c,a[d])&&(c=a[d]);return c},iio.load=function(a,b){var c=new Image;return c.src=a,c.onload=b,c},iio.read=function(a,b){var c=new XMLHttpRequest;c.open("GET",a,!0),c.onreadystatechange=function(){return 4!==c.readyState||200!==c.status&&0!=c.status?void 0:b(c.responseText)},c.send(null)},iio.loop=function(a,b,c){function d(){var c=(new Date).getTime();if("undefined"==typeof b.last)var e=!0;var f=Math.floor(Math.max(0,1e3/a-(c-(b.last||a))));b.last=c+f;var g;"undefined"==typeof e&&(g="undefined"==typeof b.fn?b.o._update(b.o,f):iio.is.fn(b.fn)?b.fn(b.o,b,f):b.fn._update(b,f),b.o.app.draw()),"undefined"==typeof g?b.id=window.setTimeout(d,f):(a=g,b.id=window.setTimeout(d,1e3/g))}function e(){"undefined"==typeof b.fn?b.o.draw():iio.is.fn(b.fn)?b.fn(b.o):(b.fn._update(),b.fn.draw()),b.o.app.draw(),b.id=window.requestAnimationFrame(e)}return iio.is.number(a)||"undefined"==typeof window.requestAnimationFrame||!a.af?("undefined"!=typeof a.af&&"undefined"==typeof a.fps?(c=b,b=a,a=60):iio.is.number(a)||(b=a,a=a.fps),b.id=window.setTimeout(d,1e3/a),b.id):(c=b,b=a,b.id=window.requestAnimationFrame(e),b.id)},iio.cancelLoop=function(a){window.clearTimeout(a),window.cancelAnimationFrame(a)},iio.cancelLoops=function(a,b){a.loops&&a.loops.forEach(function(a){iio.cancelLoop(a.id)}),a.mainLoop&&iio.cancelLoop(a.mainLoop.id),"undefined"==typeof b&&a.objs&&a.objs.forEach(function(a){iio.cancelLoops(a)})},iio.resize=function(){iio.apps.forEach(function(a){a.canvas.fullscreen&&(window.jQuery?(a.canvas.width=$(window).width(),a.canvas.height=$(window).height()):(a.canvas.width=window.innerWidth,a.canvas.height=window.innerHeight)),a.width=a.canvas.width,a.height=a.canvas.height,a.center.x=a.canvas.width/2,a.center.y=a.canvas.height/2,a.script&&a.script.resize&&a.script.resize(),a.draw()})},iio.prep_input=function(){window.onresize=iio.resize,iio.addEvent(window,"keydown",function(a){var b=iio.key.string(a);iio.apps.forEach(function(c){c.script&&c.script.keyDown&&c.script.keyDown(a,b)})}),iio.addEvent(window,"keyup",function(a){var b=iio.key.string(a);iio.apps.forEach(function(c){c.script&&c.script.keyUp&&c.script.keyUp(a,b)})}),iio.addEvent(window,"scroll",function(a){iio.apps.forEach(function(a){var b=a.canvas.getBoundingClientRect();a.pos={x:b.left,y:b.top}})})},iio.prep_input(),iio.createGradient=function(a,b){var c,d=b.split(":"),e=d[1].split(",");c=4==e.length?a.createLinearGradient(e[0],e[1],e[2],e[3]):a.createRadialGradient(e[0],e[1],e[2],e[3],e[4],e[5]);var f;return d.forEach(function(a){f=a.indexOf(",");var b=parseFloat(a.substring(0,f)),d=a.substring(f+1);c.addColorStop(b,d)}),c},iio.is={fn:function(a){return"function"==typeof a},number:function(a){return"number"==typeof a?!0:void 0},string:function(a){return"string"==typeof a||a instanceof String},filetype:function(a,b){return b.some(function(b){return-1!=a.indexOf("."+b)})},image:function(a){return this.filetype(a,["png","jpg","gif","tiff"])},sound:function(a){return this.filetype(a,["wav","mp3","aac","ogg"])},between:function(a,b,c){if(b>c){var d=b;b=c,c=d}return a>=b&&c>=a}},iio.convert={property:{color:function(a,b){a[b]&&iio.is.string(a[b])&&(a[b]=iio.convert.color(a[b]))},vector:function(a,b){a[b]&&(a[b]=iio.convert.vector(a[b]))},vectors:function(a,b){a[b]&&(a[b]=iio.convert.vectors(a[b]))}},color:function(a){return iio.Color[a.toLowerCase()]()},vector:function(a){return a instanceof Array?new iio.Vector(a):a instanceof iio.Vector?a:new iio.Vector(a,a)},vectors:function(a){for(var b=0;b<a.length;b++)a[b]=iio.convert.vector(a[b]);return a}},iio.point={rotate:function(a,b,c){if("undefined"!=typeof a.x&&(c=b,b=a.y,a=a.x),"undefined"==typeof c||0==c)return{x:a,y:b};var d=a*Math.cos(c)-b*Math.sin(c),e=b*Math.cos(c)+a*Math.sin(c);return{x:d,y:e}},vector:function(a){var b=[];a instanceof Array||(a=[a]);for(var c=0;c<a.length;c++)"undefined"!=typeof a[c].x?b.push(a[c]):(b.push({x:a[c],y:a[c+1]}),c++);return b}},iio.keys={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps lock",27:"escape",32:"space",33:"page up",34:"page down",35:"end",36:"home",37:"left arrow",38:"up arrow",39:"right arrow",40:"down arrow",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"left window",92:"right window",93:"select key",96:"n0",97:"n1",98:"n2",99:"n3",100:"n4",101:"n5",102:"n6",103:"n7",104:"n8",105:"n9",106:"multiply",107:"add",109:"subtract",110:"dec",111:"divide",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"num lock",156:"scroll lock",186:"semi-colon",187:"equal",188:"comma",189:"dash",190:"period",191:"forward slash",192:"grave accent",219:"open bracket",220:"back slash",221:"close bracket",222:"single quote"},iio.key={string:function(a){return iio.keys[a.keyCode]},code_is:function(a,b){a instanceof Array||(a=[a]);var c=iio.key.string(b);return a.some(function(a){return a===c})}},iio.canvas={create:function(a,b){var c=document.createElement("canvas");return a?(c.width=a,c.height=b):(c.margin=0,c.padding=0,c.style.position="fixed",c.style.left=0,c.style.top=0,c.fullscreen=!0,window.jQuery?(c.width=$(document).width(),c.height=$(document).height()):(c.width=window.innerWidth,c.height=window.innerHeight)),c},prep:function(a,b){var c;return a?(c=document.getElementById(a),c||("CANVAS"==a.tagName?c=a:(iio.is.number(a)||a.x)&&(c=iio.canvas.create(a.x||a,a.y||a),b?b.appendChild(c):document.body.appendChild(c)))):(iio.canvas.prep_fullscreen(),c=iio.canvas.create(),document.body.appendChild(c)),c},prep_fullscreen:function(){document.body.style.margin=0,document.body.style.padding=0},prep_input:function(a){a.onmousedown=function(a){var b=this.parent.convert_event_pos(a);this.parent.onClick&&this.parent.onClick(a,b),this.parent.objs.forEach(function(c,d){if(0!==d&&(b=this.parent.convert_event_pos(a)),c.contains&&c.contains(b)&&c.onClick)if(c.cellAt){var e=c.cellAt(b);c.onClick(a,b,e,c.cellCenter(e.c,e.r))}else c.onClick(a,b)},this)}}},iio.collision={check:function(a,b){return"undefined"==typeof a||"undefined"==typeof b?!1:a instanceof iio.Rectangle&&b instanceof iio.Rectangle?iio.collision.rectXrect(a.left(),a.right(),a.top(),a.bottom(),b.left(),b.right(),b.top(),b.bottom()):void 0},rectXrect:function(a,b,c,d,e,f,g,h){return f>a&&b>e&&h>c&&d>g?!0:!1}},iio.draw={line:function(a,b,c,d,e){a.beginPath(),a.moveTo(b,c),a.lineTo(d,e),a.stroke()}},iio.Interface=function(){this.Interface.apply(this,arguments)},iio.Interface.prototype.Interface=function(){this.set(arguments[0],!0)},iio.Interface.prototype.set=function(){for(var a in arguments[0])this[a]=arguments[0][a];this.convert_props&&this.convert_props()},iio.Interface.prototype.clone=function(){return new this.constructor(this)},iio.Interface.prototype.toString=function(){var a="";for(var b in this)this[b]instanceof Array?a+=b+" = Array["+this[b].length+"]\n":"function"!=typeof this[b]&&"_super"!=b&&(a+=b+" = "+this[b]+"\n");return a},iio.Vector=function(){this.Vector.apply(this,arguments)},iio.inherit(iio.Vector,iio.Interface),iio.Vector.prototype._super=iio.Interface.prototype,iio.Vector.prototype.Vector=function(a,b){a instanceof Array?(this.x=a[0]||0,this.y=a[1]||0):a&&a.x?(this.x=a.x||0,this.y=a.y||0):(this.x=a||0,this.y=b||0)},iio.Vector.add=function(a,b){for(var c in b)a[c]&&(a[c]+=b[c]);return a},iio.Vector.sub=function(a,b){for(var c in b)a[c]&&(a[c]-=b[c]);return a},iio.Vector.mult=function(a,b){for(var c in b)a[c]&&(a[c]*=b[c]);return a},iio.Vector.div=function(a,b){for(var c in b)a[c]&&(a[c]/=b[c]);return a},iio.Vector.dist=function(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))},iio.Vector.prototype.clone=function(){return new iio.Vector(this.x,this.y)},iio.Vector.prototype.sub=function(a,b){return b=b||a.y,a=a.x||a,this.x-=a,this.y-=b,this},iio.Vector.prototype.equals=function(a,b){return a.x?this.x===a.x&&this.y===a.y:this.x===a&&this.y===b},iio.Color=function(){this.Color.apply(this,arguments)},iio.inherit(iio.Color,iio.Interface),iio.Color.prototype._super=iio.Interface.prototype,iio.Color.prototype.Color=function(a,b,c,d){if("string"==typeof a&&void 0===c&&void 0===d){var e=iio.Color.hexToRgb(a);d=b,a=e.r,b=e.g,c=e.b}return this.r=a||0,this.g=b||0,this.b=c||0,this.a=d||1,this},iio.Color.random=function(){return new iio.Color(iio.randomInt(0,255),iio.randomInt(0,255),iio.randomInt(0,255))},iio.Color.hexToRgb=function(a){var b=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;a=a.replace(b,function(a,b,c,d){return b+b+c+c+d+d});var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return c?{r:parseInt(c[1],16),g:parseInt(c[2],16),b:parseInt(c[3],16)}:null},iio.Color.rgbToHex=function(a,b,c){function d(a){var b=a.toString(16);return 1==b.length?"0"+b:b}return"#"+d(a)+d(b)+d(c)},iio.Color.prototype.clone=function(){return new iio.Color(this.r,this.g,this.b,this.a)},iio.Color.prototype.rgbaString=function(){return"rgba("+this.r+","+this.g+","+this.b+","+this.a+")"},iio.Color.prototype.hexString=function(){return iio.Color.rgbToHex(this.r,this.g,this.b)},iio.Color.prototype.invert=function(){return this.r=255-this.r,this.g=255-this.g,this.b=255-this.b,this},iio.Color.prototype.randomize=function(a){return this.r=iio.randomInt(0,255),this.g=iio.randomInt(0,255),this.b=iio.randomInt(0,255),a&&(this.a=iio.random()),this},iio.Color.iioblue=function(){return new iio.Color(0,186,255)},iio.Color.transparent=function(){return new iio.Color(0,0,0,0)},iio.Color.black=function(){return new iio.Color(0,0,0,1)},iio.Color.white=function(){return new iio.Color(255,255,255,1)},iio.Color.gray=function(){return new iio.Color(128,128,128,1)},iio.Color.red=function(){return new iio.Color(255,0,0,1)},iio.Color.green=function(){return new iio.Color(0,128,0,1)},iio.Color.blue=function(){return new iio.Color(0,0,255,1)},iio.Color.lime=function(){return new iio.Color(0,255,0,1)},iio.Color.aqua=function(){return new iio.Color(0,255,255,1)},iio.Color.fuchsia=function(){return new iio.Color(255,0,255,1)},iio.Color.maroon=function(){return new iio.Color(128,0,0,1)},iio.Color.navy=function(){return new iio.Color(0,0,128,1)},iio.Color.olive=function(){return new iio.Color(128,128,0,1)},iio.Gradient=function(){this.Gradient.apply(this,arguments)},iio.inherit(iio.Gradient,iio.Interface),iio.Gradient.prototype._super=iio.Interface.prototype,iio.Gradient.prototype.Gradient=function(){this._super.Interface.call(this,iio.merge_args(arguments))},iio.Gradient.prototype.convert_props=function(){iio.convert.property.vector(this,"start"),iio.convert.property.vector(this,"end");for(var a=0;a<this.stops.length;a++)iio.is.string(this.stops[a][1])&&(this.stops[a][1]=iio.convert.color(this.stops[a][1]))},iio.Gradient.prototype.canvasGradient=function(a){var b;b=this.startRadius?a.createRadialGradient(this.start.x,this.start.y,this.startRadius,this.end.x,this.end.y,this.endRadius):a.createLinearGradient(this.start.x,this.start.y,this.end.x,this.end.y);for(var c=0;c<this.stops.length;c++)b.addColorStop(this.stops[c][0],this.stops[c][1].rgbaString());return b},iio.Drawable=function(){this.Drawable.apply(this,arguments)},iio.inherit(iio.Drawable,iio.Interface),iio.Drawable.prototype._super=iio.Interface.prototype,iio.Drawable.prototype.Drawable=function(){iio.Drawable.prototype._super.Interface.call(this,arguments[0]),this.objs=[],this.collisions=[],this.loops=[]},iio.Drawable.prototype.set=function(){iio.Drawable.prototype._super.set.call(this,arguments[0]),arguments[arguments.length-1]===!0||this.app&&this.app.draw()},iio.Drawable.prototype.convert_props=function(){iio.convert.property.color(this,"color")},iio.Drawable.prototype.localFrameVector=function(a){return new iio.Vector(a.x-this.pos.x,a.y-this.pos.y)},iio.Drawable.prototype.clear=function(a){for(var b=0;b<this.objs.length;b++)iio.cancelLoops(this.objs[b]);return this.objs=[],a||this.app&&this.app.draw(),this},iio.Drawable.prototype.add=function(){if(arguments[0]instanceof Array)for(var a=0;a<arguments[0].length;a++)this.add(arguments[0][a],!0);else{if(arguments[0].parent=this,arguments[0].app=this.app,arguments[0].ctx=this.ctx,arguments[0].objs&&arguments[0].objs.length>0)for(var a=0;a<arguments[0].objs.length;a++)arguments[0].objs[a].app=this.app,arguments[0].objs[a].ctx=this.ctx;arguments[0]instanceof iio.Text&&arguments[0].inferSize(),"undefined"==typeof arguments[0].z&&(arguments[0].z=0);for(var a=0;a<this.objs.length&&"undefined"!=typeof this.objs[a].z&&arguments[0].z>=this.objs[a].z;)a++;this.objs.insert(a,arguments[0]),arguments[0].app&&(arguments[0].vel||arguments[0].vels||arguments[0].rVel||arguments[0].bezierVels||arguments[0].bezierAccs||arguments[0].acc||arguments[0].accs||arguments[0].rAcc||arguments[0].onUpdate||arguments[0].shrink||arguments[0].fade)&&!arguments[0].app.looping&&arguments[0].app.loop()}return arguments[arguments.length-1]===!0||this.app&&this.app.draw(),arguments[0]},iio.Drawable.prototype.rmv=function(){if(arguments[0]instanceof Array)for(var a=0;a<arguments[0].length;a++)this.rmv(arguments[0][a],!0);else{var b=arguments[0];if(remove=function(a,c,d){return a==b?(d.splice(c,1),!0):!1},iio.is.number(arguments[0])){if(!(arguments[0]<this.objs.length))return!1;b=this.objs.splice(arguments[0],1)}else{if(!this.objs)return!1;this.objs.some(remove)}this.collisions&&this.collisions.forEach(function(a,c){a[0]==b||a[1]==b?this.collisions.splice(c,1):(a[0]instanceof Array&&a[0].some(remove),a[1]instanceof Array&&a[1].some(remove))})}return arguments[arguments.length-1]===!0||this.app&&this.app.draw(),arguments[0]},iio.Drawable.prototype.create=function(){for(var a={},b=0;b<arguments.length;b++)if(null!==arguments[b])if(iio.is.string(arguments[b])){var c=iio.Color[arguments[b]];c?a.color=c:a.text=arguments[b]}else arguments[b]instanceof iio.Color?a.color=arguments[b]:arguments[b]instanceof iio.Vector?a.pos=arguments[b]:arguments[b]instanceof Array?a.pos=iio.convert.vector(arguments[b]):"object"==typeof arguments[b]?a=iio.merge(a,arguments[b]):iio.is.number(arguments[b])&&(a.width=arguments[b]);return a.vs?2==a.vs.length?this.add(new iio.Line(a)):this.add(new iio.Polygon(a)):a.radius?this.add(new iio.Ellipse(a)):a.text?this.add(new iio.Text(a)):a.res||a.R||a.C?this.add(new iio.Grid(a)):a.width?this.add(new iio.Rectangle(a)):a.color?a.color:a.pos?a.pos:!1},iio.Drawable.prototype.collision=function(a,b,c){return this.collisions.push([a,b,c]),this.collisions.length-1},iio.Drawable.prototype.cCollisions=function(a,b,c){if(a instanceof Array)if(b instanceof Array){if(0==b.length)return;a.forEach(function(a){b.forEach(function(b){iio.collision.check(a,b)&&c(a,b)})})}else a.forEach(function(a){iio.collision.check(a,b)&&c(a,b)});else b instanceof Array?b.forEach(function(b){iio.collision.check(a,b)&&c(a,b)}):iio.collision.check(a,b)&&c(a,b)},iio.Drawable.prototype._update=function(a,b){var c;return this.update&&(c=this.update(b)),this.objs&&this.objs.length>0&&this.objs.forEach(function(c){c.update&&c.update(a,b)&&this.rmv(c)},this),this.collisions&&this.collisions.length>0&&this.collisions.forEach(function(a){this.cCollisions(a[0],a[1],a[2])},this),c},iio.Drawable.prototype.loop=function(a,b){this.looping=!0;var c;return"undefined"==typeof b?"undefined"==typeof a?(this.app.mainLoop&&iio.cancelLoop(this.app.mainLoop.id),c=this.app.mainLoop={fps:60,fn:this,af:this.rqAnimFrame,o:this.app},this.app.fps=c.fps,c.id=this.app.mainLoop.id=iio.loop(this.app.mainLoop)):iio.is.number(a)?(this.app.mainLoop&&iio.cancelLoop(this.app.mainLoop.id),c=this.app.mainLoop={fps:a,o:this.app,af:!1},this.app.fps=a,c.id=this.app.mainLoop.id=iio.loop(this.app.mainLoop)):(c={fps:60,fn:a,af:this.rqAnimFrame},c.id=iio.loop(c,a)):(c={fps:a,fn:b,o:this,af:this.rqAnimFrame},c.id=iio.loop(a,c)),this.loops.push(c),c.id},iio.Drawable.prototype.pause=function(a){return this.paused?(this.paused=!1,this.loops.forEach(function(a){iio.loop(a)}),this.mainLoop&&iio.loop(this.mainLoop),"undefined"==typeof a&&this.objs.forEach(function(a){a.loops.forEach(function(a){iio.loop(a)})})):(iio.cancelLoops(this),iio.cancelLoop(this.mainLoop.id),this.paused=!0),this},iio.SpriteMap=function(){this.SpriteMap.apply(this,arguments)},iio.SpriteMap.prototype.SpriteMap=function(a,b){return this.img=new Image,this.img.src=a,this.img.onload=b.onload,this},iio.SpriteMap.prototype.sprite=function(a,b,c,d,e,f){var g={};if(iio.is.string(a)&&(g.tag=a,a=b,b=c,c=d,d=e,e=f),a instanceof Array)g.frames=a;else if(c instanceof Array)g.frames=c;else{g.frames=[];for(var h=0;c>h;h++)g.frames[h]={x:a*h,y:e,w:a,h:b}}return g.frames.forEach(function(c){"undefined"==typeof c.src&&(c.src=this.img),"undefined"==typeof c.w&&(c.w=a),"undefined"==typeof c.h&&(c.h=b)},this),g},iio.Shape=function(){this.Shape.apply(this,arguments)},iio.inherit(iio.Shape,iio.Drawable),iio.Shape.prototype._super=iio.Drawable.prototype,iio.Shape.prototype.Shape=function(){iio.Shape.prototype._super.Drawable.call(this,arguments[0])},iio.Shape.prototype.convert_props=function(){if(iio.Shape.prototype._super.convert_props.call(this,iio.merge_args(arguments)),iio.convert.property.color(this,"outline"),iio.convert.property.color(this,"shadow"),!this.dash||this.dash instanceof Array||(this.dash=[this.dash]),iio.convert.property.vector(this,"pos"),iio.convert.property.vector(this,"origin"),iio.convert.property.vector(this,"vel"),iio.convert.property.vector(this,"acc"),iio.convert.property.vector(this,"shadowOffset"),iio.convert.property.vector(this,"res"),iio.convert.property.vectors(this,"vs"),iio.convert.property.vectors(this,"vels"),iio.convert.property.vectors(this,"accs"),iio.convert.property.vectors(this,"bezier"),iio.convert.property.vectors(this,"bezierVels"),iio.convert.property.vectors(this,"bezierAccs"),"undefined"!=typeof this.fade&&"undefined"==typeof this.alpha&&(this.alpha=1),"undefined"==typeof this.rAcc||this.rVel||(this.rVel=0),"undefined"==typeof this.rVel||this.rotation||(this.rotation=0),"undefined"!=typeof this.bezierAccs&&!this.bezierVels){this.bezierVels=[];for(var a=0;a<this.bezierAccs.length;a++)this.bezierVels.push(new iio.Vector)}if("undefined"!=typeof this.bezierVels&&!this.bezier){this.bezier=[];for(var a=0;a<this.bezierVels.length;a++)this.bezier.push(new iio.Vector)}if(this.img)if(iio.is.string(this.img)){var b=this.img;this.img=new Image,this.img.src=b,this.img.parent=this;var c=this;this.size()?this.img.onload=function(a){c.app&&c.app.draw()}:this.img.onload=function(a){c.setSize(c.img.width||0,c.img.height||0),c.app&&c.app.draw()}}else this.size()||(this.setSize(this.img.width||0,this.img.height||0),this.app&&this.app.draw())},iio.Shape.prototype.left=function(){return this.pos?this.pos.x:0},iio.Shape.prototype.right=function(){return this.pos?this.pos.x:0},iio.Shape.prototype.top=function(){return this.pos?this.pos.y:0},iio.Shape.prototype.bottom=function(){return this.pos?this.pos.y:0},iio.Shape.prototype.resolve=function(a,b){return a.callback?a.callback(b):!0},iio.Shape.prototype.over_upper_limit=function(a,b,c){return iio.is.number(a)&&b>a||"undefined"!=typeof a.bound&&b>a.bound?this.resolve(a,c):!1},iio.Shape.prototype.below_lower_limit=function(a,b,c){return iio.is.number(a)&&a>b||"undefined"!=typeof a.bound&&b<a.bound?this.resolve(a,c):!1},iio.Shape.prototype.update=function(){var a=!1;return this.bounds&&(a=this.past_bounds()),this.shrink&&(a=this.update_shrink()),this.fade&&(a=this.update_fade()),a?a:(this.acc&&this.update_acc(),this.vel&&this.update_vel(),this.rAcc&&(this.rVel+=this.rAcc),this.rVel&&this.update_rotation(),this.accs&&this.update_accs(),this.vels&&this.update_vels(),this.bezierAccs&&this.update_bezier_accs(),this.bezierVels&&this.update_bezier_vels(),void(this.onUpdate&&this.onUpdate()))},iio.Shape.prototype.update_vel=function(){if(this.pos)this.vel.x&&(this.pos.x+=this.vel.x),this.vel.y&&(this.pos.y+=this.vel.y);else if(this.vs)for(var a=0;a<this.vs.length;a++)this.vel.x&&(this.vs[a].x+=this.vel.x),this.vel.y&&(this.vs[a].y+=this.vel.y)},iio.Shape.prototype.update_vels=function(){if(this.vs)for(var a=0;a<this.vels.length;a++)this.vels[a].x&&(this.vs[a].x+=this.vels[a].x),this.vels[a].y&&(this.vs[a].y+=this.vels[a].y)},iio.Shape.prototype.update_bezier_vels=function(){if(this.bezier)for(var a=0;a<this.bezierVels.length;a++)this.bezierVels[a].x&&(this.bezier[a].x+=this.bezierVels[a].x),this.bezierVels[a].y&&(this.bezier[a].y+=this.bezierVels[a].y)},iio.Shape.prototype.update_bezier_accs=function(){if(this.bezierVels)for(var a=0;a<this.bezierAccs.length;a++)this.bezierAccs[a].x&&(this.bezierVels[a].x+=this.bezierAccs[a].x),this.bezierAccs[a].y&&(this.bezierVels[a].y+=this.bezierAccs[a].y)},iio.Shape.prototype.update_rotation=function(){this.rotation+=this.rVel,(this.rotation>6283||this.rotation<-6283)&&(this.rotation=0)},iio.Shape.prototype.update_acc=function(){this.vel.x+=this.acc.x,this.vel.y+=this.acc.y},iio.Shape.prototype.update_accs=function(){if(this.vels)for(var a=0;a<this.accs.length;a++)this.accs[a].x&&(this.vels[a].x+=this.accs[a].x),this.accs[a].y&&(this.vels[a].y+=this.accs[a].y)},iio.Shape.prototype.update_shrink=function(){return this.shrink.speed?this._shrink(this.shrink.speed,this.shrink.callback):this._shrink(this.shrink)},iio.Shape.prototype.update_fade=function(){return this.fade.speed?this._fade(this.fade.speed,this.fade.callback):this._fade(this.fade)},iio.Shape.prototype.past_bounds=function(){return this.bounds.right&&this.over_upper_limit(this.bounds.right,this.right(),this)?!0:this.bounds.left&&this.below_lower_limit(this.bounds.left,this.left(),this)?!0:this.bounds.top&&this.below_lower_limit(this.bounds.top,this.top(),this)?!0:this.bounds.bottom&&this.over_upper_limit(this.bounds.bottom,this.bottom(),this)?!0:this.bounds.rightRotation&&this.over_upper_limit(this.bounds.rightRotation,this.rotation,this)?!0:this.bounds.leftRotation&&this.below_lower_limit(this.bounds.leftRotation,this.rotation,this)?!0:!1},iio.Shape.prototype.update_properties_deprecated=function(){if(o.simple&&(o.bbx instanceof Array?o.bbx[1]=o.bbx[0]:o.bbx=[o.bbx,o.bbx]),o.anims&&(o.animKey=0,o.animFrame=0,o.width||(o.width=o.anims[o.animKey].frames[o.animFrame].w),o.height||(o.height=o.anims[o.animKey].frames[o.animFrame].h)),o.bezier&&o.bezier.forEach(function(a,b){"n"===a&&(o.bezier[b]=void 0)}),o.img&&iio.is.string(o.img)){nd=!1;var a=o.img;o.img=new Image,o.img.src=a,o.img.parent=o,("undefined"==typeof o.width&&"undefined"==typeof o.radius||0==o.radius)&&(o.img.onload=function(a){0==o.radius?o.radius=o.width/2:(o.width=o.width||0,o.height=o.height||0),nd||o.app.draw()})}else o.img&&("undefined"==typeof o.width&&"undefined"==typeof o.radius||0==o.radius)&&(0==o.radius?o.radius=o.img.width/2:(o.width=o.img.width||0,o.height=o.img.height||0),nd||o.app.draw())},iio.Shape.prototype.playAnim=function(a,b,c,d,e){if(iio.is.string(b)){var f=this;this.anims.some(function(a,c){return a.tag==b?(f.animKey=c,f.width=a.frames[f.animFrame].w,f.height=a.frames[f.animFrame].h,!0):!1})}else c=b;this.animFrame=e||0,"undefined"!=typeof c&&(this.repeat=c,this.onanimstop=d);var g;return a>0?g=this.loop(a,iio.anim.next):0>a?g=this.loop(-1*a,iio.anim.prev):this.app.draw(),g},iio.Shape.prototype.nextFrame=function(a){if(a.animFrame++,a.animFrame>=a.anims[a.animKey].frames.length&&(a.animFrame=0,"undefined"!=typeof a.repeat)){if(a.repeat<=1)return window.cancelAnimationFrame(id),window.clearTimeout(id),void(a.onanimstop&&a.onanimstop(id,a));a.repeat--}},iio.Shape.prototype.prevFrame=function(a){a.animFrame--,a.animFrame<0&&(a.animFrame=a.anims[a.animKey].frames.length-1),a.app.draw()},iio.Shape.prototype._shrink=function(a,b){return this.width*=1-a,this.height*=1-a,this.width<.02||this.width<this.shrink.lowerBound||this.width>this.shrink.upperBound?b?b(this):!0:void 0},iio.Shape.prototype._fade=function(a,b){return this.alpha*=1-a,this.alpha<a||this.alpha>1-a||this.alpha>this.fade.upperBound||this.alpha<this.fade.lowerBound?(this.alpha>1?this.alpha=1:this.alpha<0&&(this.alpha=0),b?b(this):!0):void 0},iio.Shape.prototype.orient_ctx=function(a){return a=a||this.app.ctx,a.save(),this.pos&&a.translate(this.pos.x,this.pos.y),this.rotation&&(this.origin&&a.translate(this.origin.x,this.origin.y),a.rotate(this.rotation),this.origin&&a.translate(-this.origin.x,-this.origin.y)),this.flip&&(this.flip.indexOf("x")>-1&&a.scale(-1,1),this.flip.indexOf("y")>-1&&a.scale(1,-1)),a},iio.Shape.prototype.prep_ctx_color=function(a){return this.color instanceof iio.Gradient?a.fillStyle=this.color.canvasGradient(a):a.fillStyle=this.color.rgbaString(),a},iio.Shape.prototype.prep_ctx_outline=function(a){return this.outline instanceof iio.Gradient?a.strokeStyle=this.outline.canvasGradient(a):a.strokeStyle=this.outline.rgbaString(),a},iio.Shape.prototype.prep_ctx_lineWidth=function(a){return a.lineWidth=this.lineWidth||1,a},iio.Shape.prototype.prep_ctx_shadow=function(a){return a.shadowColor=this.shadow.rgbaString(),this.shadowBlur&&(a.shadowBlur=this.shadowBlur),this.shadowOffset?(a.shadowOffsetX=this.shadowOffset.x,a.shadowOffsetY=this.shadowOffset.y):(a.shadowOffsetX=5,a.shadowOffsetY=5),a},iio.Shape.prototype.prep_ctx_dash=function(a){return this.dashOffset&&(a.lineDashOffset=this.dashOffset),a.setLineDash(this.dash),a},iio.Shape.prototype.finish_path_shape=function(a){this.color&&a.fill(),this.img&&a.drawImage(this.img,-this.width/2,-this.height/2,this.width,this.height),this.outline&&a.stroke(),this.clip&&a.clip()},iio.Shape.prototype.draw_obj=function(a){a.save(),this.alpha&&(a.globalAlpha=this.alpha),this.lineCap&&(a.lineCap=this.lineCap),this.shadow&&(a=this.prep_ctx_shadow(a)),this.dash&&(a=this.prep_ctx_dash(a)),this.color&&(a=this.prep_ctx_color(a)),this.outline&&(a=this.prep_ctx_outline(a),a=this.prep_ctx_lineWidth(a)),this.draw_shape&&this.draw_shape(a),a.restore()},iio.Shape.prototype.draw=function(a){if(!this.hidden){if(a=this.orient_ctx(a),this.objs&&this.objs.length>0){for(var b=!1,c=0;c<this.objs.length;c++)!b&&this.objs[c].z>=this.z&&(this.draw_obj(a),b=!0),this.objs[c].draw&&this.objs[c].draw(a);b||this.draw_obj(a)}else this.draw_obj(a);a.restore()}},iio.Shape.prototype.draw_line=function(a,b,c,d,e){a.beginPath(),a.moveTo(x,y),a.lineTo(b,c),a.stroke()},iio.Line=function(){this.Line.apply(this,arguments)},iio.inherit(iio.Line,iio.Shape),iio.Line.prototype._super=iio.Shape.prototype,iio.Line.prototype.Line=function(){this._super.Shape.call(this,iio.merge_args(arguments))},iio.Line.prototype.contains=function(a,b){if("undefined"!=typeof b&&(a={x:a,y:b}),iio.is.between(a.x,this.pos.x,this.vs[1].x)&&iio.is.between(a.y,this.vs[0].y,this.vs[1].y)){var c=(this.vs[1].y-this.vs[0].y)/(this.vs[1].x-this.vs[0].x);if(!isFinite(c))return!0;var b=c*(this.vs[1].x-this.vs[0].x)+this.vs[0].y;if(b==a.y)return!0}return!1},iio.Line.prototype.prep_ctx_color=function(a){return this.color instanceof iio.Gradient?a.strokeStyle=this.color.canvasGradient(a):a.strokeStyle=this.color.rgbaString(),a=this.prep_ctx_lineWidth(a)},iio.Line.prototype.prep_ctx_lineWidth=function(a){return a.lineWidth=this.width||1,a},iio.Line.prototype.draw_shape=function(a){a.beginPath(),a.moveTo(this.vs[0].x,this.vs[0].y),this.bezier?a.bezierCurveTo(this.bezier[0].x,this.bezier[0].y,this.bezier[1].x,this.bezier[1].y,this.vs[1].x,this.vs[1].y):a.lineTo(this.vs[1].x,this.vs[1].y),a.stroke()},iio.Polygon=function(){this.Polygon.apply(this,arguments)},iio.inherit(iio.Polygon,iio.Shape),iio.Polygon.prototype._super=iio.Shape.prototype,iio.Polygon.prototype.Polygon=function(){this._super.Shape.call(this,iio.merge_args(arguments))},iio.Polygon.prototype.draw_shape=function(a){if(a.beginPath(),a.moveTo(this.vs[0].x,this.vs[0].y),this.bezier){for(var b=0,c=1;c<this.vs.length;c++)a["this"].bezierCurveTo(this.bezier[b++]||this.vs[c-1].x,this.bezier[b++]||this.vs[c-1].y,this.bezier[b++]||this.vs[c].x,this.bezier[b++]||this.vs[c].y,this.vs[c].x,this.vs[c].y);this.open||(c--,a["this"].bezierCurveTo(this.bezier[b++]||this.vs[c].x,this.bezier[b++]||this.vs[c].y,this.bezier[b++]||0,this.bezier[b++]||0,0,0))}else for(var c=1;c<this.vs.length;c++)a.lineTo(this.vs[c].x,this.vs[c].y);"undefined"!=typeof this.open&&this.open||a.closePath(),this.finish_path_shape(a)},iio.Polygon.prototype.contains=function(a,b){b=a.y||b,a=a.x||a;var d=j=c=0,e=this.vs;for(this.rotation&&(e=this.globalVs()),d=0,j=e.length-1;d<e.length;j=d++)e[d].y>b!=e[j].y>b&&a<(e[j].x-e[d].x)*(b-e[d].y)/(e[j].y-e[d].y)+e[d].x&&(c=!c);return c},iio.Polygon.prototype.globalVs=function(){for(var a,b,c=[],d=0;d<this.vs.length;d++){a=this.vs[d].x,b=this.vs[d].y;var e=iio.point.rotate(a,b,this.rotation);e.x+=this.pos.x,e.y+=this.pos.y,c[d]=e}return c},iio.Polygon.prototype.size=function(){return this.right()-this.left()},iio.Polygon.prototype.left=function(){return iio.specVec(this.globalVs(),function(a,b){return a.x>b.x?!0:!1}).x},iio.Polygon.prototype.right=function(){return iio.specVec(this.globalVs(),function(a,b){return a.x<b.x?!0:!1}).x},iio.Polygon.prototype.top=function(){return iio.specVec(this.globalVs(),function(a,b){return a.y>b.y?!0:!1}).y},iio.Polygon.prototype.bottom=function(){return iio.specVec(this.globalVs(),function(a,b){return a.y<b.y?!0:!1}).y},iio.Rectangle=function(){this.Rectangle.apply(this,arguments)},iio.inherit(iio.Rectangle,iio.Shape),iio.Rectangle.prototype._super=iio.Shape.prototype,iio.Rectangle.prototype.Rectangle=function(){this._super.Shape.call(this,iio.merge_args(arguments)),this.height=this.height||this.width},iio.Rectangle.prototype.contains=function(a,b){return this.rot?iio.poly.contains(a,b):(b=a.y||b,a=a.x||a,a-=this.pos.x,b-=this.pos.y,a>-this.width/2&&a<this.width/2&&b>-this.width/2&&b<this.width/2?!0:!1)},iio.Rectangle.prototype.real_vertices=function(){return this.vs=[{x:this.left,y:this.top},{x:this.right,y:this.top},{x:this.right,y:this.bottom},{x:this.left,
y:this.bottom}],this.vs.map(function(a){var b=iio.point.rotate(a.x-this.pos.x,a.y-this.pos.y,this.rot);return b.x+=this.pos.x,b.y+=this.pos.y,b},this)},iio.Rectangle.prototype.size=function(){return this.width},iio.Rectangle.prototype.setSize=function(a,b){this.width=a,this.height=b},iio.Rectangle.prototype.left=function(){return this.pos.x-this.width/2},iio.Rectangle.prototype.right=function(){return this.pos.x+this.width/2},iio.Rectangle.prototype.top=function(){return this.pos.y-this.height/2},iio.Rectangle.prototype.bottom=function(){return this.pos.y+this.height/2},iio.Rectangle.prototype.draw_rounded=function(a){a.beginPath(),a.moveTo(this.round[0],0),a.lineTo(this.width-this.round[1],0),a.quadraticCurveTo(this.width,0,this.width,this.round[1]),a.lineTo(this.width,this.height-this.round[2]),a.quadraticCurveTo(this.width,this.height,this.width-this.round[2],this.height),a.lineTo(this.round[3],this.height),a.quadraticCurveTo(0,this.height,0,this.height-this.round[3]),a.lineTo(0,this.round[0]),a.quadraticCurveTo(0,0,this.round[0],0),a.closePath(),a.stroke(),a.fill(),a.clip()},iio.Rectangle.prototype.draw_shape=function(a){a.translate(-this.width/2,-this.height/2),this.bezier?(iio.draw.poly(a,this.getTrueVertices(),this.bezier),this.finish_path_shape(a)):this.round?this.draw_rounded(a):(this.color&&a.fillRect(0,0,this.width,this.height),this.img&&a.drawImage(this.img,0,0,this.width,this.height),this.anims&&a.drawImage(this.anims[this.animKey].frames[this.animFrame].src,this.anims[this.animKey].frames[this.animFrame].x,this.anims[this.animKey].frames[this.animFrame].y,this.anims[this.animKey].frames[this.animFrame].w,this.anims[this.animKey].frames[this.animFrame].h,0,0,this.width,this.height),this.outline&&a.strokeRect(0,0,this.width,this.height))},iio.Grid=function(){this.Grid.apply(this,arguments)},iio.inherit(iio.Grid,iio.Rectangle),iio.Grid.prototype._super=iio.Rectangle.prototype,iio.Grid.prototype.Grid=function(){this._super.Rectangle.call(this,iio.merge_args(arguments)),this.res=this.res||new iio.Vector(this.width/this.C,this.height/this.R),this.width=this.width||this.C*this.res.x,this.height=this.height||this.R*this.res.y,this.init_cells()},iio.Grid.prototype.init_cells=function(){this.cells=[];for(var a=-this.res.x*(this.C-1)/2,b=-this.res.y*(this.R-1)/2,c=0;c<this.C;c++){this.cells[c]=[];for(var d=0;d<this.R;d++)this.cells[c][d]=this.add(new iio.Rectangle({pos:new iio.Vector(a,b),c:c,r:d,width:this.res.x,height:this.res.y})),b+=this.res.y;b=-this.res.y*(this.R-1)/2,a+=this.res.x}},iio.Grid.prototype.infer_res=function(){this.res.x=this.width/this.C,this.res.y=this.height/this.R},iio.Grid.prototype.clear=function(a){this.objs=[],this.init_cells(),a||this.app.draw()},iio.Grid.prototype.cellCenter=function(a,b){return{x:-this.width/2+a*this.res.x+this.res.x/2,y:-this.height/2+b*this.res.y+this.res.y/2}},iio.Grid.prototype.cellAt=function(a,b){return a.x?this.cells[Math.floor((a.x-this.left())/this.res.x)][Math.floor((a.y-this.top())/this.res.y)]:this.cells[Math.floor((a-this.left())/this.res.x)][Math.floor((b-this.top())/this.res.y)]},iio.Grid.prototype.foreachCell=function(a,b){for(var c=0;c<this.C;c++)for(var d=0;d<this.R;d++)if(a(this.cells[c][d],b)===!1)return[d,c]},iio.Grid.prototype.setSize=function(a,b){this.width=a,this.height=b,this.infer_res()},iio.Grid.prototype._shrink=function(a,b){return this.setSize(this.width*(1-a),this.height*(1-a)),this.width<.02||this.width<this.shrink.lowerBound||this.width>this.shrink.upperBound?b?b(this):!0:void 0},iio.Grid.prototype.prep_ctx_color=iio.Line.prototype.prep_ctx_color,iio.Grid.prototype.draw_shape=function(a){if(this.color){for(var b=1;b<this.C;b++)iio.draw.line(a,-this.width/2+b*this.res.x,-this.height/2,-this.width/2+b*this.res.x,this.height/2);for(var c=1;c<this.R;c++)iio.draw.line(a,-this.width/2,-this.height/2+c*this.res.y,this.width/2,-this.height/2+c*this.res.y)}},iio.Ellipse=function(){this.Ellipse.apply(this,arguments)},iio.inherit(iio.Ellipse,iio.Shape),iio.Ellipse.prototype._super=iio.Shape.prototype,iio.Ellipse.prototype.Ellipse=function(){this._super.Shape.call(this,iio.merge_args(arguments))},iio.Ellipse.prototype.draw_shape=function(a){a.beginPath(),void 0!==this.vRadius?a.ellipse?a.ellipse(0,0,this.radius,this.vRadius,0,0,2*Math.PI,!1):(a.save(),a.translate(-this.radius,-this.vRadius),a.scale(this.radius,this.vRadius),a.arc(1,1,1,0,2*Math.PI,!1),a.restore()):a.arc(0,0,this.radius,0,2*Math.PI,!1),this.color&&a.fill(),this.outline&&a.stroke(),this.clip&&a.clip(),this.img&&a.drawImage(this.img,-this.radius,-this.radius,2*this.radius,2*this.radius)},iio.Ellipse.prototype.contains=function(a,b){return"undefined"!=typeof b&&(a={x:a,y:b}),iio.Vector.dist(a,this.pos)<this.radius?!0:(this.rotation&&(a.x-=this.pos.x,a.y-=this.pos.y,a=iio.rotatePoint(a.x,a.y,-this.rotation),a.x+=this.pos.x,a.y+=this.pos.y),Math.pow(a.x-this.pos.x,2)/Math.pow(this.radius,2)+Math.pow(a.y-this.pos.y,2)/Math.pow(this.vRadius,2)<=1?!0:!1)},iio.Ellipse.prototype.size=function(){return this.radius},iio.Ellipse.prototype.setSize=function(a){this.radius=a/2},iio.Ellipse.prototype.left=function(){return this.pos.x-this.radius},iio.Ellipse.prototype.right=function(){return this.pos.x+this.radius},iio.Ellipse.prototype.top=function(){return this.pos.y-this.vRadius},iio.Ellipse.prototype.bottom=function(){return this.pos.y+this.vRadius},iio.Ellipse.prototype._shrink=function(a,b){return this.radius*=1-a,this.vRadius&&(this.vRadius*=1-a),this.radius<.02||this.radius<this.shrink.lowerBound||this.radius>this.shrink.upperBound?b?b(this):!0:void 0},iio.Text=function(){this.Text.apply(this,arguments)},iio.inherit(iio.Text,iio.Shape),iio.Text.prototype._super=iio.Shape.prototype,iio.Text.prototype.Text=function(){this._super.Shape.call(this,iio.merge_args(arguments)),this.size=this.size||40,this.outline||(this.color=this.color||new iio.Color),this.font=this.font||"Arial",this.align=this.align||"center"},iio.Text.getFontHeight=function(a){var b=$("<span>Hg</span>").css({fontFamily:a}),c=$('<div style="display: inline-block; width: 1px; height: 0px;"></div>'),d=$("<div></div>");d.append(b,c);var e=$("body");e.append(d);try{var f={};c.css({verticalAlign:"baseline"}),f.ascent=c.offset().top-b.offset().top,c.css({verticalAlign:"bottom"}),f.height=c.offset().top-b.offset().top,f.descent=f.height-f.ascent}finally{d.remove()}return f},iio.Text.prototype.inferSize=function(a){this.ctx=a||this.ctx,this.app.ctx.font=this.size+"px "+this.font,this.width=this.app.ctx.measureText(this.text).width,this.height=this.app.ctx.measureText("H").width},iio.Text.prototype.left=function(){return this.pos.x-this.width/2},iio.Text.prototype.right=function(){return this.pos.x+this.width/2},iio.Text.prototype.top=function(){return this.pos.y-this.height/2},iio.Text.prototype.bottom=function(){return this.pos.y+this.height/2},iio.Text.prototype._shrink=function(a,b){return this.size*=1-a,this.inferSize(),this.size<.02||this.size<this.shrink.lowerBound||this.size>this.shrink.upperBound?b?b(this):!0:void 0},iio.Text.prototype.draw_shape=function(a){a.translate(0,this.height/2),a.font=this.size+"px "+this.font,a.textAlign=this.align,this.color&&a.fillText(this.text,0,0),this.outline&&a.strokeText(this.text,0,0),this.showCursor&&(this.cursor.pos.x=this.cursor.endPos.x=this.getX(this.cursor.index))},iio.Text.prototype.contains=function(a,b){return"undefined"==typeof b&&(b=a.y,a=a.x),a-=this.pos.x,b-=this.pos.y,("undefined"==typeof this.align||"left"==this.align)&&a>0&&a<this.width&&0>b&&b>-this.height?!0:"center"==this.align&&a>-this.width/2&&a<this.width/2&&0>b&&b>-this.height?!0:("right"==this.align||"end"==this.align)&&a>-this.width&&0>a&&0>b&&b>-this.height?!0:!1},iio.Text.prototype.charWidth=function(a){return a=a||0,this.app.ctx.font=this.size+"px "+this.font,this.app.ctx.measureText(this.text.charAt(a)).width},iio.Text.prototype.getX=function(a){if(this.app.ctx.font=this.size+"px "+this.font,"undefined"==typeof this.align||"left"==this.align)return this.app.ctx.measureText(this.text.substring(0,a)).width;if("right"==this.align||"end"==this.align)return-this.app.ctx.measureText(this.text.substring(0,this.text.length-a)).width;if("center"==this.align){var b=-Math.floor(this.app.ctx.measureText(this.text).width/2);return b+this.app.ctx.measureText(this.text.substring(0,a)).width}},iio.Text.prototype.keyUp=function(a){"shift"==a&&(this.cursor.shift=!1)},iio.Text.prototype.keyDown=function(a,b,c,d){iio.is.number(b)||(d=b,b=this.cursor.index);var e,f=this.text.substring(0,b),g=this.text.substring(b);return"undefined"!=typeof d&&(e=d(a,c,f,g),0!=e)?(this.text=f+e+g,this.cursor.index=b+1,this.showCursor&&(this.cursor.hidden=!1),this.app.draw(),this.cursor.index):(a.length>1?"space"==a?(this.text=f+" "+g,b++):"backspace"==a&&b>0?(this.text=f.substring(0,f.length-1)+g,b--):"delete"==a&&b<this.text.length?this.text=f+g.substring(1):"left arrow"==a&&b>0?b--:"right arrow"==a&&b<this.text.length?b++:"shift"==a?this.cursor.shift=!0:"semi-colon"==a?(c?this.text=f+":"+g:this.text=f+";"+g,b++):"equal"==a?(c?this.text=f+"+"+g:this.text=f+"="+g,b++):"comma"==a?(c?this.text=f+"<"+g:this.text=f+","+g,b++):"dash"==a?(c?this.text=f+"_"+g:this.text=f+"-"+g,b++):"period"==a?(c?this.text=f+">"+g:this.text=f+"."+g,b++):"forward slash"==a?(c?this.text=f+"?"+g:this.text=f+"/"+g,b++):"grave accent"==a?(c?this.text=f+"~"+g:this.text=f+"`"+g,b++):"open bracket"==a?(c?this.text=f+"{"+g:this.text=f+"["+g,b++):"back slash"==a?(c?this.text=f+"|"+g:this.text=f+"/"+g,b++):"close bracket"==a?(c?this.text=f+"}"+g:this.text=f+"]"+g,b++):"single quote"==a&&(c?this.text=f+'"'+g:this.text=f+"'"+g,b++):(c||this.cursor.shift?this.text=f+a.charAt(0).toUpperCase()+g:this.text=f+a+g,b++),this.showCursor&&(this.cursor.hidden=!1),this.cursor.index=b,this.app.draw(),b)},iio.App=function(){this.App.apply(this,arguments)},iio.inherit(iio.App,iio.Drawable),iio.App.prototype._super=iio.Drawable.prototype,iio.App.prototype.App=function(a,b,c){this._super.Drawable.call(this),this.app=this,this.canvas=a,this.ctx=a.getContext("2d"),this.canvas.parent=this,iio.canvas.prep_input(this.canvas),this.width=a.clientWidth||a.width,this.height=a.clientHeight||a.height,this.center=new iio.Vector(this.width/2,this.height/2),this.update_pos(),iio.apps.push(this),this.script=new b(this,c)},iio.App.prototype.update=function(){var a;return this.script.onUpdate&&(a=this.script.onUpdate()),this.draw(),a},iio.App.prototype.update_pos=function(){var a=this.canvas.getBoundingClientRect();this.pos=new iio.Vector(a.left,a.top)},iio.App.prototype.stop=function(){this.objs.forEach(function(a){iio.cancelLoops(a)}),iio.cancelLoops(this),this.mainLoop&&iio.cancelLoop(this.mainLoop.id),this.clear()},iio.App.prototype.draw=function(a){if(a||this.ctx.clearRect(0,0,this.width,this.height),this.color&&(this.ctx.fillStyle=this.color.rgbaString(),this.ctx.fillRect(0,0,this.width,this.height)),this.objs.length>0)for(var b=0;b<this.objs.length;b++)this.objs[b].draw&&this.objs[b].draw(this.ctx)},iio.App.prototype.convert_event_pos=function(a){return this.update_pos(),new iio.Vector(a.clientX-this.pos.x,a.clientY-this.pos.y)},iio.audioCtx=new(window.AudioContext||window.webkitAudioContext),iio.Sound=function(){this.Sound.apply(this,arguments)},iio.inherit(iio.Sound,iio.Interface),iio.Sound.prototype._super=iio.Interface.prototype,iio.Sound.prototype.Sound=function(a,b,c){var d=this;this.gainNode=iio.audioCtx.createGain(),this.gainNode.connect(iio.audioCtx.destination);var e=new XMLHttpRequest;e.open("GET",a,!0),e.responseType="arraybuffer",e.onload=function(){iio.audioCtx.decodeAudioData(e.response,function(a){d.buffer=a,b&&b(d,a)},c)},e.onerror=c,e.send()},iio.Sound.prototype.play=function(a,b){if(b&&this.set(b),void 0!==this.buffer){var c=iio.audioCtx.createBufferSource();c.buffer=this.buffer,this.loop&&(c.loop=!0),this.gain&&(this.gainNode.gain.value=this.gain),c.connect(this.gainNode),c.start(a||0)}},iio.loadSound=function(a,b,c){var d=new iio.Sound(a,b,c);return d},iio.loadImage=function(a,b,c){var d=new Image;return d.onload=b,d.onerror=c,d.src=a,d},iio.Loader=function(a){this.basePath=(a||".")+"/"},iio.Loader.prototype.load=function(a,b){var c=a.length||Object.keys(a).length,d=0,e={},f=function(){d++,console.log(d),d==c&&b(e)},g=function(a,b,c){var d,g=c||a,h=this.basePath+a;if(iio.is.image(h))d=iio.loadImage;else{if(!iio.is.sound(h))return;d=iio.loadSound}var i=d(h,function(){b?e[g]=postloadProcess(i):e[g]=i,console.log("success"),f()},f)}.bind(this);if(iio.is.string(a))g(a);else if(a instanceof Array)a.forEach(function(a){iio.is.string(a)?g(a):a.name&&g(a.name,a.callback,a.id)});else if(a.name)g(a.name,a.callback);else for(var h in a)if(a.hasOwnProperty(h)){var i=a[h];iio.is.string(i)?g(i,null,h):i.name?g(i.name,i.callback,h):g(h,i.callback,i.id)}return e},function(root){var CoffeeScript=function(){function require(a){return require[a]}return require["./helpers"]=function(){var a={},b={exports:a};return function(){var b,c,d,e,f,g;a.starts=function(a,b,c){return b===a.substr(c,b.length)},a.ends=function(a,b,c){var d;return d=b.length,b===a.substr(a.length-d-(c||0),d)},a.repeat=f=function(a,b){var c;for(c="";b>0;)1&b&&(c+=a),b>>>=1,a+=a;return c},a.compact=function(a){var b,c,d,e;for(e=[],b=0,d=a.length;d>b;b++)c=a[b],c&&e.push(c);return e},a.count=function(a,b){var c,d;if(c=d=0,!b.length)return 1/0;for(;d=1+a.indexOf(b,d);)c++;return c},a.merge=function(a,b){return c(c({},a),b)},c=a.extend=function(a,b){var c,d;for(c in b)d=b[c],a[c]=d;return a},a.flatten=d=function(a){var b,c,e,f;for(c=[],e=0,f=a.length;f>e;e++)b=a[e],b instanceof Array?c=c.concat(d(b)):c.push(b);return c},a.del=function(a,b){var c;return c=a[b],delete a[b],c},a.some=null!=(e=Array.prototype.some)?e:function(a){var b,c,d;for(c=0,d=this.length;d>c;c++)if(b=this[c],a(b))return!0;return!1},a.invertLiterate=function(a){var b,c,d;return d=!0,c=function(){var c,e,f,g;for(f=a.split("\n"),g=[],c=0,e=f.length;e>c;c++)b=f[c],d&&/^([ ]{4}|[ ]{0,3}\t)/.test(b)?g.push(b):(d=/^\s*$/.test(b))?g.push(b):g.push("# "+b);return g}(),c.join("\n")},b=function(a,b){return b?{first_line:a.first_line,first_column:a.first_column,last_line:b.last_line,last_column:b.last_column}:a},a.addLocationDataFn=function(a,c){return function(d){return"object"==typeof d&&d.updateLocationDataIfMissing&&d.updateLocationDataIfMissing(b(a,c)),d}},a.locationDataToString=function(a){var b;return"2"in a&&"first_line"in a[2]?b=a[2]:"first_line"in a&&(b=a),b?b.first_line+1+":"+(b.first_column+1)+"-"+(b.last_line+1+":"+(b.last_column+1)):"No location data"},a.baseFileName=function(a,b,c){var d,e;return null==b&&(b=!1),null==c&&(c=!1),e=c?/\\|\//:/\//,d=a.split(e),a=d[d.length-1],b&&a.indexOf(".")>=0?(d=a.split("."),d.pop(),"coffee"===d[d.length-1]&&d.length>1&&d.pop(),d.join(".")):a},a.isCoffee=function(a){return/\.((lit)?coffee|coffee\.md)$/.test(a)},a.isLiterate=function(a){return/\.(litcoffee|coffee\.md)$/.test(a)},a.throwSyntaxError=function(a,b){var c;throw c=new SyntaxError(a),c.location=b,c.toString=g,c.stack=""+c,c},a.updateSyntaxError=function(a,b,c){return a.toString===g&&(a.code||(a.code=b),a.filename||(a.filename=c),a.stack=""+a),a},g=function(){var a,b,c,d,e,g,h,i,j,k,l,m,n;return this.code&&this.location?(l=this.location,h=l.first_line,g=l.first_column,j=l.last_line,i=l.last_column,null==j&&(j=h),null==i&&(i=g),e=this.filename||"[stdin]",a=this.code.split("\n")[h],n=g,d=h===j?i+1:a.length,k=a.slice(0,n).replace(/[^\s]/g," ")+f("^",d-n),"undefined"!=typeof process&&null!==process&&(c=process.stdout.isTTY&&!process.env.NODE_DISABLE_COLORS),(null!=(m=this.colorful)?m:c)&&(b=function(a){return"[1;31m"+a+"[0m"},a=a.slice(0,n)+b(a.slice(n,d))+a.slice(d),k=b(k)),e+":"+(h+1)+":"+(g+1)+": error: "+this.message+"\n"+a+"\n"+k):Error.prototype.toString.call(this)},a.nameWhitespaceCharacter=function(a){switch(a){case" ":return"space";case"\n":return"newline";case"\r":return"carriage return";case"	":return"tab";default:return a}}}.call(this),b.exports}(),require["./rewriter"]=function(){var a={},b={exports:a};return function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},v=[].slice;for(o=function(a,b,c){var d;return d=[a,b],d.generated=!0,c&&(d.origin=c),d},a.Rewriter=function(){function a(){}return a.prototype.rewrite=function(a){return this.tokens=a,this.removeLeadingNewlines(),this.closeOpenCalls(),this.closeOpenIndexes(),this.normalizeLines(),this.tagPostfixConditionals(),this.addImplicitBracesAndParens(),this.addLocationDataToGeneratedTokens(),this.tokens},a.prototype.scanTokens=function(a){var b,c,d;for(d=this.tokens,b=0;c=d[b];)b+=a.call(this,c,b,d);return!0},a.prototype.detectEnd=function(a,b,c){var d,g,h,i,j;for(j=this.tokens,d=0;i=j[a];){if(0===d&&b.call(this,i,a))return c.call(this,i,a);if(!i||0>d)return c.call(this,i,a-1);g=i[0],u.call(f,g)>=0?d+=1:(h=i[0],u.call(e,h)>=0&&(d-=1)),a+=1}return a-1},a.prototype.removeLeadingNewlines=function(){var a,b,c,d,e;for(d=this.tokens,a=b=0,c=d.length;c>b&&(e=d[a][0],"TERMINATOR"===e);a=++b);return a?this.tokens.splice(0,a):void 0},a.prototype.closeOpenCalls=function(){var a,b;return b=function(a,b){var c;return")"===(c=a[0])||"CALL_END"===c||"OUTDENT"===a[0]&&")"===this.tag(b-1)},a=function(a,b){return this.tokens["OUTDENT"===a[0]?b-1:b][0]="CALL_END"},this.scanTokens(function(c,d){return"CALL_START"===c[0]&&this.detectEnd(d+1,b,a),1})},a.prototype.closeOpenIndexes=function(){var a,b;return b=function(a){var b;return"]"===(b=a[0])||"INDEX_END"===b},a=function(a){return a[0]="INDEX_END"},this.scanTokens(function(c,d){return"INDEX_START"===c[0]&&this.detectEnd(d+1,b,a),1})},a.prototype.indexOfTag=function(){var a,b,c,d,e,f,g;for(b=arguments[0],e=arguments.length>=2?v.call(arguments,1):[],a=0,c=d=0,f=e.length;f>=0?f>d:d>f;c=f>=0?++d:--d){for(;"HERECOMMENT"===this.tag(b+c+a);)a+=2;if(null!=e[c]&&("string"==typeof e[c]&&(e[c]=[e[c]]),g=this.tag(b+c+a),0>u.call(e[c],g)))return-1}return b+c+a-1},a.prototype.looksObjectish=function(a){var b,c;return this.indexOfTag(a,"@",null,":")>-1||this.indexOfTag(a,null,":")>-1?!0:(c=this.indexOfTag(a,f),c>-1&&(b=null,this.detectEnd(c+1,function(a){var b;return b=a[0],u.call(e,b)>=0},function(a,c){return b=c}),":"===this.tag(b+1))?!0:!1)},a.prototype.findTagsBackwards=function(a,b){var c,d,g,h,i,j,k;for(c=[];a>=0&&(c.length||(h=this.tag(a),0>u.call(b,h)&&(i=this.tag(a),0>u.call(f,i)||this.tokens[a].generated)&&(j=this.tag(a),0>u.call(l,j))));)d=this.tag(a),u.call(e,d)>=0&&c.push(this.tag(a)),g=this.tag(a),u.call(f,g)>=0&&c.length&&c.pop(),a-=1;return k=this.tag(a),u.call(b,k)>=0},a.prototype.addImplicitBracesAndParens=function(){var a,b;return a=[],b=null,this.scanTokens(function(d,k,m){var n,p,q,r,s,t,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q;if(Q=d[0],z=(A=k>0?m[k-1]:[])[0],x=(m.length-1>k?m[k+1]:[])[0],L=function(){return a[a.length-1]},M=k,q=function(a){return k-M+a},r=function(){var a,b;return null!=(a=L())&&null!=(b=a[2])?b.ours:void 0},s=function(){var a;return r()&&"("===(null!=(a=L())?a[0]:void 0)},v=function(){var a;return r()&&"{"===(null!=(a=L())?a[0]:void 0)},t=function(){var a;return r&&"CONTROL"===(null!=(a=L())?a[0]:void 0)},N=function(b){var c;return c=null!=b?b:k,a.push(["(",c,{ours:!0}]),m.splice(c,0,o("CALL_START","(")),null==b?k+=1:void 0},n=function(){return a.pop(),m.splice(k,0,o("CALL_END",")",["","end of input",d[2]])),k+=1},O=function(b,c){var e,f;return null==c&&(c=!0),e=null!=b?b:k,a.push(["{",e,{sameLine:!0,startsLine:c,ours:!0}]),f=new String("{"),f.generated=!0,m.splice(e,0,o("{",f,d)),null==b?k+=1:void 0},p=function(b){return b=null!=b?b:k,a.pop(),m.splice(b,0,o("}","}",d)),k+=1},s()&&("IF"===Q||"TRY"===Q||"FINALLY"===Q||"CATCH"===Q||"CLASS"===Q||"SWITCH"===Q))return a.push(["CONTROL",k,{ours:!0}]),q(1);if("INDENT"===Q&&r()){if("=>"!==z&&"->"!==z&&"["!==z&&"("!==z&&","!==z&&"{"!==z&&"TRY"!==z&&"ELSE"!==z&&"="!==z)for(;s();)n();return t()&&a.pop(),a.push([Q,k]),q(1)}if(u.call(f,Q)>=0)return a.push([Q,k]),q(1);if(u.call(e,Q)>=0){for(;r();)s()?n():v()?p():a.pop();b=a.pop()}if((u.call(i,Q)>=0&&d.spaced||"?"===Q&&k>0&&!m[k-1].spaced)&&(u.call(g,x)>=0||u.call(j,x)>=0&&!(null!=(B=m[k+1])?B.spaced:void 0)&&!(null!=(C=m[k+1])?C.newLine:void 0)))return"?"===Q&&(Q=d[0]="FUNC_EXIST"),N(k+1),q(2);if(u.call(i,Q)>=0&&this.indexOfTag(k+1,"INDENT",null,":")>-1&&!this.findTagsBackwards(k,["CLASS","EXTENDS","IF","CATCH","SWITCH","LEADING_WHEN","FOR","WHILE","UNTIL"]))return N(k+1),a.push(["INDENT",k+2]),q(3);if(":"===Q){for(H=function(){var a;switch(!1){case a=this.tag(k-1),0>u.call(e,a):return b[1];case"@"!==this.tag(k-2):return k-2;default:return k-1}}.call(this);"HERECOMMENT"===this.tag(H-2);)H-=2;return this.insideForDeclaration="FOR"===x,P=0===H||(D=this.tag(H-1),u.call(l,D)>=0)||m[H-1].newLine,L()&&(E=L(),K=E[0],J=E[1],("{"===K||"INDENT"===K&&"{"===this.tag(J-1))&&(P||","===this.tag(H-1)||"{"===this.tag(H-1)))?q(1):(O(H,!!P),q(2))}if(v()&&u.call(l,Q)>=0&&(L()[2].sameLine=!1),w="OUTDENT"===z||A.newLine,u.call(h,Q)>=0||u.call(c,Q)>=0&&w)for(;r();)if(F=L(),K=F[0],J=F[1],G=F[2],I=G.sameLine,P=G.startsLine,s()&&","!==z)n();else if(v()&&!this.insideForDeclaration&&I&&"TERMINATOR"!==Q&&":"!==z)p();else{if(!v()||"TERMINATOR"!==Q||","===z||P&&this.looksObjectish(k+1))break;if("HERECOMMENT"===x)return q(1);p()}if(!(","!==Q||this.looksObjectish(k+1)||!v()||this.insideForDeclaration||"TERMINATOR"===x&&this.looksObjectish(k+2)))for(y="OUTDENT"===x?1:0;v();)p(k+y);return q(1)})},a.prototype.addLocationDataToGeneratedTokens=function(){return this.scanTokens(function(a,b,c){var d,e,f,g,h,i;return a[2]?1:a.generated||a.explicit?("{"===a[0]&&(f=null!=(h=c[b+1])?h[2]:void 0)?(e=f.first_line,d=f.first_column):(g=null!=(i=c[b-1])?i[2]:void 0)?(e=g.last_line,d=g.last_column):e=d=0,a[2]={first_line:e,first_column:d,last_line:e,last_column:d},1):1})},a.prototype.normalizeLines=function(){var a,b,e,f,g;return g=e=f=null,b=function(a,b){var e,f,h,i;return";"!==a[1]&&(e=a[0],u.call(m,e)>=0)&&!("TERMINATOR"===a[0]&&(f=this.tag(b+1),u.call(d,f)>=0))&&!("ELSE"===a[0]&&"THEN"!==g)&&!!("CATCH"!==(h=a[0])&&"FINALLY"!==h||"->"!==g&&"=>"!==g)||(i=a[0],u.call(c,i)>=0&&this.tokens[b-1].newLine)},a=function(a,b){return this.tokens.splice(","===this.tag(b-1)?b-1:b,0,f)},this.scanTokens(function(c,h,i){var j,k,l,m,o,p;if(p=c[0],"TERMINATOR"===p){if("ELSE"===this.tag(h+1)&&"OUTDENT"!==this.tag(h-1))return i.splice.apply(i,[h,1].concat(v.call(this.indentation()))),1;if(l=this.tag(h+1),u.call(d,l)>=0)return i.splice(h,1),0}if("CATCH"===p)for(j=k=1;2>=k;j=++k)if("OUTDENT"===(m=this.tag(h+j))||"TERMINATOR"===m||"FINALLY"===m)return i.splice.apply(i,[h+j,0].concat(v.call(this.indentation()))),2+j;return u.call(n,p)>=0&&"INDENT"!==this.tag(h+1)&&("ELSE"!==p||"IF"!==this.tag(h+1))?(g=p,o=this.indentation(i[h]),e=o[0],f=o[1],"THEN"===g&&(e.fromThen=!0),i.splice(h+1,0,e),this.detectEnd(h+2,b,a),"THEN"===p&&i.splice(h,1),1):1})},a.prototype.tagPostfixConditionals=function(){var a,b,c;return c=null,b=function(a,b){var c,d;return d=a[0],c=this.tokens[b-1][0],"TERMINATOR"===d||"INDENT"===d&&0>u.call(n,c)},a=function(a){return"INDENT"!==a[0]||a.generated&&!a.fromThen?c[0]="POST_"+c[0]:void 0},this.scanTokens(function(d,e){return"IF"!==d[0]?1:(c=d,this.detectEnd(e+1,b,a),1)})},a.prototype.indentation=function(a){var b,c;return b=["INDENT",2],c=["OUTDENT",2],a?(b.generated=c.generated=!0,b.origin=c.origin=a):b.explicit=c.explicit=!0,[b,c]},a.prototype.generate=o,a.prototype.tag=function(a){var b;return null!=(b=this.tokens[a])?b[0]:void 0},a}(),b=[["(",")"],["[","]"],["{","}"],["INDENT","OUTDENT"],["CALL_START","CALL_END"],["PARAM_START","PARAM_END"],["INDEX_START","INDEX_END"],["STRING_START","STRING_END"],["REGEX_START","REGEX_END"]],a.INVERSES=k={},f=[],e=[],p=0,r=b.length;r>p;p++)s=b[p],q=s[0],t=s[1],f.push(k[t]=q),e.push(k[q]=t);d=["CATCH","THEN","ELSE","FINALLY"].concat(e),i=["IDENTIFIER","SUPER",")","CALL_END","]","INDEX_END","@","THIS"],g=["IDENTIFIER","NUMBER","STRING","STRING_START","JS","REGEX","REGEX_START","NEW","PARAM_START","CLASS","IF","TRY","SWITCH","THIS","BOOL","NULL","UNDEFINED","UNARY","YIELD","UNARY_MATH","SUPER","THROW","@","->","=>","[","(","{","--","++"],j=["+","-"],h=["POST_IF","FOR","WHILE","UNTIL","WHEN","BY","LOOP","TERMINATOR"],n=["ELSE","->","=>","TRY","FINALLY","THEN"],m=["TERMINATOR","CATCH","FINALLY","ELSE","OUTDENT","LEADING_WHEN"],l=["TERMINATOR","INDENT","OUTDENT"],c=[".","?.","::","?::"]}.call(this),b.exports}(),require["./lexer"]=function(){var a={},b={exports:a};return function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};ga=require("./rewriter"),P=ga.Rewriter,v=ga.INVERSES,ha=require("./helpers"),ca=ha.count,ja=ha.starts,ba=ha.compact,ia=ha.repeat,da=ha.invertLiterate,fa=ha.locationDataToString,ka=ha.throwSyntaxError,a.Lexer=D=function(){function a(){}return a.prototype.tokenize=function(a,b){var c,d,e,f;for(null==b&&(b={}),this.literate=b.literate,this.indent=0,this.baseIndent=0,this.indebt=0,this.outdebt=0,this.indents=[],this.ends=[],this.tokens=[],this.chunkLine=b.line||0,this.chunkColumn=b.column||0,a=this.clean(a),e=0;this.chunk=a.slice(e);)if(c=this.identifierToken()||this.commentToken()||this.whitespaceToken()||this.lineToken()||this.stringToken()||this.numberToken()||this.regexToken()||this.jsToken()||this.literalToken(),f=this.getLineAndColumnFromChunk(c),this.chunkLine=f[0],this.chunkColumn=f[1],e+=c,b.untilBalanced&&0===this.ends.length)return{tokens:this.tokens,index:e};return this.closeIndentation(),(d=this.ends.pop())&&this.error("missing "+d.tag,d.origin[2]),b.rewrite===!1?this.tokens:(new P).rewrite(this.tokens)},a.prototype.clean=function(a){return a.charCodeAt(0)===b&&(a=a.slice(1)),a=a.replace(/\r/g,"").replace(Y,""),aa.test(a)&&(a="\n"+a,this.chunkLine--),this.literate&&(a=da(a)),a},a.prototype.identifierToken=function(){var a,b,c,d,e,i,j,k,l,m,n,o,p,q,s;return(j=r.exec(this.chunk))?(i=j[0],d=j[1],a=j[2],e=d.length,k=void 0,"own"===d&&"FOR"===this.tag()?(this.token("OWN",d),d.length):"from"===d&&"YIELD"===this.tag()?(this.token("FROM",d),d.length):(m=this.tokens,l=m[m.length-1],c=a||null!=l&&("."===(n=l[0])||"?."===n||"::"===n||"?::"===n||!l.spaced&&"@"===l[0]),q="IDENTIFIER",!c&&(la.call(y,d)>=0||la.call(h,d)>=0)&&(q=d.toUpperCase(),"WHEN"===q&&(o=this.tag(),la.call(A,o)>=0)?q="LEADING_WHEN":"FOR"===q?this.seenFor=!0:"UNLESS"===q?q="IF":la.call(Z,q)>=0?q="UNARY":la.call(N,q)>=0&&("INSTANCEOF"!==q&&this.seenFor?(q="FOR"+q,this.seenFor=!1):(q="RELATION","!"===this.value()&&(k=this.tokens.pop(),d="!"+d)))),la.call(x,d)>=0&&(c?(q="IDENTIFIER",d=new String(d),d.reserved=!0):la.call(O,d)>=0&&this.error("reserved word '"+d+"'",{length:d.length})),c||(la.call(f,d)>=0&&(d=g[d]),q=function(){switch(d){case"!":return"UNARY";case"==":case"!=":return"COMPARE";case"&&":case"||":return"LOGIC";case"true":case"false":return"BOOL";case"break":case"continue":return"STATEMENT";default:return q}}()),s=this.token(q,d,0,e),s.variable=!c,k&&(p=[k[2].first_line,k[2].first_column],s[2].first_line=p[0],s[2].first_column=p[1]),a&&(b=i.lastIndexOf(":"),this.token(":",":",b,a.length)),i.length)):0},a.prototype.numberToken=function(){var a,b,c,d,e;return(c=H.exec(this.chunk))?(d=c[0],b=d.length,/^0[BOX]/.test(d)?this.error("radix prefix in '"+d+"' must be lowercase",{offset:1}):/E/.test(d)&&!/^0x/.test(d)?this.error("exponential notation in '"+d+"' must be indicated with a lowercase 'e'",{offset:d.indexOf("E")}):/^0\d*[89]/.test(d)?this.error("decimal literal '"+d+"' must not be prefixed with '0'",{length:b}):/^0\d+/.test(d)&&this.error("octal literal '"+d+"' must be prefixed with '0o'",{length:b}),(e=/^0o([0-7]+)/.exec(d))&&(d="0x"+parseInt(e[1],8).toString(16)),(a=/^0b([01]+)/.exec(d))&&(d="0x"+parseInt(a[1],2).toString(16)),this.token("NUMBER",d,0,b),b):0},a.prototype.stringToken=function(){var a,b,c,d,e,f,g,h,i,j,k,l,p,q,r,s;if(k=(W.exec(this.chunk)||[])[0],!k)return 0;if(q=function(){switch(k){case"'":return V;case'"':return T;case"'''":return o;case'"""':return m}}(),f=3===k.length,l=this.matchWithInterpolations(q,k),s=l.tokens,e=l.index,a=s.length-1,c=k[0],f){for(h=null,d=function(){var a,b,c;for(c=[],g=a=0,b=s.length;b>a;g=++a)r=s[g],"NEOSTRING"===r[0]&&c.push(r[1]);return c}().join("#{}");j=n.exec(d);)b=j[1],(null===h||(p=b.length)>0&&h.length>p)&&(h=b);h&&(i=RegExp("^"+h,"gm")),this.mergeInterpolationTokens(s,{delimiter:c},function(b){return function(c,d){return c=b.formatString(c),0===d&&(c=c.replace(z,"")),d===a&&(c=c.replace(X,"")),i&&(c=c.replace(i,"")),c}}(this))}else this.mergeInterpolationTokens(s,{delimiter:c},function(b){return function(c,d){return c=b.formatString(c),c=c.replace(R,function(b,e){return 0===d&&0===e||d===a&&e+b.length===c.length?"":" "})}}(this));return e},a.prototype.commentToken=function(){var a,b,c;return(c=this.chunk.match(i))?(a=c[0],b=c[1],b&&((c=l.exec(a))&&this.error("block comments cannot contain "+c[0],{offset:c.index,length:c[0].length}),b.indexOf("\n")>=0&&(b=b.replace(RegExp("\\n"+ia(" ",this.indent),"g"),"\n")),this.token("HERECOMMENT",b,0,a.length)),a.length):0},a.prototype.jsToken=function(){var a,b;return"`"===this.chunk.charAt(0)&&(a=w.exec(this.chunk))?(this.token("JS",(b=a[0]).slice(1,-1),0,b.length),b.length):0},a.prototype.regexToken=function(){var a,b,c,e,f,g,h,i,j,k,l,m,n;switch(!1){case!(g=M.exec(this.chunk)):this.error("regular expressions cannot begin with "+g[2],{offset:g.index+g[1].length});break;case!(g=this.matchWithInterpolations(p,"///")):n=g.tokens,f=g.index;break;case!(g=K.exec(this.chunk)):if(m=g[0],a=g[1],b=g[2],this.validateEscapes(a,{isRegex:!0,offsetInChunk:1}),f=m.length,j=this.tokens,i=j[j.length-1])if(i.spaced&&(k=i[0],la.call(d,k)>=0)){if(!b||J.test(m))return 0}else if(l=i[0],la.call(G,l)>=0)return 0;b||this.error("missing / (unclosed regex)");break;default:return 0}switch(e=L.exec(this.chunk.slice(f))[0],c=f+e.length,h=this.makeToken("REGEX",null,0,c),!1){case!!_.test(e):this.error("invalid regular expression flags "+e,{offset:f,length:e.length});break;case!(m||1===n.length):null==a&&(a=this.formatHeregex(n[0][1])),this.token("REGEX",""+this.makeDelimitedLiteral(a,{delimiter:"/"})+e,0,c,h);break;default:this.token("REGEX_START","(",0,0,h),this.token("IDENTIFIER","RegExp",0,0),this.token("CALL_START","(",0,0),this.mergeInterpolationTokens(n,{delimiter:'"',"double":!0},this.formatHeregex),e&&(this.token(",",",",f,0),this.token("STRING",'"'+e+'"',f,e.length)),this.token(")",")",c,0),this.token("REGEX_END",")",c,0)}return c},a.prototype.lineToken=function(){var a,b,c,d,e;if(!(c=F.exec(this.chunk)))return 0;if(b=c[0],this.seenFor=!1,e=b.length-1-b.lastIndexOf("\n"),d=this.unfinished(),e-this.indebt===this.indent)return d?this.suppressNewlines():this.newlineToken(0),b.length;if(e>this.indent){if(d)return this.indebt=e-this.indent,this.suppressNewlines(),b.length;if(!this.tokens.length)return this.baseIndent=this.indent=e,b.length;a=e-this.indent+this.outdebt,this.token("INDENT",a,b.length-e,e),this.indents.push(a),this.ends.push({tag:"OUTDENT"}),this.outdebt=this.indebt=0,this.indent=e}else this.baseIndent>e?this.error("missing indentation",{offset:b.length}):(this.indebt=0,this.outdentToken(this.indent-e,d,b.length));return b.length},a.prototype.outdentToken=function(a,b,c){var d,e,f,g;for(d=this.indent-a;a>0;)f=this.indents[this.indents.length-1],f?f===this.outdebt?(a-=this.outdebt,this.outdebt=0):this.outdebt>f?(this.outdebt-=f,a-=f):(e=this.indents.pop()+this.outdebt,c&&(g=this.chunk[c],la.call(s,g)>=0)&&(d-=e-a,a=e),this.outdebt=0,this.pair("OUTDENT"),this.token("OUTDENT",a,0,c),a-=e):a=0;for(e&&(this.outdebt-=a);";"===this.value();)this.tokens.pop();return"TERMINATOR"===this.tag()||b||this.token("TERMINATOR","\n",c,0),this.indent=d,this},a.prototype.whitespaceToken=function(){var a,b,c,d;
return(a=aa.exec(this.chunk))||(b="\n"===this.chunk.charAt(0))?(d=this.tokens,c=d[d.length-1],c&&(c[a?"spaced":"newLine"]=!0),a?a[0].length:0):0},a.prototype.newlineToken=function(a){for(;";"===this.value();)this.tokens.pop();return"TERMINATOR"!==this.tag()&&this.token("TERMINATOR","\n",a,0),this},a.prototype.suppressNewlines=function(){return"\\"===this.value()&&this.tokens.pop(),this},a.prototype.literalToken=function(){var a,b,c,f,g,h,i,l,m,n;if((a=I.exec(this.chunk))?(n=a[0],e.test(n)&&this.tagParameters()):n=this.chunk.charAt(0),l=n,c=this.tokens,b=c[c.length-1],"="===n&&b&&(!b[1].reserved&&(f=b[1],la.call(x,f)>=0)&&this.error("reserved word '"+b[1]+"' can't be assigned",b[2]),"||"===(g=b[1])||"&&"===g))return b[0]="COMPOUND_ASSIGN",b[1]+="=",n.length;if(";"===n)this.seenFor=!1,l="TERMINATOR";else if(la.call(E,n)>=0)l="MATH";else if(la.call(j,n)>=0)l="COMPARE";else if(la.call(k,n)>=0)l="COMPOUND_ASSIGN";else if(la.call(Z,n)>=0)l="UNARY";else if(la.call($,n)>=0)l="UNARY_MATH";else if(la.call(Q,n)>=0)l="SHIFT";else if(la.call(C,n)>=0||"?"===n&&(null!=b?b.spaced:void 0))l="LOGIC";else if(b&&!b.spaced)if("("===n&&(h=b[0],la.call(d,h)>=0))"?"===b[0]&&(b[0]="FUNC_EXIST"),l="CALL_START";else if("["===n&&(i=b[0],la.call(t,i)>=0))switch(l="INDEX_START",b[0]){case"?":b[0]="INDEX_SOAK"}switch(m=this.makeToken(l,n),n){case"(":case"{":case"[":this.ends.push({tag:v[n],origin:m});break;case")":case"}":case"]":this.pair(n)}return this.tokens.push(m),n.length},a.prototype.tagParameters=function(){var a,b,c,d;if(")"!==this.tag())return this;for(b=[],d=this.tokens,a=d.length,d[--a][0]="PARAM_END";c=d[--a];)switch(c[0]){case")":b.push(c);break;case"(":case"CALL_START":if(!b.length)return"("===c[0]?(c[0]="PARAM_START",this):this;b.pop()}return this},a.prototype.closeIndentation=function(){return this.outdentToken(this.indent)},a.prototype.matchWithInterpolations=function(b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;if(r=[],k=c.length,this.chunk.slice(0,k)!==c)return null;for(p=this.chunk.slice(k);q=b.exec(p)[0],this.validateEscapes(q,{isRegex:"/"===c.charAt(0),offsetInChunk:k}),r.push(this.makeToken("NEOSTRING",q,k)),p=p.slice(q.length),k+=q.length,"#{"===p.slice(0,2);)m=this.getLineAndColumnFromChunk(k+1),i=m[0],e=m[1],n=(new a).tokenize(p.slice(1),{line:i,column:e,untilBalanced:!0}),j=n.tokens,g=n.index,g+=1,l=j[0],d=j[j.length-1],l[0]=l[1]="(",d[0]=d[1]=")",d.origin=["","end of interpolation",d[2]],"TERMINATOR"===(null!=(o=j[1])?o[0]:void 0)&&j.splice(1,1),r.push(["TOKENS",j]),p=p.slice(g),k+=g;return p.slice(0,c.length)!==c&&this.error("missing "+c,{length:c.length}),f=r[0],h=r[r.length-1],f[2].first_column-=c.length,h[2].last_column+=c.length,0===h[1].length&&(h[2].last_column-=1),{tokens:r,index:k+c.length}},a.prototype.mergeInterpolationTokens=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;for(a.length>1&&(l=this.token("STRING_START","(",0,0)),f=this.tokens.length,g=h=0,j=a.length;j>h;g=++h){switch(q=a[g],p=q[0],s=q[1],p){case"TOKENS":if(2===s.length)continue;k=s[0],r=s;break;case"NEOSTRING":if(d=c(q[1],g),0===d.length){if(0!==g)continue;e=this.tokens.length}2===g&&null!=e&&this.tokens.splice(e,2),q[0]="STRING",q[1]=this.makeDelimitedLiteral(d,b),k=q,r=[q]}this.tokens.length>f&&(m=this.token("+","+"),m[2]={first_line:k[2].first_line,first_column:k[2].first_column,last_line:k[2].first_line,last_column:k[2].first_column}),(n=this.tokens).push.apply(n,r)}return l?(i=a[a.length-1],l.origin=["STRING",null,{first_line:l[2].first_line,first_column:l[2].first_column,last_line:i[2].last_line,last_column:i[2].last_column}],o=this.token("STRING_END",")"),o[2]={first_line:i[2].last_line,first_column:i[2].last_column,last_line:i[2].last_line,last_column:i[2].last_column}):void 0},a.prototype.pair=function(a){var b,c,d,e,f;return d=this.ends,c=d[d.length-1],a!==(f=null!=c?c.tag:void 0)?("OUTDENT"!==f&&this.error("unmatched "+a),e=this.indents,b=e[e.length-1],this.outdentToken(b,!0),this.pair(a)):this.ends.pop()},a.prototype.getLineAndColumnFromChunk=function(a){var b,c,d,e,f;return 0===a?[this.chunkLine,this.chunkColumn]:(f=a>=this.chunk.length?this.chunk:this.chunk.slice(0,+(a-1)+1||9e9),d=ca(f,"\n"),b=this.chunkColumn,d>0?(e=f.split("\n"),c=e[e.length-1],b=c.length):b+=f.length,[this.chunkLine+d,b])},a.prototype.makeToken=function(a,b,c,d){var e,f,g,h,i;return null==c&&(c=0),null==d&&(d=b.length),f={},g=this.getLineAndColumnFromChunk(c),f.first_line=g[0],f.first_column=g[1],e=Math.max(0,d-1),h=this.getLineAndColumnFromChunk(c+e),f.last_line=h[0],f.last_column=h[1],i=[a,b,f]},a.prototype.token=function(a,b,c,d,e){var f;return f=this.makeToken(a,b,c,d),e&&(f.origin=e),this.tokens.push(f),f},a.prototype.tag=function(){var a,b;return a=this.tokens,b=a[a.length-1],null!=b?b[0]:void 0},a.prototype.value=function(){var a,b;return a=this.tokens,b=a[a.length-1],null!=b?b[1]:void 0},a.prototype.unfinished=function(){var a;return B.test(this.chunk)||"\\"===(a=this.tag())||"."===a||"?."===a||"?::"===a||"UNARY"===a||"MATH"===a||"UNARY_MATH"===a||"+"===a||"-"===a||"YIELD"===a||"**"===a||"SHIFT"===a||"RELATION"===a||"COMPARE"===a||"LOGIC"===a||"THROW"===a||"EXTENDS"===a},a.prototype.formatString=function(a){return a.replace(U,"$1")},a.prototype.formatHeregex=function(a){return a.replace(q,"$1$2")},a.prototype.validateEscapes=function(a,b){var c,d,e,f,g,h,i,j;return null==b&&(b={}),f=u.exec(a),!f||(f[0],c=f[1],h=f[2],d=f[3],j=f[4],b.isRegex&&h&&"0"!==h.charAt(0))?void 0:(g=h?"octal escape sequences are not allowed":"invalid escape sequence",e="\\"+(h||d||j),this.error(g+" "+e,{offset:(null!=(i=b.offsetInChunk)?i:0)+f.index+c.length,length:e.length}))},a.prototype.makeDelimitedLiteral=function(a,b){var c;return null==b&&(b={}),""===a&&"/"===b.delimiter&&(a="(?:)"),c=RegExp("(\\\\\\\\)|(\\\\0(?=[1-7]))|\\\\?("+b.delimiter+")|\\\\?(?:(\\n)|(\\r)|(\\u2028)|(\\u2029))|(\\\\.)","g"),a=a.replace(c,function(a,c,d,e,f,g,h,i,j){switch(!1){case!c:return b["double"]?c+c:c;case!d:return"\\x00";case!e:return"\\"+e;case!f:return"\\n";case!g:return"\\r";case!h:return"\\u2028";case!i:return"\\u2029";case!j:return b["double"]?"\\"+j:j}}),""+b.delimiter+a+b.delimiter},a.prototype.error=function(a,b){var c,d,e,f,g,h;return null==b&&(b={}),e="first_line"in b?b:(g=this.getLineAndColumnFromChunk(null!=(f=b.offset)?f:0),d=g[0],c=g[1],{first_line:d,first_column:c,last_column:c+(null!=(h=b.length)?h:1)-1}),ka(a,e)},a}(),y=["true","false","null","this","new","delete","typeof","in","instanceof","return","throw","break","continue","debugger","yield","if","else","switch","for","while","do","try","catch","finally","class","extends","super"],h=["undefined","then","unless","until","loop","of","by","when"],g={and:"&&",or:"||",is:"==",isnt:"!=",not:"!",yes:"true",no:"false",on:"true",off:"false"},f=function(){var a;a=[];for(ea in g)a.push(ea);return a}(),h=h.concat(f),O=["case","default","function","var","void","with","const","let","enum","export","import","native","implements","interface","package","private","protected","public","static"],S=["arguments","eval","yield*"],x=y.concat(O).concat(S),a.RESERVED=O.concat(y).concat(h).concat(S),a.STRICT_PROSCRIBED=S,b=65279,r=/^(?!\d)((?:(?!\s)[$\w\x7f-\uffff])+)([^\n\S]*:(?!:))?/,H=/^0b[01]+|^0o[0-7]+|^0x[\da-f]+|^\d*\.?\d+(?:e[+-]?\d+)?/i,I=/^(?:[-=]>|[-+*\/%<>&|^!?=]=|>>>=?|([-+:])\1|([&|<>*\/%])\2=?|\?(\.|::)|\.{2,3})/,aa=/^[^\n\S]+/,i=/^###([^#][\s\S]*?)(?:###[^\n\S]*|###$)|^(?:\s*#(?!##[^#]).*)+/,e=/^[-=]>/,F=/^(?:\n[^\n\S]*)+/,w=/^`[^\\`]*(?:\\.[^\\`]*)*`/,W=/^(?:'''|"""|'|")/,V=/^(?:[^\\']|\\[\s\S])*/,T=/^(?:[^\\"#]|\\[\s\S]|\#(?!\{))*/,o=/^(?:[^\\']|\\[\s\S]|'(?!''))*/,m=/^(?:[^\\"#]|\\[\s\S]|"(?!"")|\#(?!\{))*/,U=/((?:\\\\)+)|\\[^\S\n]*\n\s*/g,R=/\s*\n\s*/g,n=/\n+([^\n\S]*)(?=\S)/g,K=/^\/(?!\/)((?:[^[\/\n\\]|\\[^\n]|\[(?:\\[^\n]|[^\]\n\\])*])*)(\/)?/,L=/^\w*/,_=/^(?!.*(.).*\1)[imgy]*$/,p=/^(?:[^\\\/#]|\\[\s\S]|\/(?!\/\/)|\#(?!\{))*/,q=/((?:\\\\)+)|\\(\s)|\s+(?:#.*)?/g,M=/^(\/|\/{3}\s*)(\*)/,J=/^\/=?\s/,l=/\*\//,B=/^\s*(?:,|\??\.(?![.\d])|::)/,u=/((?:^|[^\\])(?:\\\\)*)\\(?:(0[0-7]|[1-7])|(x(?![\da-fA-F]{2}).{0,2})|(u(?![\da-fA-F]{4}).{0,4}))/,z=/^[^\n\S]*\n/,X=/\n[^\n\S]*$/,Y=/\s+$/,k=["-=","+=","/=","*=","%=","||=","&&=","?=","<<=",">>=",">>>=","&=","^=","|=","**=","//=","%%="],Z=["NEW","TYPEOF","DELETE","DO"],$=["!","~"],C=["&&","||","&","|","^"],Q=["<<",">>",">>>"],j=["==","!=","<",">","<=",">="],E=["*","/","%","//","%%"],N=["IN","OF","INSTANCEOF"],c=["TRUE","FALSE"],d=["IDENTIFIER",")","]","?","@","THIS","SUPER"],t=d.concat(["NUMBER","STRING","STRING_END","REGEX","REGEX_END","BOOL","NULL","UNDEFINED","}","::"]),G=t.concat(["++","--"]),A=["INDENT","OUTDENT","TERMINATOR"],s=[")","}","]"]}.call(this),b.exports}(),require["./parser"]=function(){var a={},b={exports:a},c=function(){function a(){this.yy={}}var b=function(a,b,c,d){for(c=c||{},d=a.length;d--;c[a[d]]=b);return c},c=[1,20],d=[1,75],e=[1,71],f=[1,76],g=[1,77],h=[1,73],i=[1,74],j=[1,50],k=[1,52],l=[1,53],m=[1,54],n=[1,55],o=[1,45],p=[1,46],q=[1,27],r=[1,60],s=[1,61],t=[1,70],u=[1,43],v=[1,26],w=[1,58],x=[1,59],y=[1,57],z=[1,38],A=[1,44],B=[1,56],C=[1,65],D=[1,66],E=[1,67],F=[1,68],G=[1,42],H=[1,64],I=[1,29],J=[1,30],K=[1,31],L=[1,32],M=[1,33],N=[1,34],O=[1,35],P=[1,78],Q=[1,6,26,34,108],R=[1,88],S=[1,81],T=[1,80],U=[1,79],V=[1,82],W=[1,83],X=[1,84],Y=[1,85],Z=[1,86],$=[1,87],_=[1,91],aa=[1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,117,132,135,136,141,142,143,144,145,146,147],ba=[1,97],ca=[1,98],da=[1,99],ea=[1,100],fa=[1,102],ga=[1,103],ha=[1,96],ia=[2,112],ja=[1,6,25,26,34,55,60,63,72,73,74,75,77,79,80,84,90,91,92,97,99,108,110,111,112,116,117,132,135,136,141,142,143,144,145,146,147],ka=[2,79],la=[1,108],ma=[2,58],na=[1,112],oa=[1,117],pa=[1,118],qa=[1,120],ra=[1,6,25,26,34,46,55,60,63,72,73,74,75,77,79,80,84,90,91,92,97,99,108,110,111,112,116,117,132,135,136,141,142,143,144,145,146,147],sa=[2,76],ta=[1,6,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,117,132,135,136,141,142,143,144,145,146,147],ua=[1,155],va=[1,157],wa=[1,152],xa=[1,6,25,26,34,46,55,60,63,72,73,74,75,77,79,80,84,86,90,91,92,97,99,108,110,111,112,116,117,132,135,136,139,140,141,142,143,144,145,146,147,148],ya=[2,95],za=[1,6,25,26,34,49,55,60,63,72,73,74,75,77,79,80,84,90,91,92,97,99,108,110,111,112,116,117,132,135,136,141,142,143,144,145,146,147],Aa=[1,6,25,26,34,46,49,55,60,63,72,73,74,75,77,79,80,84,86,90,91,92,97,99,108,110,111,112,116,117,123,124,132,135,136,139,140,141,142,143,144,145,146,147,148],Ba=[1,206],Ca=[1,205],Da=[1,6,25,26,34,38,55,60,63,72,73,74,75,77,79,80,84,90,91,92,97,99,108,110,111,112,116,117,132,135,136,141,142,143,144,145,146,147],Ea=[2,56],Fa=[1,216],Ga=[6,25,26,55,60],Ha=[6,25,26,46,55,60,63],Ia=[1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,117,132,135,136,142,144,145,146,147],Ja=[1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,117,132],Ka=[72,73,74,75,77,80,90,91],La=[1,235],Ma=[2,133],Na=[1,6,25,26,34,46,55,60,63,72,73,74,75,77,79,80,84,90,91,92,97,99,108,110,111,112,116,117,123,124,132,135,136,141,142,143,144,145,146,147],Oa=[1,244],Pa=[6,25,26,60,92,97],Qa=[1,6,25,26,34,55,60,63,79,84,92,97,99,108,117,132],Ra=[1,6,25,26,34,55,60,63,79,84,92,97,99,108,111,117,132],Sa=[123,124],Ta=[60,123,124],Ua=[1,255],Va=[6,25,26,60,84],Wa=[6,25,26,49,60,84],Xa=[1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,117,132,135,136,144,145,146,147],Ya=[11,28,30,32,33,36,37,40,41,42,43,44,51,52,53,57,58,79,82,85,89,94,95,96,102,106,107,110,112,114,116,125,131,133,134,135,136,137,139,140],Za=[2,122],$a=[6,25,26],_a=[2,57],ab=[1,268],bb=[1,269],cb=[1,6,25,26,34,55,60,63,79,84,92,97,99,104,105,108,110,111,112,116,117,127,129,132,135,136,141,142,143,144,145,146,147],db=[26,127,129],eb=[1,6,26,34,55,60,63,79,84,92,97,99,108,111,117,132],fb=[2,71],gb=[1,291],hb=[1,292],ib=[1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,117,127,132,135,136,141,142,143,144,145,146,147],jb=[1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,112,116,117,132],kb=[1,303],lb=[1,304],mb=[6,25,26,60],nb=[1,6,25,26,34,55,60,63,79,84,92,97,99,104,108,110,111,112,116,117,132,135,136,141,142,143,144,145,146,147],ob=[25,60],pb={trace:function(){},yy:{},symbols_:{error:2,Root:3,Body:4,Line:5,TERMINATOR:6,Expression:7,Statement:8,Return:9,Comment:10,STATEMENT:11,Value:12,Invocation:13,Code:14,Operation:15,Assign:16,If:17,Try:18,While:19,For:20,Switch:21,Class:22,Throw:23,Block:24,INDENT:25,OUTDENT:26,Identifier:27,IDENTIFIER:28,AlphaNumeric:29,NUMBER:30,String:31,STRING:32,STRING_START:33,STRING_END:34,Regex:35,REGEX:36,REGEX_START:37,REGEX_END:38,Literal:39,JS:40,DEBUGGER:41,UNDEFINED:42,NULL:43,BOOL:44,Assignable:45,"=":46,AssignObj:47,ObjAssignable:48,":":49,ThisProperty:50,RETURN:51,HERECOMMENT:52,PARAM_START:53,ParamList:54,PARAM_END:55,FuncGlyph:56,"->":57,"=>":58,OptComma:59,",":60,Param:61,ParamVar:62,"...":63,Array:64,Object:65,Splat:66,SimpleAssignable:67,Accessor:68,Parenthetical:69,Range:70,This:71,".":72,"?.":73,"::":74,"?::":75,Index:76,INDEX_START:77,IndexValue:78,INDEX_END:79,INDEX_SOAK:80,Slice:81,"{":82,AssignList:83,"}":84,CLASS:85,EXTENDS:86,OptFuncExist:87,Arguments:88,SUPER:89,FUNC_EXIST:90,CALL_START:91,CALL_END:92,ArgList:93,THIS:94,"@":95,"[":96,"]":97,RangeDots:98,"..":99,Arg:100,SimpleArgs:101,TRY:102,Catch:103,FINALLY:104,CATCH:105,THROW:106,"(":107,")":108,WhileSource:109,WHILE:110,WHEN:111,UNTIL:112,Loop:113,LOOP:114,ForBody:115,FOR:116,BY:117,ForStart:118,ForSource:119,ForVariables:120,OWN:121,ForValue:122,FORIN:123,FOROF:124,SWITCH:125,Whens:126,ELSE:127,When:128,LEADING_WHEN:129,IfBlock:130,IF:131,POST_IF:132,UNARY:133,UNARY_MATH:134,"-":135,"+":136,YIELD:137,FROM:138,"--":139,"++":140,"?":141,MATH:142,"**":143,SHIFT:144,COMPARE:145,LOGIC:146,RELATION:147,COMPOUND_ASSIGN:148,$accept:0,$end:1},terminals_:{2:"error",6:"TERMINATOR",11:"STATEMENT",25:"INDENT",26:"OUTDENT",28:"IDENTIFIER",30:"NUMBER",32:"STRING",33:"STRING_START",34:"STRING_END",36:"REGEX",37:"REGEX_START",38:"REGEX_END",40:"JS",41:"DEBUGGER",42:"UNDEFINED",43:"NULL",44:"BOOL",46:"=",49:":",51:"RETURN",52:"HERECOMMENT",53:"PARAM_START",55:"PARAM_END",57:"->",58:"=>",60:",",63:"...",72:".",73:"?.",74:"::",75:"?::",77:"INDEX_START",79:"INDEX_END",80:"INDEX_SOAK",82:"{",84:"}",85:"CLASS",86:"EXTENDS",89:"SUPER",90:"FUNC_EXIST",91:"CALL_START",92:"CALL_END",94:"THIS",95:"@",96:"[",97:"]",99:"..",102:"TRY",104:"FINALLY",105:"CATCH",106:"THROW",107:"(",108:")",110:"WHILE",111:"WHEN",112:"UNTIL",114:"LOOP",116:"FOR",117:"BY",121:"OWN",123:"FORIN",124:"FOROF",125:"SWITCH",127:"ELSE",129:"LEADING_WHEN",131:"IF",132:"POST_IF",133:"UNARY",134:"UNARY_MATH",135:"-",136:"+",137:"YIELD",138:"FROM",139:"--",140:"++",141:"?",142:"MATH",143:"**",144:"SHIFT",145:"COMPARE",146:"LOGIC",147:"RELATION",148:"COMPOUND_ASSIGN"},productions_:[0,[3,0],[3,1],[4,1],[4,3],[4,2],[5,1],[5,1],[8,1],[8,1],[8,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[24,2],[24,3],[27,1],[29,1],[29,1],[31,1],[31,3],[35,1],[35,3],[39,1],[39,1],[39,1],[39,1],[39,1],[39,1],[39,1],[16,3],[16,4],[16,5],[47,1],[47,3],[47,5],[47,1],[48,1],[48,1],[48,1],[9,2],[9,1],[10,1],[14,5],[14,2],[56,1],[56,1],[59,0],[59,1],[54,0],[54,1],[54,3],[54,4],[54,6],[61,1],[61,2],[61,3],[61,1],[62,1],[62,1],[62,1],[62,1],[66,2],[67,1],[67,2],[67,2],[67,1],[45,1],[45,1],[45,1],[12,1],[12,1],[12,1],[12,1],[12,1],[68,2],[68,2],[68,2],[68,2],[68,1],[68,1],[76,3],[76,2],[78,1],[78,1],[65,4],[83,0],[83,1],[83,3],[83,4],[83,6],[22,1],[22,2],[22,3],[22,4],[22,2],[22,3],[22,4],[22,5],[13,3],[13,3],[13,1],[13,2],[87,0],[87,1],[88,2],[88,4],[71,1],[71,1],[50,2],[64,2],[64,4],[98,1],[98,1],[70,5],[81,3],[81,2],[81,2],[81,1],[93,1],[93,3],[93,4],[93,4],[93,6],[100,1],[100,1],[100,1],[101,1],[101,3],[18,2],[18,3],[18,4],[18,5],[103,3],[103,3],[103,2],[23,2],[69,3],[69,5],[109,2],[109,4],[109,2],[109,4],[19,2],[19,2],[19,2],[19,1],[113,2],[113,2],[20,2],[20,2],[20,2],[115,2],[115,4],[115,2],[118,2],[118,3],[122,1],[122,1],[122,1],[122,1],[120,1],[120,3],[119,2],[119,2],[119,4],[119,4],[119,4],[119,6],[119,6],[21,5],[21,7],[21,4],[21,6],[126,1],[126,2],[128,3],[128,4],[130,3],[130,5],[17,1],[17,3],[17,3],[17,3],[15,2],[15,2],[15,2],[15,2],[15,2],[15,2],[15,3],[15,2],[15,2],[15,2],[15,2],[15,2],[15,3],[15,3],[15,3],[15,3],[15,3],[15,3],[15,3],[15,3],[15,3],[15,5],[15,4],[15,3]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:return this.$=d.addLocationDataFn(g[h],g[h])(new d.Block);case 2:return this.$=f[h];case 3:this.$=d.addLocationDataFn(g[h],g[h])(d.Block.wrap([f[h]]));break;case 4:this.$=d.addLocationDataFn(g[h-2],g[h])(f[h-2].push(f[h]));break;case 5:this.$=f[h-1];break;case 6:case 7:case 8:case 9:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 27:case 32:case 34:case 45:case 46:case 47:case 48:case 56:case 57:case 67:case 68:case 69:case 70:case 75:case 76:case 79:case 83:case 89:case 133:case 134:case 136:case 166:case 167:case 183:case 189:this.$=f[h];break;case 10:case 25:case 26:case 28:case 30:case 33:case 35:this.$=d.addLocationDataFn(g[h],g[h])(new d.Literal(f[h]));break;case 23:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Block);break;case 24:case 31:case 90:this.$=d.addLocationDataFn(g[h-2],g[h])(f[h-1]);break;case 29:case 146:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Parens(f[h-1]));break;case 36:this.$=d.addLocationDataFn(g[h],g[h])(new d.Undefined);break;case 37:this.$=d.addLocationDataFn(g[h],g[h])(new d.Null);break;case 38:this.$=d.addLocationDataFn(g[h],g[h])(new d.Bool(f[h]));break;case 39:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Assign(f[h-2],f[h]));break;case 40:this.$=d.addLocationDataFn(g[h-3],g[h])(new d.Assign(f[h-3],f[h]));break;case 41:this.$=d.addLocationDataFn(g[h-4],g[h])(new d.Assign(f[h-4],f[h-1]));break;case 42:case 72:case 77:case 78:case 80:case 81:case 82:case 168:case 169:this.$=d.addLocationDataFn(g[h],g[h])(new d.Value(f[h]));break;case 43:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Assign(d.addLocationDataFn(g[h-2])(new d.Value(f[h-2])),f[h],"object"));break;case 44:this.$=d.addLocationDataFn(g[h-4],g[h])(new d.Assign(d.addLocationDataFn(g[h-4])(new d.Value(f[h-4])),f[h-1],"object"));break;case 49:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Return(f[h]));break;case 50:this.$=d.addLocationDataFn(g[h],g[h])(new d.Return);break;case 51:this.$=d.addLocationDataFn(g[h],g[h])(new d.Comment(f[h]));break;case 52:this.$=d.addLocationDataFn(g[h-4],g[h])(new d.Code(f[h-3],f[h],f[h-1]));break;case 53:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Code([],f[h],f[h-1]));break;case 54:this.$=d.addLocationDataFn(g[h],g[h])("func");break;case 55:this.$=d.addLocationDataFn(g[h],g[h])("boundfunc");break;case 58:case 95:this.$=d.addLocationDataFn(g[h],g[h])([]);break;case 59:case 96:case 128:case 170:this.$=d.addLocationDataFn(g[h],g[h])([f[h]]);break;case 60:case 97:case 129:this.$=d.addLocationDataFn(g[h-2],g[h])(f[h-2].concat(f[h]));break;case 61:case 98:case 130:this.$=d.addLocationDataFn(g[h-3],g[h])(f[h-3].concat(f[h]));break;case 62:case 99:case 132:this.$=d.addLocationDataFn(g[h-5],g[h])(f[h-5].concat(f[h-2]));break;case 63:this.$=d.addLocationDataFn(g[h],g[h])(new d.Param(f[h]));break;case 64:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Param(f[h-1],null,!0));break;case 65:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Param(f[h-2],f[h]));break;case 66:case 135:this.$=d.addLocationDataFn(g[h],g[h])(new d.Expansion);break;case 71:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Splat(f[h-1]));break;case 73:this.$=d.addLocationDataFn(g[h-1],g[h])(f[h-1].add(f[h]));break;case 74:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Value(f[h-1],[].concat(f[h])));break;case 84:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Access(f[h]));break;case 85:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Access(f[h],"soak"));break;case 86:this.$=d.addLocationDataFn(g[h-1],g[h])([d.addLocationDataFn(g[h-1])(new d.Access(new d.Literal("prototype"))),d.addLocationDataFn(g[h])(new d.Access(f[h]))]);break;case 87:this.$=d.addLocationDataFn(g[h-1],g[h])([d.addLocationDataFn(g[h-1])(new d.Access(new d.Literal("prototype"),"soak")),d.addLocationDataFn(g[h])(new d.Access(f[h]))]);break;case 88:this.$=d.addLocationDataFn(g[h],g[h])(new d.Access(new d.Literal("prototype")));break;case 91:this.$=d.addLocationDataFn(g[h-1],g[h])(d.extend(f[h],{soak:!0}));break;case 92:this.$=d.addLocationDataFn(g[h],g[h])(new d.Index(f[h]));break;case 93:this.$=d.addLocationDataFn(g[h],g[h])(new d.Slice(f[h]));break;case 94:this.$=d.addLocationDataFn(g[h-3],g[h])(new d.Obj(f[h-2],f[h-3].generated));break;case 100:this.$=d.addLocationDataFn(g[h],g[h])(new d.Class);break;case 101:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Class(null,null,f[h]));break;case 102:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Class(null,f[h]));break;case 103:this.$=d.addLocationDataFn(g[h-3],g[h])(new d.Class(null,f[h-1],f[h]));break;case 104:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Class(f[h]));break;case 105:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Class(f[h-1],null,f[h]));break;case 106:this.$=d.addLocationDataFn(g[h-3],g[h])(new d.Class(f[h-2],f[h]));break;case 107:this.$=d.addLocationDataFn(g[h-4],g[h])(new d.Class(f[h-3],f[h-1],f[h]));break;case 108:case 109:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Call(f[h-2],f[h],f[h-1]));break;case 110:this.$=d.addLocationDataFn(g[h],g[h])(new d.Call("super",[new d.Splat(new d.Literal("arguments"))]));break;case 111:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Call("super",f[h]));break;case 112:this.$=d.addLocationDataFn(g[h],g[h])(!1);break;case 113:this.$=d.addLocationDataFn(g[h],g[h])(!0);break;case 114:this.$=d.addLocationDataFn(g[h-1],g[h])([]);break;case 115:case 131:this.$=d.addLocationDataFn(g[h-3],g[h])(f[h-2]);break;case 116:case 117:this.$=d.addLocationDataFn(g[h],g[h])(new d.Value(new d.Literal("this")));break;case 118:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Value(d.addLocationDataFn(g[h-1])(new d.Literal("this")),[d.addLocationDataFn(g[h])(new d.Access(f[h]))],"this"));break;case 119:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Arr([]));break;case 120:this.$=d.addLocationDataFn(g[h-3],g[h])(new d.Arr(f[h-2]));break;case 121:this.$=d.addLocationDataFn(g[h],g[h])("inclusive");break;case 122:this.$=d.addLocationDataFn(g[h],g[h])("exclusive");break;case 123:this.$=d.addLocationDataFn(g[h-4],g[h])(new d.Range(f[h-3],f[h-1],f[h-2]));break;case 124:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Range(f[h-2],f[h],f[h-1]));break;case 125:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Range(f[h-1],null,f[h]));break;case 126:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Range(null,f[h],f[h-1]));break;case 127:this.$=d.addLocationDataFn(g[h],g[h])(new d.Range(null,null,f[h]));break;case 137:this.$=d.addLocationDataFn(g[h-2],g[h])([].concat(f[h-2],f[h]));break;case 138:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Try(f[h]));break;case 139:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Try(f[h-1],f[h][0],f[h][1]));break;case 140:this.$=d.addLocationDataFn(g[h-3],g[h])(new d.Try(f[h-2],null,null,f[h]));break;case 141:this.$=d.addLocationDataFn(g[h-4],g[h])(new d.Try(f[h-3],f[h-2][0],f[h-2][1],f[h]));break;case 142:this.$=d.addLocationDataFn(g[h-2],g[h])([f[h-1],f[h]]);break;case 143:this.$=d.addLocationDataFn(g[h-2],g[h])([d.addLocationDataFn(g[h-1])(new d.Value(f[h-1])),f[h]]);break;case 144:this.$=d.addLocationDataFn(g[h-1],g[h])([null,f[h]]);break;case 145:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Throw(f[h]));break;case 147:this.$=d.addLocationDataFn(g[h-4],g[h])(new d.Parens(f[h-2]));break;case 148:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.While(f[h]));break;case 149:this.$=d.addLocationDataFn(g[h-3],g[h])(new d.While(f[h-2],{guard:f[h]}));break;case 150:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.While(f[h],{invert:!0}));break;case 151:this.$=d.addLocationDataFn(g[h-3],g[h])(new d.While(f[h-2],{invert:!0,guard:f[h]}));break;case 152:this.$=d.addLocationDataFn(g[h-1],g[h])(f[h-1].addBody(f[h]));break;case 153:case 154:this.$=d.addLocationDataFn(g[h-1],g[h])(f[h].addBody(d.addLocationDataFn(g[h-1])(d.Block.wrap([f[h-1]]))));break;case 155:this.$=d.addLocationDataFn(g[h],g[h])(f[h]);break;case 156:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.While(d.addLocationDataFn(g[h-1])(new d.Literal("true"))).addBody(f[h]));break;case 157:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.While(d.addLocationDataFn(g[h-1])(new d.Literal("true"))).addBody(d.addLocationDataFn(g[h])(d.Block.wrap([f[h]]))));break;case 158:case 159:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.For(f[h-1],f[h]));break;case 160:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.For(f[h],f[h-1]));break;case 161:this.$=d.addLocationDataFn(g[h-1],g[h])({source:d.addLocationDataFn(g[h])(new d.Value(f[h]))});break;case 162:this.$=d.addLocationDataFn(g[h-3],g[h])({source:d.addLocationDataFn(g[h-2])(new d.Value(f[h-2])),step:f[h]});break;case 163:this.$=d.addLocationDataFn(g[h-1],g[h])(function(){return f[h].own=f[h-1].own,f[h].name=f[h-1][0],f[h].index=f[h-1][1],f[h]}());break;case 164:this.$=d.addLocationDataFn(g[h-1],g[h])(f[h]);break;case 165:this.$=d.addLocationDataFn(g[h-2],g[h])(function(){return f[h].own=!0,f[h]}());break;case 171:this.$=d.addLocationDataFn(g[h-2],g[h])([f[h-2],f[h]]);break;case 172:this.$=d.addLocationDataFn(g[h-1],g[h])({source:f[h]});break;case 173:this.$=d.addLocationDataFn(g[h-1],g[h])({source:f[h],object:!0});break;case 174:this.$=d.addLocationDataFn(g[h-3],g[h])({source:f[h-2],guard:f[h]});break;case 175:this.$=d.addLocationDataFn(g[h-3],g[h])({source:f[h-2],guard:f[h],object:!0});break;case 176:this.$=d.addLocationDataFn(g[h-3],g[h])({source:f[h-2],step:f[h]});break;case 177:this.$=d.addLocationDataFn(g[h-5],g[h])({source:f[h-4],guard:f[h-2],step:f[h]});break;case 178:this.$=d.addLocationDataFn(g[h-5],g[h])({source:f[h-4],step:f[h-2],guard:f[h]});break;case 179:this.$=d.addLocationDataFn(g[h-4],g[h])(new d.Switch(f[h-3],f[h-1]));break;case 180:this.$=d.addLocationDataFn(g[h-6],g[h])(new d.Switch(f[h-5],f[h-3],f[h-1]));break;case 181:this.$=d.addLocationDataFn(g[h-3],g[h])(new d.Switch(null,f[h-1]));break;case 182:this.$=d.addLocationDataFn(g[h-5],g[h])(new d.Switch(null,f[h-3],f[h-1]));break;case 184:this.$=d.addLocationDataFn(g[h-1],g[h])(f[h-1].concat(f[h]));break;case 185:this.$=d.addLocationDataFn(g[h-2],g[h])([[f[h-1],f[h]]]);break;case 186:this.$=d.addLocationDataFn(g[h-3],g[h])([[f[h-2],f[h-1]]]);break;case 187:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.If(f[h-1],f[h],{type:f[h-2]}));break;case 188:this.$=d.addLocationDataFn(g[h-4],g[h])(f[h-4].addElse(d.addLocationDataFn(g[h-2],g[h])(new d.If(f[h-1],f[h],{type:f[h-2]}))));break;case 190:this.$=d.addLocationDataFn(g[h-2],g[h])(f[h-2].addElse(f[h]));break;case 191:case 192:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.If(f[h],d.addLocationDataFn(g[h-2])(d.Block.wrap([f[h-2]])),{type:f[h-1],statement:!0}));break;case 193:case 194:case 197:case 198:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Op(f[h-1],f[h]));break;case 195:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Op("-",f[h]));break;case 196:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Op("+",f[h]));break;case 199:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Op(f[h-2].concat(f[h-1]),f[h]));break;case 200:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Op("--",f[h]));break;case 201:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Op("++",f[h]));break;case 202:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Op("--",f[h-1],null,!0));break;case 203:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Op("++",f[h-1],null,!0));break;case 204:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Existence(f[h-1]));break;case 205:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Op("+",f[h-2],f[h]));break;case 206:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Op("-",f[h-2],f[h]));break;case 207:case 208:case 209:case 210:case 211:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Op(f[h-1],f[h-2],f[h]));break;case 212:this.$=d.addLocationDataFn(g[h-2],g[h])(function(){return"!"===f[h-1].charAt(0)?new d.Op(f[h-1].slice(1),f[h-2],f[h]).invert():new d.Op(f[h-1],f[h-2],f[h])}());break;case 213:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Assign(f[h-2],f[h],f[h-1]));break;case 214:this.$=d.addLocationDataFn(g[h-4],g[h])(new d.Assign(f[h-4],f[h-1],f[h-3]));break;case 215:this.$=d.addLocationDataFn(g[h-3],g[h])(new d.Assign(f[h-3],f[h],f[h-2]));break;case 216:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Extends(f[h-2],f[h]))}},table:[{1:[2,1],3:1,4:2,5:3,7:4,8:5,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{1:[3]},{1:[2,2],6:P},b(Q,[2,3]),b(Q,[2,6],{118:69,109:89,115:90,110:C,112:D,116:F,132:R,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),b(Q,[2,7],{118:69,109:92,115:93,110:C,112:D,116:F,132:_}),b(aa,[2,11],{87:94,68:95,76:101,72:ba,73:ca,74:da,75:ea,77:fa,80:ga,90:ha,91:ia}),b(aa,[2,12],{76:101,87:104,68:105,72:ba,73:ca,74:da,75:ea,77:fa,80:ga,90:ha,91:ia}),b(aa,[2,13]),b(aa,[2,14]),b(aa,[2,15]),b(aa,[2,16]),b(aa,[2,17]),b(aa,[2,18]),b(aa,[2,19]),b(aa,[2,20]),b(aa,[2,21]),b(aa,[2,22]),b(aa,[2,8]),b(aa,[2,9]),b(aa,[2,10]),b(ja,ka,{46:[1,106]}),b(ja,[2,80]),b(ja,[2,81]),b(ja,[2,82]),b(ja,[2,83]),b([1,6,25,26,34,38,55,60,63,72,73,74,75,77,79,80,84,90,92,97,99,108,110,111,112,116,117,132,135,136,141,142,143,144,145,146,147],[2,110],{88:107,91:la}),b([6,25,55,60],ma,{54:109,61:110,62:111,27:113,50:114,64:115,65:116,28:d,63:na,82:t,95:oa,96:pa}),{24:119,25:qa},{7:121,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:123,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:124,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:125,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:127,8:126,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,138:[1,128],139:N,140:O},{12:130,13:131,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:132,50:63,64:47,65:48,67:129,69:23,70:24,71:25,
82:t,89:v,94:w,95:x,96:y,107:B},{12:130,13:131,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:132,50:63,64:47,65:48,67:133,69:23,70:24,71:25,82:t,89:v,94:w,95:x,96:y,107:B},b(ra,sa,{86:[1,137],139:[1,134],140:[1,135],148:[1,136]}),b(aa,[2,189],{127:[1,138]}),{24:139,25:qa},{24:140,25:qa},b(aa,[2,155]),{24:141,25:qa},{7:142,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,143],27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b(ta,[2,100],{39:22,69:23,70:24,71:25,64:47,65:48,29:49,35:51,27:62,50:63,31:72,12:130,13:131,45:132,24:144,67:146,25:qa,28:d,30:e,32:f,33:g,36:h,37:i,40:j,41:k,42:l,43:m,44:n,82:t,86:[1,145],89:v,94:w,95:x,96:y,107:B}),{7:147,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b([1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,117,132,141,142,143,144,145,146,147],[2,50],{12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,9:18,10:19,45:21,39:22,69:23,70:24,71:25,56:28,67:36,130:37,109:39,113:40,115:41,64:47,65:48,29:49,35:51,27:62,50:63,118:69,31:72,8:122,7:148,11:c,28:d,30:e,32:f,33:g,36:h,37:i,40:j,41:k,42:l,43:m,44:n,51:o,52:p,53:q,57:r,58:s,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,114:E,125:G,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O}),b(aa,[2,51]),b(ra,[2,77]),b(ra,[2,78]),b(ja,[2,32]),b(ja,[2,33]),b(ja,[2,34]),b(ja,[2,35]),b(ja,[2,36]),b(ja,[2,37]),b(ja,[2,38]),{4:149,5:3,7:4,8:5,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,150],27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:151,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:ua,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,63:va,64:47,65:48,66:156,67:36,69:23,70:24,71:25,82:t,85:u,89:v,93:153,94:w,95:x,96:y,97:wa,100:154,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b(ja,[2,116]),b(ja,[2,117],{27:158,28:d}),{25:[2,54]},{25:[2,55]},b(xa,[2,72]),b(xa,[2,75]),{7:159,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:160,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:161,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:163,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,24:162,25:qa,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{27:168,28:d,50:169,64:170,65:171,70:164,82:t,95:oa,96:y,120:165,121:[1,166],122:167},{119:172,123:[1,173],124:[1,174]},b([6,25,60,84],ya,{31:72,83:175,47:176,48:177,10:178,27:179,29:180,50:181,28:d,30:e,32:f,33:g,52:p,95:oa}),b(za,[2,26]),b(za,[2,27]),b(ja,[2,30]),{12:130,13:182,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:132,50:63,64:47,65:48,67:183,69:23,70:24,71:25,82:t,89:v,94:w,95:x,96:y,107:B},b(Aa,[2,25]),b(za,[2,28]),{4:184,5:3,7:4,8:5,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b(Q,[2,5],{7:4,8:5,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,9:18,10:19,45:21,39:22,69:23,70:24,71:25,56:28,67:36,130:37,109:39,113:40,115:41,64:47,65:48,29:49,35:51,27:62,50:63,118:69,31:72,5:185,11:c,28:d,30:e,32:f,33:g,36:h,37:i,40:j,41:k,42:l,43:m,44:n,51:o,52:p,53:q,57:r,58:s,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,110:C,112:D,114:E,116:F,125:G,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O}),b(aa,[2,204]),{7:186,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:187,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:188,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:189,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:190,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:191,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:192,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:193,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:194,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b(aa,[2,154]),b(aa,[2,159]),{7:195,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b(aa,[2,153]),b(aa,[2,158]),{88:196,91:la},b(xa,[2,73]),{91:[2,113]},{27:197,28:d},{27:198,28:d},b(xa,[2,88],{27:199,28:d}),{27:200,28:d},b(xa,[2,89]),{7:202,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,63:Ba,64:47,65:48,67:36,69:23,70:24,71:25,78:201,81:203,82:t,85:u,89:v,94:w,95:x,96:y,98:204,99:Ca,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{76:207,77:fa,80:ga},{88:208,91:la},b(xa,[2,74]),{6:[1,210],7:209,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,211],27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b(Da,[2,111]),{7:214,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:ua,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,63:va,64:47,65:48,66:156,67:36,69:23,70:24,71:25,82:t,85:u,89:v,92:[1,212],93:213,94:w,95:x,96:y,100:154,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b([6,25],Ea,{59:217,55:[1,215],60:Fa}),b(Ga,[2,59]),b(Ga,[2,63],{46:[1,219],63:[1,218]}),b(Ga,[2,66]),b(Ha,[2,67]),b(Ha,[2,68]),b(Ha,[2,69]),b(Ha,[2,70]),{27:158,28:d},{7:214,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:ua,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,63:va,64:47,65:48,66:156,67:36,69:23,70:24,71:25,82:t,85:u,89:v,93:153,94:w,95:x,96:y,97:wa,100:154,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b(aa,[2,53]),{4:221,5:3,7:4,8:5,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,26:[1,220],27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b([1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,117,132,135,136,142,143,144,145,146,147],[2,193],{118:69,109:89,115:90,141:U}),{109:92,110:C,112:D,115:93,116:F,118:69,132:_},b(Ia,[2,194],{118:69,109:89,115:90,141:U,143:W}),b(Ia,[2,195],{118:69,109:89,115:90,141:U,143:W}),b(Ia,[2,196],{118:69,109:89,115:90,141:U,143:W}),b(aa,[2,197],{118:69,109:92,115:93}),b(Ja,[2,198],{118:69,109:89,115:90,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),{7:222,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b(aa,[2,200],{72:sa,73:sa,74:sa,75:sa,77:sa,80:sa,90:sa,91:sa}),{68:95,72:ba,73:ca,74:da,75:ea,76:101,77:fa,80:ga,87:94,90:ha,91:ia},{68:105,72:ba,73:ca,74:da,75:ea,76:101,77:fa,80:ga,87:104,90:ha,91:ia},b(Ka,ka),b(aa,[2,201],{72:sa,73:sa,74:sa,75:sa,77:sa,80:sa,90:sa,91:sa}),b(aa,[2,202]),b(aa,[2,203]),{6:[1,225],7:223,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,224],27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:226,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{24:227,25:qa,131:[1,228]},b(aa,[2,138],{103:229,104:[1,230],105:[1,231]}),b(aa,[2,152]),b(aa,[2,160]),{25:[1,232],109:89,110:C,112:D,115:90,116:F,118:69,132:R,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$},{126:233,128:234,129:La},b(aa,[2,101]),{7:236,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b(ta,[2,104],{24:237,25:qa,72:sa,73:sa,74:sa,75:sa,77:sa,80:sa,90:sa,91:sa,86:[1,238]}),b(Ja,[2,145],{118:69,109:89,115:90,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),b(Ja,[2,49],{118:69,109:89,115:90,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),{6:P,108:[1,239]},{4:240,5:3,7:4,8:5,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b([6,25,60,97],Ma,{118:69,109:89,115:90,98:241,63:[1,242],99:Ca,110:C,112:D,116:F,132:R,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),b(Na,[2,119]),b([6,25,97],Ea,{59:243,60:Oa}),b(Pa,[2,128]),{7:214,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:ua,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,63:va,64:47,65:48,66:156,67:36,69:23,70:24,71:25,82:t,85:u,89:v,93:245,94:w,95:x,96:y,100:154,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b(Pa,[2,134]),b(Pa,[2,135]),b(Aa,[2,118]),{24:246,25:qa,109:89,110:C,112:D,115:90,116:F,118:69,132:R,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$},b(Qa,[2,148],{118:69,109:89,115:90,110:C,111:[1,247],112:D,116:F,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),b(Qa,[2,150],{118:69,109:89,115:90,110:C,111:[1,248],112:D,116:F,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),b(aa,[2,156]),b(Ra,[2,157],{118:69,109:89,115:90,110:C,112:D,116:F,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),b([1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,132,135,136,141,142,143,144,145,146,147],[2,161],{117:[1,249]}),b(Sa,[2,164]),{27:168,28:d,50:169,64:170,65:171,82:t,95:oa,96:pa,120:250,122:167},b(Sa,[2,170],{60:[1,251]}),b(Ta,[2,166]),b(Ta,[2,167]),b(Ta,[2,168]),b(Ta,[2,169]),b(aa,[2,163]),{7:252,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:253,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b([6,25,84],Ea,{59:254,60:Ua}),b(Va,[2,96]),b(Va,[2,42],{49:[1,256]}),b(Va,[2,45]),b(Wa,[2,46]),b(Wa,[2,47]),b(Wa,[2,48]),{38:[1,257],68:105,72:ba,73:ca,74:da,75:ea,76:101,77:fa,80:ga,87:104,90:ha,91:ia},b(Ka,sa),{6:P,34:[1,258]},b(Q,[2,4]),b(Xa,[2,205],{118:69,109:89,115:90,141:U,142:V,143:W}),b(Xa,[2,206],{118:69,109:89,115:90,141:U,142:V,143:W}),b(Ia,[2,207],{118:69,109:89,115:90,141:U,143:W}),b(Ia,[2,208],{118:69,109:89,115:90,141:U,143:W}),b([1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,117,132,144,145,146,147],[2,209],{118:69,109:89,115:90,135:S,136:T,141:U,142:V,143:W}),b([1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,117,132,145,146],[2,210],{118:69,109:89,115:90,135:S,136:T,141:U,142:V,143:W,144:X,147:$}),b([1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,117,132,146],[2,211],{118:69,109:89,115:90,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,147:$}),b([1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,117,132,145,146,147],[2,212],{118:69,109:89,115:90,135:S,136:T,141:U,142:V,143:W,144:X}),b(Ra,[2,192],{118:69,109:89,115:90,110:C,112:D,116:F,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),b(Ra,[2,191],{118:69,109:89,115:90,110:C,112:D,116:F,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),b(Da,[2,108]),b(xa,[2,84]),b(xa,[2,85]),b(xa,[2,86]),b(xa,[2,87]),{79:[1,259]},{63:Ba,79:[2,92],98:260,99:Ca,109:89,110:C,112:D,115:90,116:F,118:69,132:R,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$},{79:[2,93]},{7:261,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,79:[2,127],82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b(Ya,[2,121]),b(Ya,Za),b(xa,[2,91]),b(Da,[2,109]),b(Ja,[2,39],{118:69,109:89,115:90,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),{7:262,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:263,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b(Da,[2,114]),b([6,25,92],Ea,{59:264,60:Oa}),b(Pa,Ma,{118:69,109:89,115:90,63:[1,265],110:C,112:D,116:F,132:R,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),{56:266,57:r,58:s},b($a,_a,{62:111,27:113,50:114,64:115,65:116,61:267,28:d,63:na,82:t,95:oa,96:pa}),{6:ab,25:bb},b(Ga,[2,64]),{7:270,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b(cb,[2,23]),{6:P,26:[1,271]},b(Ja,[2,199],{118:69,109:89,115:90,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),b(Ja,[2,213],{118:69,109:89,115:90,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),{7:272,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:273,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b(Ja,[2,216],{118:69,109:89,115:90,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),b(aa,[2,190]),{7:274,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b(aa,[2,139],{104:[1,275]}),{24:276,25:qa},{24:279,25:qa,27:277,28:d,65:278,82:t},{126:280,128:234,129:La},{26:[1,281],127:[1,282],128:283,129:La},b(db,[2,183]),{7:285,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,101:284,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b(eb,[2,102],{118:69,109:89,115:90,24:286,25:qa,110:C,112:D,116:F,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),b(aa,[2,105]),{7:287,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b(ja,[2,146]),{6:P,26:[1,288]},{7:289,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b([11,28,30,32,33,36,37,40,41,42,43,44,51,52,53,57,58,82,85,89,94,95,96,102,106,107,110,112,114,116,125,131,133,134,135,136,137,139,140],Za,{6:fb,25:fb,60:fb,97:fb}),{6:gb,25:hb,97:[1,290]},b([6,25,26,92,97],_a,{12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,9:18,10:19,45:21,39:22,69:23,70:24,71:25,56:28,67:36,130:37,109:39,113:40,115:41,64:47,65:48,29:49,35:51,27:62,50:63,118:69,31:72,8:122,66:156,7:214,100:293,11:c,28:d,30:e,32:f,33:g,36:h,37:i,40:j,41:k,42:l,43:m,44:n,51:o,52:p,53:q,57:r,58:s,63:va,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,110:C,112:D,114:E,116:F,125:G,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O}),b($a,Ea,{59:294,60:Oa}),b(ib,[2,187]),{7:295,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:296,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:297,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b(Sa,[2,165]),{27:168,28:d,50:169,64:170,65:171,82:t,95:oa,96:pa,122:298},b([1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,112,116,132],[2,172],{118:69,109:89,115:90,111:[1,299],117:[1,300],135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),b(jb,[2,173],{118:69,109:89,115:90,111:[1,301],135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),{6:kb,25:lb,84:[1,302]},b([6,25,26,84],_a,{31:72,48:177,10:178,27:179,29:180,50:181,47:305,28:d,30:e,32:f,33:g,52:p,95:oa}),{7:306,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,307],27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b(ja,[2,31]),b(za,[2,29]),b(xa,[2,90]),{7:308,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,79:[2,125],82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{79:[2,126],109:89,110:C,112:D,115:90,116:F,118:69,132:R,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$},b(Ja,[2,40],{118:69,109:89,115:90,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),{26:[1,309],109:89,110:C,112:D,115:90,116:F,118:69,132:R,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$},{6:gb,25:hb,92:[1,310]},b(Pa,fb),{24:311,25:qa},b(Ga,[2,60]),{27:113,28:d,50:114,61:312,62:111,63:na,64:115,65:116,82:t,95:oa,96:pa},b(mb,ma,{61:110,62:111,27:113,50:114,64:115,65:116,54:313,28:d,63:na,82:t,95:oa,96:pa}),b(Ga,[2,65],{118:69,109:89,115:90,110:C,112:D,116:F,132:R,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),b(cb,[2,24]),{26:[1,314],109:89,110:C,112:D,115:90,116:F,118:69,132:R,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$},b(Ja,[2,215],{118:69,109:89,115:90,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),{24:315,25:qa,109:89,110:C,112:D,115:90,116:F,118:69,132:R,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$},{24:316,25:qa},b(aa,[2,140]),{24:317,25:qa},{24:318,25:qa},b(nb,[2,144]),{26:[1,319],127:[1,320],128:283,129:La},b(aa,[2,181]),{24:321,25:qa},b(db,[2,184]),{24:322,25:qa,60:[1,323]},b(ob,[2,136],{118:69,109:89,115:90,110:C,112:D,116:F,132:R,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),b(aa,[2,103]),b(eb,[2,106],{118:69,109:89,115:90,24:324,25:qa,110:C,112:D,116:F,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),{108:[1,325]},{97:[1,326],109:89,110:C,112:D,115:90,116:F,118:69,132:R,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$},b(Na,[2,120]),{7:214,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,63:va,64:47,65:48,66:156,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,100:327,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:214,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:ua,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,63:va,64:47,65:48,66:156,67:36,69:23,70:24,71:25,82:t,85:u,89:v,93:328,94:w,95:x,96:y,100:154,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b(Pa,[2,129]),{6:gb,25:hb,26:[1,329]},b(Ra,[2,149],{118:69,109:89,115:90,110:C,112:D,116:F,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),b(Ra,[2,151],{118:69,109:89,115:90,110:C,112:D,116:F,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),b(Ra,[2,162],{118:69,109:89,115:90,110:C,112:D,116:F,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),b(Sa,[2,171]),{7:330,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,
45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:331,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:332,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b(Na,[2,94]),{10:178,27:179,28:d,29:180,30:e,31:72,32:f,33:g,47:333,48:177,50:181,52:p,95:oa},b(mb,ya,{31:72,47:176,48:177,10:178,27:179,29:180,50:181,83:334,28:d,30:e,32:f,33:g,52:p,95:oa}),b(Va,[2,97]),b(Va,[2,43],{118:69,109:89,115:90,110:C,112:D,116:F,132:R,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),{7:335,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{79:[2,124],109:89,110:C,112:D,115:90,116:F,118:69,132:R,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$},b(aa,[2,41]),b(Da,[2,115]),b(aa,[2,52]),b(Ga,[2,61]),b($a,Ea,{59:336,60:Fa}),b(aa,[2,214]),b(ib,[2,188]),b(aa,[2,141]),b(nb,[2,142]),b(nb,[2,143]),b(aa,[2,179]),{24:337,25:qa},{26:[1,338]},b(db,[2,185],{6:[1,339]}),{7:340,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},b(aa,[2,107]),b(ja,[2,147]),b(ja,[2,123]),b(Pa,[2,130]),b($a,Ea,{59:341,60:Oa}),b(Pa,[2,131]),b([1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,132],[2,174],{118:69,109:89,115:90,117:[1,342],135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),b(jb,[2,176],{118:69,109:89,115:90,111:[1,343],135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),b(Ja,[2,175],{118:69,109:89,115:90,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),b(Va,[2,98]),b($a,Ea,{59:344,60:Ua}),{26:[1,345],109:89,110:C,112:D,115:90,116:F,118:69,132:R,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$},{6:ab,25:bb,26:[1,346]},{26:[1,347]},b(aa,[2,182]),b(db,[2,186]),b(ob,[2,137],{118:69,109:89,115:90,110:C,112:D,116:F,132:R,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),{6:gb,25:hb,26:[1,348]},{7:349,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{7:350,8:122,9:18,10:19,11:c,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:d,29:49,30:e,31:72,32:f,33:g,35:51,36:h,37:i,39:22,40:j,41:k,42:l,43:m,44:n,45:21,50:63,51:o,52:p,53:q,56:28,57:r,58:s,64:47,65:48,67:36,69:23,70:24,71:25,82:t,85:u,89:v,94:w,95:x,96:y,102:z,106:A,107:B,109:39,110:C,112:D,113:40,114:E,115:41,116:F,118:69,125:G,130:37,131:H,133:I,134:J,135:K,136:L,137:M,139:N,140:O},{6:kb,25:lb,26:[1,351]},b(Va,[2,44]),b(Ga,[2,62]),b(aa,[2,180]),b(Pa,[2,132]),b(Ja,[2,177],{118:69,109:89,115:90,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),b(Ja,[2,178],{118:69,109:89,115:90,135:S,136:T,141:U,142:V,143:W,144:X,145:Y,146:Z,147:$}),b(Va,[2,99])],defaultActions:{60:[2,54],61:[2,55],96:[2,113],203:[2,93]},parseError:function(a,b){if(!b.recoverable)throw Error(a);this.trace(a)},parse:function(a){function b(){var a;return a=o.lex()||m,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0,l=2,m=1,n=f.slice.call(arguments,1),o=Object.create(this.lexer),p={yy:{}};for(var q in this.yy)Object.prototype.hasOwnProperty.call(this.yy,q)&&(p.yy[q]=this.yy[q]);o.setInput(a,p.yy),p.yy.lexer=o,p.yy.parser=this,void 0===o.yylloc&&(o.yylloc={});var r=o.yylloc;f.push(r);var s=o.options&&o.options.ranges;this.parseError="function"==typeof p.yy.parseError?p.yy.parseError:Object.getPrototypeOf(this).parseError;for(var t,u,v,w,x,y,z,A,B,C={};;){if(v=d[d.length-1],this.defaultActions[v]?w=this.defaultActions[v]:((null===t||void 0===t)&&(t=b()),w=g[v]&&g[v][t]),void 0===w||!w.length||!w[0]){var D="";B=[];for(y in g[v])this.terminals_[y]&&y>l&&B.push("'"+this.terminals_[y]+"'");D=o.showPosition?"Parse error on line "+(i+1)+":\n"+o.showPosition()+"\nExpecting "+B.join(", ")+", got '"+(this.terminals_[t]||t)+"'":"Parse error on line "+(i+1)+": Unexpected "+(t==m?"end of input":"'"+(this.terminals_[t]||t)+"'"),this.parseError(D,{text:o.match,token:this.terminals_[t]||t,line:o.yylineno,loc:r,expected:B})}if(w[0]instanceof Array&&w.length>1)throw Error("Parse Error: multiple actions possible at state: "+v+", token: "+t);switch(w[0]){case 1:d.push(t),e.push(o.yytext),f.push(o.yylloc),d.push(w[1]),t=null,u?(t=u,u=null):(j=o.yyleng,h=o.yytext,i=o.yylineno,r=o.yylloc,k>0&&k--);break;case 2:if(z=this.productions_[w[1]][1],C.$=e[e.length-z],C._$={first_line:f[f.length-(z||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(z||1)].first_column,last_column:f[f.length-1].last_column},s&&(C._$.range=[f[f.length-(z||1)].range[0],f[f.length-1].range[1]]),x=this.performAction.apply(C,[h,j,i,p.yy,w[1],e,f].concat(n)),void 0!==x)return x;z&&(d=d.slice(0,-2*z),e=e.slice(0,-1*z),f=f.slice(0,-1*z)),d.push(this.productions_[w[1]][0]),e.push(C.$),f.push(C._$),A=g[d[d.length-2]][d[d.length-1]],d.push(A);break;case 3:return!0}}return!0}};return a.prototype=pb,pb.Parser=a,new a}();return void 0!==require&&void 0!==a&&(a.parser=c,a.Parser=c.Parser,a.parse=function(){return c.parse.apply(c,arguments)},a.main=function(b){b[1]||(console.log("Usage: "+b[0]+" FILE"),process.exit(1));var c=require("fs").readFileSync(require("path").normalize(b[1]),"utf8");return a.parser.parse(c)},void 0!==b&&require.main===b&&a.main(process.argv.slice(1))),b.exports}(),require["./scope"]=function(){var a={},b={exports:a};return function(){var b,c=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};a.Scope=b=function(){function a(a,b,c,d){var e,f;this.parent=a,this.expressions=b,this.method=c,this.referencedVars=d,this.variables=[{name:"arguments",type:"arguments"}],this.positions={},this.parent||(this.utilities={}),this.root=null!=(e=null!=(f=this.parent)?f.root:void 0)?e:this}return a.prototype.add=function(a,b,c){return this.shared&&!c?this.parent.add(a,b,c):Object.prototype.hasOwnProperty.call(this.positions,a)?this.variables[this.positions[a]].type=b:this.positions[a]=this.variables.push({name:a,type:b})-1},a.prototype.namedMethod=function(){var a;return(null!=(a=this.method)?a.name:void 0)||!this.parent?this.method:this.parent.namedMethod()},a.prototype.find=function(a){return this.check(a)?!0:(this.add(a,"var"),!1)},a.prototype.parameter=function(a){return this.shared&&this.parent.check(a,!0)?void 0:this.add(a,"param")},a.prototype.check=function(a){var b;return!!(this.type(a)||(null!=(b=this.parent)?b.check(a):void 0))},a.prototype.temporary=function(a,b,c){return null==c&&(c=!1),c?(b+parseInt(a,36)).toString(36).replace(/\d/g,"a"):a+(b||"")},a.prototype.type=function(a){var b,c,d,e;for(d=this.variables,b=0,c=d.length;c>b;b++)if(e=d[b],e.name===a)return e.type;return null},a.prototype.freeVariable=function(a,b){var d,e,f;for(null==b&&(b={}),d=0;f=this.temporary(a,d,b.single),this.check(f)||c.call(this.root.referencedVars,f)>=0;)d++;return(null!=(e=b.reserve)?e:!0)&&this.add(f,"var",!0),f},a.prototype.assign=function(a,b){return this.add(a,{value:b,assigned:!0},!0),this.hasAssignments=!0},a.prototype.hasDeclarations=function(){return!!this.declaredVariables().length},a.prototype.declaredVariables=function(){var a;return function(){var b,c,d,e;for(d=this.variables,e=[],b=0,c=d.length;c>b;b++)a=d[b],"var"===a.type&&e.push(a.name);return e}.call(this).sort()},a.prototype.assignedVariables=function(){var a,b,c,d,e;for(c=this.variables,d=[],a=0,b=c.length;b>a;a++)e=c[a],e.type.assigned&&d.push(e.name+" = "+e.type.value);return d},a}()}.call(this),b.exports}(),require["./nodes"]=function(){var a={},b={exports:a};return function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua=function(a,b){function c(){this.constructor=a}for(var d in b)va.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},va={}.hasOwnProperty,wa=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},xa=[].slice;Error.stackTraceLimit=1/0,P=require("./scope").Scope,na=require("./lexer"),K=na.RESERVED,O=na.STRICT_PROSCRIBED,oa=require("./helpers"),aa=oa.compact,ea=oa.flatten,da=oa.extend,ka=oa.merge,ba=oa.del,qa=oa.starts,ca=oa.ends,pa=oa.some,_=oa.addLocationDataFn,ja=oa.locationDataToString,ra=oa.throwSyntaxError,a.extend=da,a.addLocationDataFn=_,$=function(){return!0},E=function(){return!1},U=function(){return this},D=function(){return this.negated=!this.negated,this},a.CodeFragment=j=function(){function a(a,b){var c;this.code=""+b,this.locationData=null!=a?a.locationData:void 0,this.type=(null!=a&&null!=(c=a.constructor)?c.name:void 0)||"unknown"}return a.prototype.toString=function(){return""+this.code+(this.locationData?": "+ja(this.locationData):"")},a}(),fa=function(a){var b;return function(){var c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(b.code);return e}().join("")},a.Base=e=function(){function a(){}return a.prototype.compile=function(a,b){return fa(this.compileToFragments(a,b))},a.prototype.compileToFragments=function(a,b){var c;return a=da({},a),b&&(a.level=b),c=this.unfoldSoak(a)||this,c.tab=a.indent,a.level!==B&&c.isStatement(a)?c.compileClosure(a):c.compileNode(a)},a.prototype.compileClosure=function(a){var c,d,e,h,j,k;return(h=this.jumps())&&h.error("cannot use a pure statement in an expression"),a.sharedScope=!0,e=new i([],f.wrap([this])),c=[],((d=this.contains(ha))||this.contains(ia))&&(c=[new C("this")],d?(j="apply",c.push(new C("arguments"))):j="call",e=new Y(e,[new b(new C(j))])),k=new g(e,c).compileNode(a),e.isGenerator&&(k.unshift(this.makeCode("(yield* ")),k.push(this.makeCode(")"))),k},a.prototype.cache=function(a,b,c){var e,f,g;return e=null!=c?c(this):this.isComplex(),e?(f=new C(a.scope.freeVariable("ref")),g=new d(f,this),b?[g.compileToFragments(a,b),[this.makeCode(f.value)]]:[g,f]):(f=b?this.compileToFragments(a,b):this,[f,f])},a.prototype.cacheToCodeFragments=function(a){return[fa(a[0]),fa(a[1])]},a.prototype.makeReturn=function(a){var b;return b=this.unwrapAll(),a?new g(new C(a+".push"),[b]):new M(b)},a.prototype.contains=function(a){var b;return b=void 0,this.traverseChildren(!1,function(c){return a(c)?(b=c,!1):void 0}),b},a.prototype.lastNonComment=function(a){var b;for(b=a.length;b--;)if(!(a[b]instanceof k))return a[b];return null},a.prototype.toString=function(a,b){var c;return null==a&&(a=""),null==b&&(b=this.constructor.name),c="\n"+a+b,this.soak&&(c+="?"),this.eachChild(function(b){return c+=b.toString(a+T)}),c},a.prototype.eachChild=function(a){var b,c,d,e,f,g,h,i;if(!this.children)return this;for(h=this.children,d=0,f=h.length;f>d;d++)if(b=h[d],this[b])for(i=ea([this[b]]),e=0,g=i.length;g>e;e++)if(c=i[e],a(c)===!1)return this;return this},a.prototype.traverseChildren=function(a,b){return this.eachChild(function(c){var d;return d=b(c),d!==!1?c.traverseChildren(a,b):void 0})},a.prototype.invert=function(){return new H("!",this)},a.prototype.unwrapAll=function(){var a;for(a=this;a!==(a=a.unwrap()););return a},a.prototype.children=[],a.prototype.isStatement=E,a.prototype.jumps=E,a.prototype.isComplex=$,a.prototype.isChainable=E,a.prototype.isAssignable=E,a.prototype.unwrap=U,a.prototype.unfoldSoak=E,a.prototype.assigns=E,a.prototype.updateLocationDataIfMissing=function(a){return this.locationData?this:(this.locationData=a,this.eachChild(function(b){return b.updateLocationDataIfMissing(a)}))},a.prototype.error=function(a){return ra(a,this.locationData)},a.prototype.makeCode=function(a){return new j(this,a)},a.prototype.wrapInBraces=function(a){return[].concat(this.makeCode("("),a,this.makeCode(")"))},a.prototype.joinFragmentArrays=function(a,b){var c,d,e,f,g;for(c=[],e=f=0,g=a.length;g>f;e=++f)d=a[e],e&&c.push(this.makeCode(b)),c=c.concat(d);return c},a}(),a.Block=f=function(a){function b(a){this.expressions=aa(ea(a||[]))}return ua(b,a),b.prototype.children=["expressions"],b.prototype.push=function(a){return this.expressions.push(a),this},b.prototype.pop=function(){return this.expressions.pop()},b.prototype.unshift=function(a){return this.expressions.unshift(a),this},b.prototype.unwrap=function(){return 1===this.expressions.length?this.expressions[0]:this},b.prototype.isEmpty=function(){return!this.expressions.length},b.prototype.isStatement=function(a){var b,c,d,e;for(e=this.expressions,c=0,d=e.length;d>c;c++)if(b=e[c],b.isStatement(a))return!0;return!1},b.prototype.jumps=function(a){var b,c,d,e,f;for(f=this.expressions,c=0,e=f.length;e>c;c++)if(b=f[c],d=b.jumps(a))return d},b.prototype.makeReturn=function(a){var b,c;for(c=this.expressions.length;c--;)if(b=this.expressions[c],!(b instanceof k)){this.expressions[c]=b.makeReturn(a),b instanceof M&&!b.expression&&this.expressions.splice(c,1);break}return this},b.prototype.compileToFragments=function(a,c){return null==a&&(a={}),a.scope?b.__super__.compileToFragments.call(this,a,c):this.compileRoot(a)},b.prototype.compileNode=function(a){var c,d,e,f,g,h,i,j,k;for(this.tab=a.indent,k=a.level===B,d=[],j=this.expressions,f=g=0,h=j.length;h>g;f=++g)i=j[f],i=i.unwrapAll(),i=i.unfoldSoak(a)||i,i instanceof b?d.push(i.compileNode(a)):k?(i.front=!0,e=i.compileToFragments(a),i.isStatement(a)||(e.unshift(this.makeCode(""+this.tab)),e.push(this.makeCode(";"))),d.push(e)):d.push(i.compileToFragments(a,y));return k?this.spaced?[].concat(this.joinFragmentArrays(d,"\n\n"),this.makeCode("\n")):this.joinFragmentArrays(d,"\n"):(c=d.length?this.joinFragmentArrays(d,", "):[this.makeCode("void 0")],d.length>1&&a.level>=y?this.wrapInBraces(c):c)},b.prototype.compileRoot=function(a){var b,c,d,e,f,g,h,i,j,l,m;for(a.indent=a.bare?"":T,a.level=B,this.spaced=!0,a.scope=new P(null,this,null,null!=(j=a.referencedVars)?j:[]),l=a.locals||[],e=0,f=l.length;f>e;e++)g=l[e],a.scope.parameter(g);return h=[],a.bare||(i=function(){var a,c,e,f;for(e=this.expressions,f=[],d=a=0,c=e.length;c>a&&(b=e[d],b.unwrap()instanceof k);d=++a)f.push(b);return f}.call(this),m=this.expressions.slice(i.length),this.expressions=i,i.length&&(h=this.compileNode(ka(a,{indent:""})),h.push(this.makeCode("\n"))),this.expressions=m),c=this.compileWithDeclarations(a),a.bare?c:[].concat(h,this.makeCode("(function() {\n"),c,this.makeCode("\n}).call(this);\n"))},b.prototype.compileWithDeclarations=function(a){var b,c,d,e,f,g,h,i,j,l,m,n,o,p;for(e=[],i=[],j=this.expressions,f=g=0,h=j.length;h>g&&(d=j[f],d=d.unwrap(),d instanceof k||d instanceof C);f=++g);return a=ka(a,{level:B}),f&&(n=this.expressions.splice(f,9e9),l=[this.spaced,!1],p=l[0],this.spaced=l[1],m=[this.compileNode(a),p],e=m[0],this.spaced=m[1],this.expressions=n),i=this.compileNode(a),o=a.scope,o.expressions===this&&(c=a.scope.hasDeclarations(),b=o.hasAssignments,c||b?(f&&e.push(this.makeCode("\n")),e.push(this.makeCode(this.tab+"var ")),c&&e.push(this.makeCode(o.declaredVariables().join(", "))),b&&(c&&e.push(this.makeCode(",\n"+(this.tab+T))),e.push(this.makeCode(o.assignedVariables().join(",\n"+(this.tab+T))))),e.push(this.makeCode(";\n"+(this.spaced?"\n":"")))):e.length&&i.length&&e.push(this.makeCode("\n"))),e.concat(i)},b.wrap=function(a){return 1===a.length&&a[0]instanceof b?a[0]:new b(a)},b}(e),a.Literal=C=function(a){function b(a){this.value=a}return ua(b,a),b.prototype.makeReturn=function(){return this.isStatement()?this:b.__super__.makeReturn.apply(this,arguments)},b.prototype.isAssignable=function(){return q.test(this.value)},b.prototype.isStatement=function(){var a;return"break"===(a=this.value)||"continue"===a||"debugger"===a},b.prototype.isComplex=E,b.prototype.assigns=function(a){return a===this.value},b.prototype.jumps=function(a){return("break"!==this.value||(null!=a?a.loop:void 0)||(null!=a?a.block:void 0))&&("continue"!==this.value||(null!=a?a.loop:void 0))?void 0:this},b.prototype.compileNode=function(a){var b,c,d;return c="this"===this.value?(null!=(d=a.scope.method)?d.bound:void 0)?a.scope.method.context:this.value:this.value.reserved?'"'+this.value+'"':this.value,b=this.isStatement()?""+this.tab+c+";":c,[this.makeCode(b)]},b.prototype.toString=function(){return' "'+this.value+'"'},b}(e),a.Undefined=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return ua(b,a),b.prototype.isAssignable=E,b.prototype.isComplex=E,b.prototype.compileNode=function(a){return[this.makeCode(a.level>=w?"(void 0)":"void 0")]},b}(e),a.Null=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return ua(b,a),b.prototype.isAssignable=E,b.prototype.isComplex=E,b.prototype.compileNode=function(){return[this.makeCode("null")]},b}(e),a.Bool=function(a){function b(a){this.val=a}return ua(b,a),b.prototype.isAssignable=E,b.prototype.isComplex=E,b.prototype.compileNode=function(){return[this.makeCode(this.val)]},b}(e),a.Return=M=function(a){function b(a){this.expression=a}return ua(b,a),b.prototype.children=["expression"],b.prototype.isStatement=$,b.prototype.makeReturn=U,b.prototype.jumps=U,b.prototype.compileToFragments=function(a,c){var d,e;return d=null!=(e=this.expression)?e.makeReturn():void 0,!d||d instanceof b?b.__super__.compileToFragments.call(this,a,c):d.compileToFragments(a,c)},b.prototype.compileNode=function(a){var b,c,d;return b=[],c=null!=(d=this.expression)&&"function"==typeof d.isYieldReturn?d.isYieldReturn():void 0,c||b.push(this.makeCode(this.tab+("return"+(this.expression?" ":"")))),this.expression&&(b=b.concat(this.expression.compileToFragments(a,A))),c||b.push(this.makeCode(";")),b},b}(e),a.Value=Y=function(a){function b(a,c,d){return!c&&a instanceof b?a:(this.base=a,this.properties=c||[],d&&(this[d]=!0),this)}return ua(b,a),b.prototype.children=["base","properties"],b.prototype.add=function(a){return this.properties=this.properties.concat(a),this},b.prototype.hasProperties=function(){return!!this.properties.length},b.prototype.bareLiteral=function(a){return!this.properties.length&&this.base instanceof a},b.prototype.isArray=function(){return this.bareLiteral(c)},b.prototype.isRange=function(){return this.bareLiteral(L)},b.prototype.isComplex=function(){return this.hasProperties()||this.base.isComplex()},b.prototype.isAssignable=function(){return this.hasProperties()||this.base.isAssignable()},b.prototype.isSimpleNumber=function(){return this.bareLiteral(C)&&N.test(this.base.value)},b.prototype.isString=function(){return this.bareLiteral(C)&&s.test(this.base.value)},b.prototype.isRegex=function(){return this.bareLiteral(C)&&r.test(this.base.value)},b.prototype.isAtomic=function(){var a,b,c,d;for(d=this.properties.concat(this.base),a=0,b=d.length;b>a;a++)if(c=d[a],c.soak||c instanceof g)return!1;return!0},b.prototype.isNotCallable=function(){return this.isSimpleNumber()||this.isString()||this.isRegex()||this.isArray()||this.isRange()||this.isSplice()||this.isObject()},b.prototype.isStatement=function(a){return!this.properties.length&&this.base.isStatement(a)},b.prototype.assigns=function(a){return!this.properties.length&&this.base.assigns(a)},b.prototype.jumps=function(a){return!this.properties.length&&this.base.jumps(a)},b.prototype.isObject=function(a){return this.properties.length?!1:this.base instanceof G&&(!a||this.base.generated)},b.prototype.isSplice=function(){var a,b;return b=this.properties,a=b[b.length-1],a instanceof Q},b.prototype.looksStatic=function(a){var b;return this.base.value===a&&1===this.properties.length&&"prototype"!==(null!=(b=this.properties[0].name)?b.value:void 0)},b.prototype.unwrap=function(){return this.properties.length?this:this.base},b.prototype.cacheReference=function(a){var c,e,f,g,h;return h=this.properties,f=h[h.length-1],2>this.properties.length&&!this.base.isComplex()&&!(null!=f?f.isComplex():void 0)?[this,this]:(c=new b(this.base,this.properties.slice(0,-1)),c.isComplex()&&(e=new C(a.scope.freeVariable("base")),c=new b(new J(new d(e,c)))),f?(f.isComplex()&&(g=new C(a.scope.freeVariable("name")),f=new v(new d(g,f.index)),g=new v(g)),[c.add(f),new b(e||c.base,[g||f])]):[c,e])},b.prototype.compileNode=function(a){var b,c,d,e,f;for(this.base.front=this.front,f=this.properties,b=this.base.compileToFragments(a,f.length?w:null),(this.base instanceof J||f.length)&&N.test(fa(b))&&b.push(this.makeCode(".")),c=0,d=f.length;d>c;c++)e=f[c],b.push.apply(b,e.compileToFragments(a));return b},b.prototype.unfoldSoak=function(a){return null!=this.unfoldedSoak?this.unfoldedSoak:this.unfoldedSoak=function(c){return function(){var e,f,g,h,i,j,k,m,n,o;if(g=c.base.unfoldSoak(a))return(m=g.body.properties).push.apply(m,c.properties),g;for(n=c.properties,f=h=0,i=n.length;i>h;f=++h)if(j=n[f],j.soak)return j.soak=!1,e=new b(c.base,c.properties.slice(0,f)),o=new b(c.base,c.properties.slice(f)),e.isComplex()&&(k=new C(a.scope.freeVariable("ref")),e=new J(new d(k,e)),o.base=k),new t(new l(e),o,{soak:!0});return!1}}(this)()},b}(e),a.Comment=k=function(a){function b(a){this.comment=a}return ua(b,a),b.prototype.isStatement=$,b.prototype.makeReturn=U,b.prototype.compileNode=function(a,b){var c,d;return d=this.comment.replace(/^(\s*)# /gm,"$1 * "),c="/*"+la(d,this.tab)+(wa.call(d,"\n")>=0?"\n"+this.tab:"")+" */",(b||a.level)===B&&(c=a.indent+c),[this.makeCode("\n"),this.makeCode(c)]},b}(e),a.Call=g=function(a){function c(a,b,c){this.args=null!=b?b:[],this.soak=c,this.isNew=!1,this.isSuper="super"===a,this.variable=this.isSuper?null:a,a instanceof Y&&a.isNotCallable()&&a.error("literal is not a function")}return ua(c,a),c.prototype.children=["variable","args"],c.prototype.newInstance=function(){var a,b;return a=(null!=(b=this.variable)?b.base:void 0)||this.variable,a instanceof c&&!a.isNew?a.newInstance():this.isNew=!0,this},c.prototype.superReference=function(a){var c,e,f,g,h,i,j,k;return h=a.scope.namedMethod(),(null!=h?h.klass:void 0)?(g=h.klass,i=h.name,k=h.variable,g.isComplex()&&(f=new C(a.scope.parent.freeVariable("base")),e=new Y(new J(new d(f,g))),k.base=e,k.properties.splice(0,g.properties.length)),(i.isComplex()||i instanceof v&&i.index.isAssignable())&&(j=new C(a.scope.parent.freeVariable("name")),i=new v(new d(j,i.index)),k.properties.pop(),k.properties.push(i)),c=[new b(new C("__super__"))],h["static"]&&c.push(new b(new C("constructor"))),c.push(null!=j?new v(j):i),new Y(null!=f?f:g,c).compile(a)):(null!=h?h.ctor:void 0)?h.name+".__super__.constructor":this.error("cannot call super outside of an instance method.")},c.prototype.superThis=function(a){var b;return b=a.scope.method,b&&!b.klass&&b.context||"this"},c.prototype.unfoldSoak=function(a){var b,d,e,f,g,h,i,j,k;if(this.soak){if(this.variable){if(d=sa(a,this,"variable"))return d;i=new Y(this.variable).cacheReference(a),f=i[0],k=i[1]}else f=new C(this.superReference(a)),k=new Y(f);return k=new c(k,this.args),k.isNew=this.isNew,f=new C("typeof "+f.compile(a)+' === "function"'),new t(f,new Y(k),{soak:!0})}for(b=this,h=[];;)if(b.variable instanceof c)h.push(b),b=b.variable;else{if(!(b.variable instanceof Y))break;if(h.push(b),!((b=b.variable.base)instanceof c))break}for(j=h.reverse(),e=0,g=j.length;g>e;e++)b=j[e],d&&(b.variable instanceof c?b.variable=d:b.variable.base=d),d=sa(a,b,"variable");return d},c.prototype.compileNode=function(a){var b,c,d,e,f,g,h,i,j,k;if(null!=(j=this.variable)&&(j.front=this.front),e=R.compileSplattedArray(a,this.args,!0),e.length)return this.compileSplat(a,e);for(d=[],k=this.args,c=g=0,h=k.length;h>g;c=++g)b=k[c],c&&d.push(this.makeCode(", ")),d.push.apply(d,b.compileToFragments(a,y));return f=[],this.isSuper?(i=this.superReference(a)+(".call("+this.superThis(a)),d.length&&(i+=", "),f.push(this.makeCode(i))):(this.isNew&&f.push(this.makeCode("new ")),f.push.apply(f,this.variable.compileToFragments(a,w)),f.push(this.makeCode("("))),f.push.apply(f,d),f.push(this.makeCode(")")),f},c.prototype.compileSplat=function(a,b){var c,d,e,f,g,h;return this.isSuper?[].concat(this.makeCode(this.superReference(a)+".apply("+this.superThis(a)+", "),b,this.makeCode(")")):this.isNew?(f=this.tab+T,[].concat(this.makeCode("(function(func, args, ctor) {\n"+f+"ctor.prototype = func.prototype;\n"+f+"var child = new ctor, result = func.apply(child, args);\n"+f+"return Object(result) === result ? result : child;\n"+this.tab+"})("),this.variable.compileToFragments(a,y),this.makeCode(", "),b,this.makeCode(", function(){})"))):(c=[],d=new Y(this.variable),(g=d.properties.pop())&&d.isComplex()?(h=a.scope.freeVariable("ref"),c=c.concat(this.makeCode("("+h+" = "),d.compileToFragments(a,y),this.makeCode(")"),g.compileToFragments(a))):(e=d.compileToFragments(a,w),N.test(fa(e))&&(e=this.wrapInBraces(e)),g?(h=fa(e),e.push.apply(e,g.compileToFragments(a))):h="null",c=c.concat(e)),c=c.concat(this.makeCode(".apply("+h+", "),b,this.makeCode(")")))},c}(e),a.Extends=n=function(a){function b(a,b){this.child=a,this.parent=b}return ua(b,a),b.prototype.children=["child","parent"],b.prototype.compileToFragments=function(a){return new g(new Y(new C(ta("extend",a))),[this.child,this.parent]).compileToFragments(a)},b}(e),a.Access=b=function(a){function b(a,b){this.name=a,this.name.asKey=!0,this.soak="soak"===b}return ua(b,a),b.prototype.children=["name"],b.prototype.compileToFragments=function(a){var b;return b=this.name.compileToFragments(a),q.test(fa(b))?b.unshift(this.makeCode(".")):(b.unshift(this.makeCode("[")),b.push(this.makeCode("]"))),b},b.prototype.isComplex=E,b}(e),a.Index=v=function(a){function b(a){this.index=a}return ua(b,a),b.prototype.children=["index"],b.prototype.compileToFragments=function(a){return[].concat(this.makeCode("["),this.index.compileToFragments(a,A),this.makeCode("]"))},b.prototype.isComplex=function(){return this.index.isComplex()},b}(e),a.Range=L=function(a){function b(a,b,c){this.from=a,this.to=b,this.exclusive="exclusive"===c,this.equals=this.exclusive?"":"="}return ua(b,a),b.prototype.children=["from","to"],b.prototype.compileVariables=function(a){var b,c,d,e,f,g;return a=ka(a,{top:!0}),b=ba(a,"isComplex"),c=this.cacheToCodeFragments(this.from.cache(a,y,b)),this.fromC=c[0],this.fromVar=c[1],d=this.cacheToCodeFragments(this.to.cache(a,y,b)),this.toC=d[0],this.toVar=d[1],(g=ba(a,"step"))&&(e=this.cacheToCodeFragments(g.cache(a,y,b)),this.step=e[0],this.stepVar=e[1]),f=[this.fromVar.match(F),this.toVar.match(F)],this.fromNum=f[0],this.toNum=f[1],this.stepVar?this.stepNum=this.stepVar.match(F):void 0},b.prototype.compileNode=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;return this.fromVar||this.compileVariables(a),a.index?(h=this.fromNum&&this.toNum,f=ba(a,"index"),g=ba(a,"name"),j=g&&g!==f,o=f+" = "+this.fromC,this.toC!==this.toVar&&(o+=", "+this.toC),this.step!==this.stepVar&&(o+=", "+this.step),k=[f+" <"+this.equals,f+" >"+this.equals],i=k[0],e=k[1],c=this.stepNum?ma(this.stepNum[0])>0?i+" "+this.toVar:e+" "+this.toVar:h?(l=[ma(this.fromNum[0]),ma(this.toNum[0])],d=l[0],n=l[1],n>=d?i+" "+n:e+" "+n):(b=this.stepVar?this.stepVar+" > 0":this.fromVar+" <= "+this.toVar,b+" ? "+i+" "+this.toVar+" : "+e+" "+this.toVar),m=this.stepVar?f+" += "+this.stepVar:h?j?n>=d?"++"+f:"--"+f:n>=d?f+"++":f+"--":j?b+" ? ++"+f+" : --"+f:b+" ? "+f+"++ : "+f+"--",j&&(o=g+" = "+o),j&&(m=g+" = "+m),[this.makeCode(o+"; "+c+"; "+m)]):this.compileArray(a)},b.prototype.compileArray=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n;return this.fromNum&&this.toNum&&20>=Math.abs(this.fromNum-this.toNum)?(j=function(){m=[];for(var a=k=+this.fromNum,b=+this.toNum;b>=k?b>=a:a>=b;b>=k?a++:a--)m.push(a);return m}.apply(this),this.exclusive&&j.pop(),[this.makeCode("["+j.join(", ")+"]")]):(g=this.tab+T,f=a.scope.freeVariable("i",{single:!0}),l=a.scope.freeVariable("results"),i="\n"+g+l+" = [];",this.fromNum&&this.toNum?(a.index=f,c=fa(this.compileNode(a))):(n=f+" = "+this.fromC+(this.toC!==this.toVar?", "+this.toC:""),d=this.fromVar+" <= "+this.toVar,c="var "+n+"; "+d+" ? "+f+" <"+this.equals+" "+this.toVar+" : "+f+" >"+this.equals+" "+this.toVar+"; "+d+" ? "+f+"++ : "+f+"--"),h="{ "+l+".push("+f+"); }\n"+g+"return "+l+";\n"+a.indent,e=function(a){return null!=a?a.contains(ha):void 0},(e(this.from)||e(this.to))&&(b=", arguments"),[this.makeCode("(function() {"+i+"\n"+g+"for ("+c+")"+h+"}).apply(this"+(null!=b?b:"")+")")])},b}(e),a.Slice=Q=function(a){function b(a){this.range=a,b.__super__.constructor.call(this)}return ua(b,a),b.prototype.children=["range"],b.prototype.compileNode=function(a){var b,c,d,e,f,g,h;return f=this.range,g=f.to,d=f.from,e=d&&d.compileToFragments(a,A)||[this.makeCode("0")],g&&(b=g.compileToFragments(a,A),c=fa(b),(this.range.exclusive||-1!==+c)&&(h=", "+(this.range.exclusive?c:N.test(c)?""+(+c+1):(b=g.compileToFragments(a,w),"+"+fa(b)+" + 1 || 9e9")))),[this.makeCode(".slice("+fa(e)+(h||"")+")")]},b}(e),a.Obj=G=function(a){function c(a,b){this.generated=null!=b?b:!1,this.objects=this.properties=a||[]}return ua(c,a),c.prototype.children=["properties"],c.prototype.compileNode=function(a){var c,e,f,g,h,i,j,l,m,n,o,p,q,r,s,t,u,v,w,x,y;if(w=this.properties,this.generated)for(j=0,q=w.length;q>j;j++)t=w[j],t instanceof Y&&t.error("cannot have an implicit value in an implicit object");for(e=m=0,r=w.length;r>m&&(v=w[e],!((v.variable||v).base instanceof J));e=++m);for(f=w.length>e,h=a.indent+=T,p=this.lastNonComment(this.properties),c=[],f&&(u=a.scope.freeVariable("obj"),c.push(this.makeCode("(\n"+h+u+" = "))),c.push(this.makeCode("{"+(0===w.length||0===e?"}":"\n"))),g=o=0,s=w.length;s>o;g=++o)v=w[g],g===e&&(0!==g&&c.push(this.makeCode("\n"+h+"}")),c.push(this.makeCode(",\n"))),l=g===w.length-1||g===e-1?"":v===p||v instanceof k?"\n":",\n",i=v instanceof k?"":h,f&&e>g&&(i+=T),v instanceof d&&v.variable instanceof Y&&v.variable.hasProperties()&&v.variable.error("Invalid object key"),v instanceof Y&&v["this"]&&(v=new d(v.properties[0].name,v,"object")),v instanceof k||(e>g?(v instanceof d||(v=new d(v,v,"object")),(v.variable.base||v.variable).asKey=!0):(v instanceof d?(n=v.variable,y=v.value):(x=v.base.cache(a),n=x[0],y=x[1]),v=new d(new Y(new C(u),[new b(n)]),y))),i&&c.push(this.makeCode(i)),c.push.apply(c,v.compileToFragments(a,B)),l&&c.push(this.makeCode(l));return f?c.push(this.makeCode(",\n"+h+u+"\n"+this.tab+")")):0!==w.length&&c.push(this.makeCode("\n"+this.tab+"}")),this.front&&!f?this.wrapInBraces(c):c},c.prototype.assigns=function(a){var b,c,d,e;for(e=this.properties,b=0,c=e.length;c>b;b++)if(d=e[b],d.assigns(a))return!0;return!1},c}(e),a.Arr=c=function(a){function b(a){this.objects=a||[];
}return ua(b,a),b.prototype.children=["objects"],b.prototype.compileNode=function(a){var b,c,d,e,f,g,h;if(!this.objects.length)return[this.makeCode("[]")];if(a.indent+=T,b=R.compileSplattedArray(a,this.objects),b.length)return b;for(b=[],c=function(){var b,c,d,e;for(d=this.objects,e=[],b=0,c=d.length;c>b;b++)h=d[b],e.push(h.compileToFragments(a,y));return e}.call(this),e=f=0,g=c.length;g>f;e=++f)d=c[e],e&&b.push(this.makeCode(", ")),b.push.apply(b,d);return fa(b).indexOf("\n")>=0?(b.unshift(this.makeCode("[\n"+a.indent)),b.push(this.makeCode("\n"+this.tab+"]"))):(b.unshift(this.makeCode("[")),b.push(this.makeCode("]"))),b},b.prototype.assigns=function(a){var b,c,d,e;for(e=this.objects,b=0,c=e.length;c>b;b++)if(d=e[b],d.assigns(a))return!0;return!1},b}(e),a.Class=h=function(a){function c(a,b,c){this.variable=a,this.parent=b,this.body=null!=c?c:new f,this.boundFuncs=[],this.body.classBody=!0}return ua(c,a),c.prototype.children=["variable","parent","body"],c.prototype.determineName=function(){var a,c,d;return this.variable?(c=this.variable.properties,d=c[c.length-1],a=d?d instanceof b&&d.name.value:this.variable.base.value,wa.call(O,a)>=0&&this.variable.error("class variable name may not be "+a),a&&(a=q.test(a)&&a)):null},c.prototype.setContext=function(a){return this.body.traverseChildren(!1,function(b){return b.classBody?!1:b instanceof C&&"this"===b.value?b.value=a:b instanceof i&&b.bound?b.context=a:void 0})},c.prototype.addBoundFunctions=function(a){var c,d,e,f,g;for(g=this.boundFuncs,d=0,e=g.length;e>d;d++)c=g[d],f=new Y(new C("this"),[new b(c)]).compile(a),this.ctor.body.unshift(new C(f+" = "+ta("bind",a)+"("+f+", this)"))},c.prototype.addProperties=function(a,c,e){var f,g,h,j,k,l;return l=a.base.properties.slice(0),j=function(){var a;for(a=[];g=l.shift();)g instanceof d&&(h=g.variable.base,delete g.context,k=g.value,"constructor"===h.value?(this.ctor&&g.error("cannot define more than one constructor in a class"),k.bound&&g.error("cannot define a constructor as a bound function"),k instanceof i?g=this.ctor=k:(this.externalCtor=e.classScope.freeVariable("class"),g=new d(new C(this.externalCtor),k))):g.variable["this"]?k["static"]=!0:(f=h.isComplex()?new v(h):new b(h),g.variable=new Y(new C(c),[new b(new C("prototype")),f]),k instanceof i&&k.bound&&(this.boundFuncs.push(h),k.bound=!1))),a.push(g);return a}.call(this),aa(j)},c.prototype.walkBody=function(a,b){return this.traverseChildren(!1,function(e){return function(g){var h,i,j,k,l,m,n;if(h=!0,g instanceof c)return!1;if(g instanceof f){for(n=i=g.expressions,j=k=0,l=n.length;l>k;j=++k)m=n[j],m instanceof d&&m.variable.looksStatic(a)?m.value["static"]=!0:m instanceof Y&&m.isObject(!0)&&(h=!1,i[j]=e.addProperties(m,a,b));g.expressions=i=ea(i)}return h&&!(g instanceof c)}}(this))},c.prototype.hoistDirectivePrologue=function(){var a,b,c;for(b=0,a=this.body.expressions;(c=a[b])&&c instanceof k||c instanceof Y&&c.isString();)++b;return this.directives=a.splice(0,b)},c.prototype.ensureConstructor=function(a){return this.ctor||(this.ctor=new i,this.externalCtor?this.ctor.body.push(new C(this.externalCtor+".apply(this, arguments)")):this.parent&&this.ctor.body.push(new C(a+".__super__.constructor.apply(this, arguments)")),this.ctor.body.makeReturn(),this.body.expressions.unshift(this.ctor)),this.ctor.ctor=this.ctor.name=a,this.ctor.klass=null,this.ctor.noReturn=!0},c.prototype.compileNode=function(a){var b,c,e,h,j,k,l,m,o;return(h=this.body.jumps())&&h.error("Class bodies cannot contain pure statements"),(c=this.body.contains(ha))&&c.error("Class bodies shouldn't reference arguments"),l=this.determineName()||"_Class",l.reserved&&(l="_"+l),k=new C(l),e=new i([],f.wrap([this.body])),b=[],a.classScope=e.makeScope(a.scope),this.hoistDirectivePrologue(),this.setContext(l),this.walkBody(l,a),this.ensureConstructor(l),this.addBoundFunctions(a),this.body.spaced=!0,this.body.expressions.push(k),this.parent&&(o=new C(a.classScope.freeVariable("superClass",{reserve:!1})),this.body.expressions.unshift(new n(k,o)),e.params.push(new I(o)),b.push(this.parent)),(m=this.body.expressions).unshift.apply(m,this.directives),j=new J(new g(e,b)),this.variable&&(j=new d(this.variable,j)),j.compileToFragments(a)},c}(e),a.Assign=d=function(a){function c(a,b,c,d){var e,f,g;this.variable=a,this.value=b,this.context=c,this.param=d&&d.param,this.subpattern=d&&d.subpattern,g=f=this.variable.unwrapAll().value,e=wa.call(O,g)>=0,e&&"object"!==this.context&&this.variable.error('variable name may not be "'+f+'"')}return ua(c,a),c.prototype.children=["variable","value"],c.prototype.isStatement=function(a){return(null!=a?a.level:void 0)===B&&null!=this.context&&wa.call(this.context,"?")>=0},c.prototype.assigns=function(a){return this["object"===this.context?"value":"variable"].assigns(a)},c.prototype.unfoldSoak=function(a){return sa(a,this,"variable")},c.prototype.compileNode=function(a){var b,c,d,e,f,g,h,j,k,l,m,n,o,p;if(d=this.variable instanceof Y){if(this.variable.isArray()||this.variable.isObject())return this.compilePatternMatch(a);if(this.variable.isSplice())return this.compileSplice(a);if("||="===(j=this.context)||"&&="===j||"?="===j)return this.compileConditional(a);if("**="===(k=this.context)||"//="===k||"%%="===k)return this.compileSpecialMath(a)}return this.value instanceof i&&(this.value["static"]?(this.value.klass=this.variable.base,this.value.name=this.variable.properties[0],this.value.variable=this.variable):(null!=(l=this.variable.properties)?l.length:void 0)>=2&&(m=this.variable.properties,g=m.length>=3?xa.call(m,0,e=m.length-2):(e=0,[]),h=m[e++],f=m[e++],"prototype"===(null!=(n=h.name)?n.value:void 0)&&(this.value.klass=new Y(this.variable.base,g),this.value.name=f,this.value.variable=this.variable))),this.context||(p=this.variable.unwrapAll(),p.isAssignable()||this.variable.error('"'+this.variable.compile(a)+'" cannot be assigned'),("function"==typeof p.hasProperties?p.hasProperties():void 0)||(this.param?a.scope.add(p.value,"var"):a.scope.find(p.value))),o=this.value.compileToFragments(a,y),c=this.variable.compileToFragments(a,y),"object"===this.context?c.concat(this.makeCode(": "),o):(b=c.concat(this.makeCode(" "+(this.context||"=")+" "),o),y>=a.level?b:this.wrapInBraces(b))},c.prototype.compilePatternMatch=function(a){var d,e,f,g,h,i,j,k,l,n,o,p,r,s,t,u,w,x,A,D,E,F,G,H,I,L,M,N;if(H=a.level===B,L=this.value,s=this.variable.base.objects,!(t=s.length))return f=L.compileToFragments(a),a.level>=z?this.wrapInBraces(f):f;if(k=this.variable.isObject(),H&&1===t&&!((r=s[0])instanceof R))return r instanceof c?(w=r,x=w.variable,j=x.base,r=w.value):j=k?r["this"]?r.properties[0].name:r:new C(0),d=q.test(j.unwrap().value||0),L=new Y(L),L.properties.push(new(d?b:v)(j)),A=r.unwrap().value,wa.call(K,A)>=0&&r.error("assignment to a reserved word: "+r.compile(a)),new c(r,L,null,{param:this.param}).compileToFragments(a,B);for(M=L.compileToFragments(a,y),N=fa(M),e=[],g=!1,(!q.test(N)||this.variable.assigns(N))&&(e.push([this.makeCode((u=a.scope.freeVariable("ref"))+" = ")].concat(xa.call(M))),M=[this.makeCode(u)],N=u),i=n=0,o=s.length;o>n;i=++n){if(r=s[i],j=i,k&&(r instanceof c?(D=r,E=D.variable,j=E.base,r=D.value):r.base instanceof J?(F=new Y(r.unwrapAll()).cacheReference(a),r=F[0],j=F[1]):j=r["this"]?r.properties[0].name:r),!g&&r instanceof R)p=r.name.unwrap().value,r=r.unwrap(),I=t+" <= "+N+".length ? "+ta("slice",a)+".call("+N+", "+i,(G=t-i-1)?(l=a.scope.freeVariable("i",{single:!0}),I+=", "+l+" = "+N+".length - "+G+") : ("+l+" = "+i+", [])"):I+=") : []",I=new C(I),g=l+"++";else{if(!g&&r instanceof m){(G=t-i-1)&&(1===G?g=N+".length - 1":(l=a.scope.freeVariable("i",{single:!0}),I=new C(l+" = "+N+".length - "+G),g=l+"++",e.push(I.compileToFragments(a,y))));continue}p=r.unwrap().value,(r instanceof R||r instanceof m)&&r.error("multiple splats/expansions are disallowed in an assignment"),"number"==typeof j?(j=new C(g||j),d=!1):d=k&&q.test(j.unwrap().value||0),I=new Y(new C(N),[new(d?b:v)(j)])}null!=p&&wa.call(K,p)>=0&&r.error("assignment to a reserved word: "+r.compile(a)),e.push(new c(r,I,null,{param:this.param,subpattern:!0}).compileToFragments(a,y))}return H||this.subpattern||e.push(M),h=this.joinFragmentArrays(e,", "),y>a.level?h:this.wrapInBraces(h)},c.prototype.compileConditional=function(a){var b,d,e,f;return e=this.variable.cacheReference(a),d=e[0],f=e[1],!d.properties.length&&d.base instanceof C&&"this"!==d.base.value&&!a.scope.check(d.base.value)&&this.variable.error('the variable "'+d.base.value+"\" can't be assigned with "+this.context+" because it has not been declared before"),wa.call(this.context,"?")>=0?(a.isExistentialEquals=!0,new t(new l(d),f,{type:"if"}).addElse(new c(f,this.value,"=")).compileToFragments(a)):(b=new H(this.context.slice(0,-1),d,new c(f,this.value,"=")).compileToFragments(a),y>=a.level?b:this.wrapInBraces(b))},c.prototype.compileSpecialMath=function(a){var b,d,e;return d=this.variable.cacheReference(a),b=d[0],e=d[1],new c(b,new H(this.context.slice(0,-1),e,this.value)).compileToFragments(a)},c.prototype.compileSplice=function(a){var b,c,d,e,f,g,h,i,j,k,l,m;return h=this.variable.properties.pop().range,d=h.from,k=h.to,c=h.exclusive,g=this.variable.compile(a),d?(i=this.cacheToCodeFragments(d.cache(a,z)),e=i[0],f=i[1]):e=f="0",k?d instanceof Y&&d.isSimpleNumber()&&k instanceof Y&&k.isSimpleNumber()?(k=k.compile(a)-f,c||(k+=1)):(k=k.compile(a,w)+" - "+f,c||(k+=" + 1")):k="9e9",j=this.value.cache(a,y),l=j[0],m=j[1],b=[].concat(this.makeCode("[].splice.apply("+g+", ["+e+", "+k+"].concat("),l,this.makeCode(")), "),m),a.level>B?this.wrapInBraces(b):b},c}(e),a.Code=i=function(a){function b(a,b,c){this.params=a||[],this.body=b||new f,this.bound="boundfunc"===c,this.isGenerator=!!this.body.contains(function(a){var b;return a instanceof H&&("yield"===(b=a.operator)||"yield*"===b)})}return ua(b,a),b.prototype.children=["params","body"],b.prototype.isStatement=function(){return!!this.ctor},b.prototype.jumps=E,b.prototype.makeScope=function(a){return new P(a,this.body,this)},b.prototype.compileNode=function(a){var e,h,i,j,k,l,n,o,p,q,r,s,u,v,x,y,z,A,B,D,E,F,G,J,K,L,M,N,O,P,Q,R,S;if(this.bound&&(null!=(G=a.scope.method)?G.bound:void 0)&&(this.context=a.scope.method.context),this.bound&&!this.context)return this.context="_this",S=new b([new I(new C(this.context))],new f([this])),h=new g(S,[new C("this")]),h.updateLocationDataIfMissing(this.locationData),h.compileNode(a);for(a.scope=ba(a,"classScope")||this.makeScope(a.scope),a.scope.shared=ba(a,"sharedScope"),a.indent+=T,delete a.bare,delete a.isExistentialEquals,B=[],j=[],J=this.params,l=0,p=J.length;p>l;l++)A=J[l],A instanceof m||a.scope.parameter(A.asReference(a));for(K=this.params,n=0,q=K.length;q>n;n++)if(A=K[n],A.splat||A instanceof m){for(L=this.params,o=0,r=L.length;r>o;o++)z=L[o],z instanceof m||!z.name.value||a.scope.add(z.name.value,"var",!0);O=new d(new Y(new c(function(){var b,c,d,e;for(d=this.params,e=[],c=0,b=d.length;b>c;c++)z=d[c],e.push(z.asReference(a));return e}.call(this))),new Y(new C("arguments")));break}for(M=this.params,y=0,s=M.length;s>y;y++)A=M[y],A.isComplex()?(Q=F=A.asReference(a),A.value&&(Q=new H("?",F,A.value)),j.push(new d(new Y(A.name),Q,"=",{param:!0}))):(F=A,A.value&&(x=new C(F.name.value+" == null"),Q=new d(new Y(A.name),A.value,"="),j.push(new t(x,Q)))),O||B.push(F);for(R=this.body.isEmpty(),O&&j.unshift(O),j.length&&(N=this.body.expressions).unshift.apply(N,j),k=D=0,u=B.length;u>D;k=++D)z=B[k],B[k]=z.compileToFragments(a),a.scope.parameter(fa(B[k]));for(P=[],this.eachParamName(function(a,b){return wa.call(P,a)>=0&&b.error("multiple parameters named "+a),P.push(a)}),R||this.noReturn||this.body.makeReturn(),i="function",this.isGenerator&&(i+="*"),this.ctor&&(i+=" "+this.name),i+="(",e=[this.makeCode(i)],k=E=0,v=B.length;v>E;k=++E)z=B[k],k&&e.push(this.makeCode(", ")),e.push.apply(e,z);return e.push(this.makeCode(") {")),this.body.isEmpty()||(e=e.concat(this.makeCode("\n"),this.body.compileWithDeclarations(a),this.makeCode("\n"+this.tab))),e.push(this.makeCode("}")),this.ctor?[this.makeCode(this.tab)].concat(xa.call(e)):this.front||a.level>=w?this.wrapInBraces(e):e},b.prototype.eachParamName=function(a){var b,c,d,e,f;for(e=this.params,f=[],b=0,c=e.length;c>b;b++)d=e[b],f.push(d.eachName(a));return f},b.prototype.traverseChildren=function(a,c){return a?b.__super__.traverseChildren.call(this,a,c):void 0},b}(e),a.Param=I=function(a){function b(a,b,c){var d,e;this.name=a,this.value=b,this.splat=c,e=d=this.name.unwrapAll().value,wa.call(O,e)>=0&&this.name.error('parameter name "'+d+'" is not allowed')}return ua(b,a),b.prototype.children=["name","value"],b.prototype.compileToFragments=function(a){return this.name.compileToFragments(a,y)},b.prototype.asReference=function(a){var b,c;return this.reference?this.reference:(c=this.name,c["this"]?(b=c.properties[0].name.value,b.reserved&&(b="_"+b),c=new C(a.scope.freeVariable(b))):c.isComplex()&&(c=new C(a.scope.freeVariable("arg"))),c=new Y(c),this.splat&&(c=new R(c)),c.updateLocationDataIfMissing(this.locationData),this.reference=c)},b.prototype.isComplex=function(){return this.name.isComplex()},b.prototype.eachName=function(a,b){var c,e,f,g,h,i;if(null==b&&(b=this.name),c=function(b){return a("@"+b.properties[0].name.value,b)},b instanceof C)return a(b.value,b);if(b instanceof Y)return c(b);for(i=b.objects,e=0,f=i.length;f>e;e++)h=i[e],h instanceof d?this.eachName(a,h.value.unwrap()):h instanceof R?(g=h.name.unwrap(),a(g.value,g)):h instanceof Y?h.isArray()||h.isObject()?this.eachName(a,h.base):h["this"]?c(h):a(h.base.value,h.base):h instanceof m||h.error("illegal parameter "+h.compile())},b}(e),a.Splat=R=function(a){function b(a){this.name=a.compile?a:new C(a)}return ua(b,a),b.prototype.children=["name"],b.prototype.isAssignable=$,b.prototype.assigns=function(a){return this.name.assigns(a)},b.prototype.compileToFragments=function(a){return this.name.compileToFragments(a)},b.prototype.unwrap=function(){return this.name},b.compileSplattedArray=function(a,c,d){var e,f,g,h,i,j,k,l,m,n,o;for(k=-1;(o=c[++k])&&!(o instanceof b););if(k>=c.length)return[];if(1===c.length)return o=c[0],i=o.compileToFragments(a,y),d?i:[].concat(o.makeCode(ta("slice",a)+".call("),i,o.makeCode(")"));for(e=c.slice(k),j=l=0,n=e.length;n>l;j=++l)o=e[j],g=o.compileToFragments(a,y),e[j]=o instanceof b?[].concat(o.makeCode(ta("slice",a)+".call("),g,o.makeCode(")")):[].concat(o.makeCode("["),g,o.makeCode("]"));return 0===k?(o=c[0],h=o.joinFragmentArrays(e.slice(1),", "),e[0].concat(o.makeCode(".concat("),h,o.makeCode(")"))):(f=function(){var b,d,e,f;for(e=c.slice(0,k),f=[],b=0,d=e.length;d>b;b++)o=e[b],f.push(o.compileToFragments(a,y));return f}(),f=c[0].joinFragmentArrays(f,", "),h=c[k].joinFragmentArrays(e,", "),m=c[c.length-1],[].concat(c[0].makeCode("["),f,c[k].makeCode("].concat("),h,m.makeCode(")")))},b}(e),a.Expansion=m=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return ua(b,a),b.prototype.isComplex=E,b.prototype.compileNode=function(){return this.error("Expansion must be used inside a destructuring assignment or parameter list")},b.prototype.asReference=function(){return this},b.prototype.eachName=function(){},b}(e),a.While=Z=function(a){function b(a,b){this.condition=(null!=b?b.invert:void 0)?a.invert():a,this.guard=null!=b?b.guard:void 0}return ua(b,a),b.prototype.children=["condition","guard","body"],b.prototype.isStatement=$,b.prototype.makeReturn=function(a){return a?b.__super__.makeReturn.apply(this,arguments):(this.returns=!this.jumps({loop:!0}),this)},b.prototype.addBody=function(a){return this.body=a,this},b.prototype.jumps=function(){var a,b,c,d,e;if(a=this.body.expressions,!a.length)return!1;for(b=0,d=a.length;d>b;b++)if(e=a[b],c=e.jumps({loop:!0}))return c;return!1},b.prototype.compileNode=function(a){var b,c,d,e;return a.indent+=T,e="",c=this.body,c.isEmpty()?c=this.makeCode(""):(this.returns&&(c.makeReturn(d=a.scope.freeVariable("results")),e=""+this.tab+d+" = [];\n"),this.guard&&(c.expressions.length>1?c.expressions.unshift(new t(new J(this.guard).invert(),new C("continue"))):this.guard&&(c=f.wrap([new t(this.guard,c)]))),c=[].concat(this.makeCode("\n"),c.compileToFragments(a,B),this.makeCode("\n"+this.tab))),b=[].concat(this.makeCode(e+this.tab+"while ("),this.condition.compileToFragments(a,A),this.makeCode(") {"),c,this.makeCode("}")),this.returns&&b.push(this.makeCode("\n"+this.tab+"return "+d+";")),b},b}(e),a.Op=H=function(a){function c(a,b,c,d){if("in"===a)return new u(b,c);if("do"===a)return this.generateDo(b);if("new"===a){if(b instanceof g&&!b["do"]&&!b.isNew)return b.newInstance();(b instanceof i&&b.bound||b["do"])&&(b=new J(b))}return this.operator=e[a]||a,this.first=b,this.second=c,this.flip=!!d,this}var e,f;return ua(c,a),e={"==":"===","!=":"!==",of:"in",yieldfrom:"yield*"},f={"!==":"===","===":"!=="},c.prototype.children=["first","second"],c.prototype.isSimpleNumber=E,c.prototype.isYield=function(){var a;return"yield"===(a=this.operator)||"yield*"===a},c.prototype.isYieldReturn=function(){return this.isYield()&&this.first instanceof M},c.prototype.isUnary=function(){return!this.second},c.prototype.isComplex=function(){var a;return!(this.isUnary()&&("+"===(a=this.operator)||"-"===a)&&this.first instanceof Y&&this.first.isSimpleNumber())},c.prototype.isChainable=function(){var a;return"<"===(a=this.operator)||">"===a||">="===a||"<="===a||"==="===a||"!=="===a},c.prototype.invert=function(){var a,b,d,e,g;if(this.isChainable()&&this.first.isChainable()){for(a=!0,b=this;b&&b.operator;)a&&(a=b.operator in f),b=b.first;if(!a)return new J(this).invert();for(b=this;b&&b.operator;)b.invert=!b.invert,b.operator=f[b.operator],b=b.first;return this}return(e=f[this.operator])?(this.operator=e,this.first.unwrap()instanceof c&&this.first.invert(),this):this.second?new J(this).invert():"!"===this.operator&&(d=this.first.unwrap())instanceof c&&("!"===(g=d.operator)||"in"===g||"instanceof"===g)?d:new c("!",this)},c.prototype.unfoldSoak=function(a){var b;return("++"===(b=this.operator)||"--"===b||"delete"===b)&&sa(a,this,"first")},c.prototype.generateDo=function(a){var b,c,e,f,h,j,k,l;for(j=[],c=a instanceof d&&(k=a.value.unwrap())instanceof i?k:a,l=c.params||[],e=0,f=l.length;f>e;e++)h=l[e],h.value?(j.push(h.value),delete h.value):j.push(h);return b=new g(a,j),b["do"]=!0,b},c.prototype.compileNode=function(a){var b,c,d,e,f,g;if(c=this.isChainable()&&this.first.isChainable(),c||(this.first.front=this.front),"delete"===this.operator&&a.scope.check(this.first.unwrapAll().value)&&this.error("delete operand may not be argument or var"),("--"===(e=this.operator)||"++"===e)&&(f=this.first.unwrapAll().value,wa.call(O,f)>=0)&&this.error('cannot increment/decrement "'+this.first.unwrapAll().value+'"'),this.isYield())return this.compileYield(a);if(this.isUnary())return this.compileUnary(a);if(c)return this.compileChain(a);switch(this.operator){case"?":return this.compileExistence(a);case"**":return this.compilePower(a);case"//":return this.compileFloorDivision(a);case"%%":return this.compileModulo(a);default:return d=this.first.compileToFragments(a,z),g=this.second.compileToFragments(a,z),b=[].concat(d,this.makeCode(" "+this.operator+" "),g),z>=a.level?b:this.wrapInBraces(b)}},c.prototype.compileChain=function(a){var b,c,d,e;return d=this.first.second.cache(a),this.first.second=d[0],e=d[1],c=this.first.compileToFragments(a,z),b=c.concat(this.makeCode(" "+(this.invert?"&&":"||")+" "),e.compileToFragments(a),this.makeCode(" "+this.operator+" "),this.second.compileToFragments(a,z)),this.wrapInBraces(b)},c.prototype.compileExistence=function(a){var b,c;return this.first.isComplex()?(c=new C(a.scope.freeVariable("ref")),b=new J(new d(c,this.first))):(b=this.first,c=b),new t(new l(b),c,{type:"if"}).addElse(this.second).compileToFragments(a)},c.prototype.compileUnary=function(a){var b,d,e;return d=[],b=this.operator,d.push([this.makeCode(b)]),"!"===b&&this.first instanceof l?(this.first.negated=!this.first.negated,this.first.compileToFragments(a)):a.level>=w?new J(this).compileToFragments(a):(e="+"===b||"-"===b,("new"===b||"typeof"===b||"delete"===b||e&&this.first instanceof c&&this.first.operator===b)&&d.push([this.makeCode(" ")]),(e&&this.first instanceof c||"new"===b&&this.first.isStatement(a))&&(this.first=new J(this.first)),d.push(this.first.compileToFragments(a,z)),this.flip&&d.reverse(),this.joinFragmentArrays(d,""))},c.prototype.compileYield=function(a){var b,c;return c=[],b=this.operator,null==a.scope.parent&&this.error("yield statements must occur within a function generator."),wa.call(Object.keys(this.first),"expression")>=0&&!(this.first instanceof V)?this.isYieldReturn()?c.push(this.first.compileToFragments(a,B)):null!=this.first.expression&&c.push(this.first.expression.compileToFragments(a,z)):(c.push([this.makeCode("("+b+" ")]),c.push(this.first.compileToFragments(a,z)),c.push([this.makeCode(")")])),this.joinFragmentArrays(c,"")},c.prototype.compilePower=function(a){var c;return c=new Y(new C("Math"),[new b(new C("pow"))]),new g(c,[this.first,this.second]).compileToFragments(a)},c.prototype.compileFloorDivision=function(a){var d,e;return e=new Y(new C("Math"),[new b(new C("floor"))]),d=new c("/",this.first,this.second),new g(e,[d]).compileToFragments(a)},c.prototype.compileModulo=function(a){var b;return b=new Y(new C(ta("modulo",a))),new g(b,[this.first,this.second]).compileToFragments(a)},c.prototype.toString=function(a){return c.__super__.toString.call(this,a,this.constructor.name+" "+this.operator)},c}(e),a.In=u=function(a){function b(a,b){this.object=a,this.array=b}return ua(b,a),b.prototype.children=["object","array"],b.prototype.invert=D,b.prototype.compileNode=function(a){var b,c,d,e,f;if(this.array instanceof Y&&this.array.isArray()&&this.array.base.objects.length){for(f=this.array.base.objects,c=0,d=f.length;d>c;c++)if(e=f[c],e instanceof R){b=!0;break}if(!b)return this.compileOrTest(a)}return this.compileLoopTest(a)},b.prototype.compileOrTest=function(a){var b,c,d,e,f,g,h,i,j,k,l,m;for(i=this.object.cache(a,z),l=i[0],h=i[1],j=this.negated?[" !== "," && "]:[" === "," || "],b=j[0],c=j[1],m=[],k=this.array.base.objects,d=f=0,g=k.length;g>f;d=++f)e=k[d],d&&m.push(this.makeCode(c)),m=m.concat(d?h:l,this.makeCode(b),e.compileToFragments(a,w));return z>a.level?m:this.wrapInBraces(m)},b.prototype.compileLoopTest=function(a){var b,c,d,e;return d=this.object.cache(a,y),e=d[0],c=d[1],b=[].concat(this.makeCode(ta("indexOf",a)+".call("),this.array.compileToFragments(a,y),this.makeCode(", "),c,this.makeCode(") "+(this.negated?"< 0":">= 0"))),fa(e)===fa(c)?b:(b=e.concat(this.makeCode(", "),b),y>a.level?b:this.wrapInBraces(b))},b.prototype.toString=function(a){return b.__super__.toString.call(this,a,this.constructor.name+(this.negated?"!":""))},b}(e),a.Try=W=function(a){function b(a,b,c,d){this.attempt=a,this.errorVariable=b,this.recovery=c,this.ensure=d}return ua(b,a),b.prototype.children=["attempt","recovery","ensure"],b.prototype.isStatement=$,b.prototype.jumps=function(a){var b;return this.attempt.jumps(a)||(null!=(b=this.recovery)?b.jumps(a):void 0)},b.prototype.makeReturn=function(a){return this.attempt&&(this.attempt=this.attempt.makeReturn(a)),this.recovery&&(this.recovery=this.recovery.makeReturn(a)),this},b.prototype.compileNode=function(a){var b,c,e,f;return a.indent+=T,f=this.attempt.compileToFragments(a,B),b=this.recovery?(e=new C("_error"),this.errorVariable?this.recovery.unshift(new d(this.errorVariable,e)):void 0,[].concat(this.makeCode(" catch ("),e.compileToFragments(a),this.makeCode(") {\n"),this.recovery.compileToFragments(a,B),this.makeCode("\n"+this.tab+"}"))):this.ensure||this.recovery?[]:[this.makeCode(" catch (_error) {}")],c=this.ensure?[].concat(this.makeCode(" finally {\n"),this.ensure.compileToFragments(a,B),this.makeCode("\n"+this.tab+"}")):[],[].concat(this.makeCode(this.tab+"try {\n"),f,this.makeCode("\n"+this.tab+"}"),b,c)},b}(e),a.Throw=V=function(a){function b(a){this.expression=a}return ua(b,a),b.prototype.children=["expression"],b.prototype.isStatement=$,b.prototype.jumps=E,b.prototype.makeReturn=U,b.prototype.compileNode=function(a){return[].concat(this.makeCode(this.tab+"throw "),this.expression.compileToFragments(a),this.makeCode(";"))},b}(e),a.Existence=l=function(a){function b(a){this.expression=a}return ua(b,a),b.prototype.children=["expression"],b.prototype.invert=D,b.prototype.compileNode=function(a){var b,c,d,e;return this.expression.front=this.front,d=this.expression.compile(a,z),q.test(d)&&!a.scope.check(d)?(e=this.negated?["===","||"]:["!==","&&"],b=e[0],c=e[1],d="typeof "+d+" "+b+' "undefined" '+c+" "+d+" "+b+" null"):d=d+" "+(this.negated?"==":"!=")+" null",[this.makeCode(x>=a.level?d:"("+d+")")]},b}(e),a.Parens=J=function(a){function b(a){this.body=a}return ua(b,a),b.prototype.children=["body"],b.prototype.unwrap=function(){return this.body},b.prototype.isComplex=function(){return this.body.isComplex()},b.prototype.compileNode=function(a){var b,c,d;return c=this.body.unwrap(),c instanceof Y&&c.isAtomic()?(c.front=this.front,c.compileToFragments(a)):(d=c.compileToFragments(a,A),b=z>a.level&&(c instanceof H||c instanceof g||c instanceof o&&c.returns),b?d:this.wrapInBraces(d))},b}(e),a.For=o=function(a){function b(a,b){var c;this.source=b.source,this.guard=b.guard,this.step=b.step,this.name=b.name,this.index=b.index,this.body=f.wrap([a]),this.own=!!b.own,this.object=!!b.object,this.object&&(c=[this.index,this.name],this.name=c[0],this.index=c[1]),this.index instanceof Y&&this.index.error("index cannot be a pattern matching expression"),this.range=this.source instanceof Y&&this.source.base instanceof L&&!this.source.properties.length,this.pattern=this.name instanceof Y,this.range&&this.index&&this.index.error("indexes do not apply to range loops"),this.range&&this.pattern&&this.name.error("cannot pattern match over range loops"),this.own&&!this.object&&this.name.error("cannot use own with for-in"),this.returns=!1}return ua(b,a),b.prototype.children=["body","source","guard","step"],b.prototype.compileNode=function(a){var b,c,e,g,h,i,j,k,l,m,n,o,p,r,s,u,v,w,x,z,A,D,E,G,H,I,K,L,N,O,P,Q,R,S;return b=f.wrap([this.body]),E=b.expressions,w=E[E.length-1],(null!=w?w.jumps():void 0)instanceof M&&(this.returns=!1),N=this.range?this.source.base:this.source,L=a.scope,this.pattern||(z=this.name&&this.name.compile(a,y)),r=this.index&&this.index.compile(a,y),z&&!this.pattern&&L.find(z),r&&L.find(r),this.returns&&(K=L.freeVariable("results")),s=this.object&&r||L.freeVariable("i",{single:!0}),u=this.range&&z||r||s,v=u!==s?u+" = ":"",this.step&&!this.range&&(G=this.cacheToCodeFragments(this.step.cache(a,y,ga)),O=G[0],Q=G[1],P=Q.match(F)),this.pattern&&(z=s),S="",n="",j="",o=this.tab+T,this.range?m=N.compileToFragments(ka(a,{index:s,name:z,step:this.step,isComplex:ga})):(R=this.source.compile(a,y),!z&&!this.own||q.test(R)||(j+=""+this.tab+(D=L.freeVariable("ref"))+" = "+R+";\n",R=D),z&&!this.pattern&&(A=z+" = "+R+"["+u+"]"),this.object||(O!==Q&&(j+=""+this.tab+O+";\n"),this.step&&P&&(l=0>ma(P[0]))||(x=L.freeVariable("len")),h=""+v+s+" = 0, "+x+" = "+R+".length",i=""+v+s+" = "+R+".length - 1",e=s+" < "+x,g=s+" >= 0",this.step?(P?l&&(e=g,h=i):(e=Q+" > 0 ? "+e+" : "+g,h="("+Q+" > 0 ? ("+h+") : "+i+")"),p=s+" += "+Q):p=""+(u!==s?"++"+s:s+"++"),m=[this.makeCode(h+"; "+e+"; "+v+p)])),this.returns&&(H=""+this.tab+K+" = [];\n",I="\n"+this.tab+"return "+K+";",b.makeReturn(K)),this.guard&&(b.expressions.length>1?b.expressions.unshift(new t(new J(this.guard).invert(),new C("continue"))):this.guard&&(b=f.wrap([new t(this.guard,b)]))),this.pattern&&b.expressions.unshift(new d(this.name,new C(R+"["+u+"]"))),k=[].concat(this.makeCode(j),this.pluckDirectCall(a,b)),A&&(S="\n"+o+A+";"),this.object&&(m=[this.makeCode(u+" in "+R)],this.own&&(n="\n"+o+"if (!"+ta("hasProp",a)+".call("+R+", "+u+")) continue;")),c=b.compileToFragments(ka(a,{indent:o}),B),c&&c.length>0&&(c=[].concat(this.makeCode("\n"),c,this.makeCode("\n"))),[].concat(k,this.makeCode(""+(H||"")+this.tab+"for ("),m,this.makeCode(") {"+n+S),c,this.makeCode(this.tab+"}"+(I||"")))},b.prototype.pluckDirectCall=function(a,b){var c,e,f,h,j,k,l,m,n,o,p,q,r,s,t,u;for(e=[],n=b.expressions,j=k=0,l=n.length;l>k;j=++k)f=n[j],f=f.unwrapAll(),f instanceof g&&(u=null!=(o=f.variable)?o.unwrapAll():void 0,(u instanceof i||u instanceof Y&&(null!=(p=u.base)?p.unwrapAll():void 0)instanceof i&&1===u.properties.length&&("call"===(q=null!=(r=u.properties[0].name)?r.value:void 0)||"apply"===q))&&(h=(null!=(s=u.base)?s.unwrapAll():void 0)||u,m=new C(a.scope.freeVariable("fn")),c=new Y(m),u.base&&(t=[c,u],u.base=t[0],c=t[1]),b.expressions[j]=new g(c,f.args),e=e.concat(this.makeCode(this.tab),new d(m,h).compileToFragments(a,B),this.makeCode(";\n"))));return e},b}(Z),a.Switch=S=function(a){function b(a,b,c){this.subject=a,this.cases=b,this.otherwise=c}return ua(b,a),b.prototype.children=["subject","cases","otherwise"],b.prototype.isStatement=$,b.prototype.jumps=function(a){var b,c,d,e,f,g,h,i;for(null==a&&(a={block:!0}),g=this.cases,d=0,f=g.length;f>d;d++)if(h=g[d],c=h[0],b=h[1],e=b.jumps(a))return e;return null!=(i=this.otherwise)?i.jumps(a):void 0},b.prototype.makeReturn=function(a){var b,c,d,e,g;for(e=this.cases,b=0,c=e.length;c>b;b++)d=e[b],d[1].makeReturn(a);return a&&(this.otherwise||(this.otherwise=new f([new C("void 0")]))),null!=(g=this.otherwise)&&g.makeReturn(a),this},b.prototype.compileNode=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;for(i=a.indent+T,j=a.indent=i+T,g=[].concat(this.makeCode(this.tab+"switch ("),this.subject?this.subject.compileToFragments(a,A):this.makeCode("false"),this.makeCode(") {\n")),o=this.cases,h=k=0,m=o.length;m>k;h=++k){for(p=o[h],e=p[0],b=p[1],q=ea([e]),l=0,n=q.length;n>l;l++)d=q[l],this.subject||(d=d.invert()),g=g.concat(this.makeCode(i+"case "),d.compileToFragments(a,A),this.makeCode(":\n"));if((c=b.compileToFragments(a,B)).length>0&&(g=g.concat(c,this.makeCode("\n"))),h===this.cases.length-1&&!this.otherwise)break;f=this.lastNonComment(b.expressions),f instanceof M||f instanceof C&&f.jumps()&&"debugger"!==f.value||g.push(d.makeCode(j+"break;\n"))}return this.otherwise&&this.otherwise.expressions.length&&g.push.apply(g,[this.makeCode(i+"default:\n")].concat(xa.call(this.otherwise.compileToFragments(a,B)),[this.makeCode("\n")])),g.push(this.makeCode(this.tab+"}")),g},b}(e),a.If=t=function(a){function b(a,b,c){this.body=b,null==c&&(c={}),this.condition="unless"===c.type?a.invert():a,this.elseBody=null,this.isChain=!1,this.soak=c.soak}return ua(b,a),b.prototype.children=["condition","body","elseBody"],b.prototype.bodyNode=function(){var a;return null!=(a=this.body)?a.unwrap():void 0},b.prototype.elseBodyNode=function(){var a;return null!=(a=this.elseBody)?a.unwrap():void 0},b.prototype.addElse=function(a){return this.isChain?this.elseBodyNode().addElse(a):(this.isChain=a instanceof b,this.elseBody=this.ensureBlock(a),this.elseBody.updateLocationDataIfMissing(a.locationData)),this},b.prototype.isStatement=function(a){var b;return(null!=a?a.level:void 0)===B||this.bodyNode().isStatement(a)||(null!=(b=this.elseBodyNode())?b.isStatement(a):void 0)},b.prototype.jumps=function(a){var b;return this.body.jumps(a)||(null!=(b=this.elseBody)?b.jumps(a):void 0)},b.prototype.compileNode=function(a){return this.isStatement(a)?this.compileStatement(a):this.compileExpression(a)},b.prototype.makeReturn=function(a){return a&&(this.elseBody||(this.elseBody=new f([new C("void 0")]))),this.body&&(this.body=new f([this.body.makeReturn(a)])),this.elseBody&&(this.elseBody=new f([this.elseBody.makeReturn(a)])),this},b.prototype.ensureBlock=function(a){return a instanceof f?a:new f([a])},b.prototype.compileStatement=function(a){var c,d,e,f,g,h,i;return e=ba(a,"chainChild"),(g=ba(a,"isExistentialEquals"))?new b(this.condition.invert(),this.elseBodyNode(),{type:"if"}).compileToFragments(a):(i=a.indent+T,f=this.condition.compileToFragments(a,A),d=this.ensureBlock(this.body).compileToFragments(ka(a,{indent:i})),h=[].concat(this.makeCode("if ("),f,this.makeCode(") {\n"),d,this.makeCode("\n"+this.tab+"}")),
e||h.unshift(this.makeCode(this.tab)),this.elseBody?(c=h.concat(this.makeCode(" else ")),this.isChain?(a.chainChild=!0,c=c.concat(this.elseBody.unwrap().compileToFragments(a,B))):c=c.concat(this.makeCode("{\n"),this.elseBody.compileToFragments(ka(a,{indent:i}),B),this.makeCode("\n"+this.tab+"}")),c):h)},b.prototype.compileExpression=function(a){var b,c,d,e;return d=this.condition.compileToFragments(a,x),c=this.bodyNode().compileToFragments(a,y),b=this.elseBodyNode()?this.elseBodyNode().compileToFragments(a,y):[this.makeCode("void 0")],e=d.concat(this.makeCode(" ? "),c,this.makeCode(" : "),b),a.level>=x?this.wrapInBraces(e):e},b.prototype.unfoldSoak=function(){return this.soak&&this},b}(e),X={extend:function(a){return"function(child, parent) { for (var key in parent) { if ("+ta("hasProp",a)+".call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; }"},bind:function(){return"function(fn, me){ return function(){ return fn.apply(me, arguments); }; }"},indexOf:function(){return"[].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; }"},modulo:function(){return"function(a, b) { return (+a % (b = +b) + b) % b; }"},hasProp:function(){return"{}.hasOwnProperty"},slice:function(){return"[].slice"}},B=1,A=2,y=3,x=4,z=5,w=6,T="  ",q=/^(?!\d)[$\w\x7f-\uffff]+$/,N=/^[+-]?\d+$/,p=/^[+-]?0x[\da-f]+/i,F=/^[+-]?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)$/i,s=/^['"]/,r=/^\//,ta=function(a,b){var c,d;return d=b.scope.root,a in d.utilities?d.utilities[a]:(c=d.freeVariable(a),d.assign(c,X[a](b)),d.utilities[a]=c)},la=function(a,b){return a=a.replace(/\n/g,"$&"+b),a.replace(/\s+$/,"")},ma=function(a){return null==a?0:a.match(p)?parseInt(a,16):parseFloat(a)},ha=function(a){return a instanceof C&&"arguments"===a.value&&!a.asKey},ia=function(a){return a instanceof C&&"this"===a.value&&!a.asKey||a instanceof i&&a.bound||a instanceof g&&a.isSuper},ga=function(a){return a.isComplex()||("function"==typeof a.isAssignable?a.isAssignable():void 0)},sa=function(a,b,c){var d;return(d=b[c].unfoldSoak(a))?(b[c]=d.body,d.body=new Y(b),d):void 0}}.call(this),b.exports}(),require["./sourcemap"]=function(){var a={},b={exports:a};return function(){var a,c;a=function(){function a(a){this.line=a,this.columns=[]}return a.prototype.add=function(a,b,c){var d,e;return e=b[0],d=b[1],null==c&&(c={}),this.columns[a]&&c.noReplace?void 0:this.columns[a]={line:this.line,column:a,sourceLine:e,sourceColumn:d}},a.prototype.sourceLocation=function(a){for(var b;!((b=this.columns[a])||0>=a);)a--;return b&&[b.sourceLine,b.sourceColumn]},a}(),c=function(){function b(){this.lines=[]}var c,d,e,f;return b.prototype.add=function(b,c,d){var e,f,g,h;return null==d&&(d={}),g=c[0],f=c[1],h=(e=this.lines)[g]||(e[g]=new a(g)),h.add(f,b,d)},b.prototype.sourceLocation=function(a){var b,c,d;for(c=a[0],b=a[1];!((d=this.lines[c])||0>=c);)c--;return d&&d.sourceLocation(b)},b.prototype.generate=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;for(null==a&&(a={}),null==b&&(b=null),r=0,f=0,h=0,g=0,n=!1,c="",o=this.lines,l=d=0,i=o.length;i>d;l=++d)if(k=o[l])for(p=k.columns,e=0,j=p.length;j>e;e++)if(m=p[e]){for(;m.line>r;)f=0,n=!1,c+=";",r++;n&&(c+=",",n=!1),c+=this.encodeVlq(m.column-f),f=m.column,c+=this.encodeVlq(0),c+=this.encodeVlq(m.sourceLine-h),h=m.sourceLine,c+=this.encodeVlq(m.sourceColumn-g),g=m.sourceColumn,n=!0}return q={version:3,file:a.generatedFile||"",sourceRoot:a.sourceRoot||"",sources:a.sourceFiles||[""],names:[],mappings:c},a.inline&&(q.sourcesContent=[b]),JSON.stringify(q,null,2)},e=5,d=1<<e,f=d-1,b.prototype.encodeVlq=function(a){var b,c,g,h;for(b="",g=0>a?1:0,h=(Math.abs(a)<<1)+g;h||!b;)c=h&f,h>>=e,h&&(c|=d),b+=this.encodeBase64(c);return b},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b.prototype.encodeBase64=function(a){return c[a]||function(){throw Error("Cannot Base64 encode value: "+a)}()},b}(),b.exports=c}.call(this),b.exports}(),require["./coffee-script"]=function(){var a={},b={exports:a};return function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t={}.hasOwnProperty,u=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};if(h=require("fs"),r=require("vm"),o=require("path"),b=require("./lexer").Lexer,n=require("./parser").parser,j=require("./helpers"),c=require("./sourcemap"),a.VERSION="1.9.1",a.FILE_EXTENSIONS=[".coffee",".litcoffee",".coffee.md"],a.helpers=j,s=function(a){return function(b,c){var d;null==c&&(c={});try{return a.call(this,b,c)}catch(e){throw d=e,j.updateSyntaxError(d,b,c.filename)}}},a.compile=e=s(function(a,b){var d,e,f,g,h,i,k,l,o,p,q,r,s,t,u;for(r=j.merge,g=j.extend,b=g({},b),b.sourceMap&&(q=new c),u=m.tokenize(a,b),b.referencedVars=function(){var a,b,c;for(c=[],a=0,b=u.length;b>a;a++)t=u[a],t.variable&&c.push(t[1]);return c}(),i=n.parse(u).compileToFragments(b),f=0,b.header&&(f+=1),b.shiftLine&&(f+=1),e=0,o="",l=0,p=i.length;p>l;l++)h=i[l],b.sourceMap&&(h.locationData&&q.add([h.locationData.first_line,h.locationData.first_column],[f,e],{noReplace:!0}),s=j.count(h.code,"\n"),f+=s,s?e=h.code.length-(h.code.lastIndexOf("\n")+1):e+=h.code.length),o+=h.code;return b.header&&(k="Generated by CoffeeScript "+this.VERSION,o="// "+k+"\n"+o),b.sourceMap?(d={js:o},d.sourceMap=q,d.v3SourceMap=q.generate(b,a),d):o}),a.tokens=s(function(a,b){return m.tokenize(a,b)}),a.nodes=s(function(a,b){return"string"==typeof a?n.parse(m.tokenize(a,b)):n.parse(a)}),a.run=function(a,b){var c,d,f,g;return null==b&&(b={}),f=require.main,f.filename=process.argv[1]=b.filename?h.realpathSync(b.filename):".",f.moduleCache&&(f.moduleCache={}),d=b.filename?o.dirname(h.realpathSync(b.filename)):h.realpathSync("."),f.paths=require("module")._nodeModulePaths(d),(!j.isCoffee(f.filename)||require.extensions)&&(c=e(a,b),a=null!=(g=c.js)?g:c),f._compile(a,f.filename)},a.eval=function(a,b){var c,d,f,g,h,i,j,k,l,m,n,p,q,s,u,v,w;if(null==b&&(b={}),a=a.trim()){if(g=null!=(p=r.Script.createContext)?p:r.createContext,i=null!=(q=r.isContext)?q:function(){return b.sandbox instanceof g().constructor},g){if(null!=b.sandbox){if(i(b.sandbox))v=b.sandbox;else{v=g(),s=b.sandbox;for(k in s)t.call(s,k)&&(w=s[k],v[k]=w)}v.global=v.root=v.GLOBAL=v}else v=global;if(v.__filename=b.filename||"eval",v.__dirname=o.dirname(v.__filename),v===global&&!v.module&&!v.require){for(c=require("module"),v.module=d=new c(b.modulename||"eval"),v.require=f=function(a){return c._load(a,d,!0)},d.filename=v.__filename,u=Object.getOwnPropertyNames(require),h=0,l=u.length;l>h;h++)n=u[h],"paths"!==n&&(f[n]=require[n]);f.paths=d.paths=c._nodeModulePaths(process.cwd()),f.resolve=function(a){return c._resolveFilename(a,d)}}}m={};for(k in b)t.call(b,k)&&(w=b[k],m[k]=w);return m.bare=!0,j=e(a,m),v===global?r.runInThisContext(j):r.runInContext(j,v)}},a.register=function(){return require("./register")},require.extensions)for(p=this.FILE_EXTENSIONS,k=0,l=p.length;l>k;k++)f=p[k],null==(d=require.extensions)[f]&&(d[f]=function(){throw Error("Use CoffeeScript.register() or require the coffee-script/register module to require "+f+" files.")});a._compileFile=function(a,b){var c,d,f,g;null==b&&(b=!1),f=h.readFileSync(a,"utf8"),g=65279===f.charCodeAt(0)?f.substring(1):f;try{c=e(g,{filename:a,sourceMap:b,literate:j.isLiterate(a)})}catch(i){throw d=i,j.updateSyntaxError(d,g,a)}return c},m=new b,n.lexer={lex:function(){var a,b;return b=n.tokens[this.pos++],b?(a=b[0],this.yytext=b[1],this.yylloc=b[2],n.errorToken=b.origin||b,this.yylineno=this.yylloc.first_line):a="",a},setInput:function(a){return n.tokens=a,this.pos=0},upcomingInput:function(){return""}},n.yy=require("./nodes"),n.yy.parseError=function(a,b){var c,d,e,f,g,h;return g=b.token,f=n.errorToken,h=n.tokens,d=f[0],e=f[1],c=f[2],e=function(){switch(!1){case f!==h[h.length-1]:return"end of input";case"INDENT"!==d&&"OUTDENT"!==d:return"indentation";case"IDENTIFIER"!==d&&"NUMBER"!==d&&"STRING"!==d&&"STRING_START"!==d&&"REGEX"!==d&&"REGEX_START"!==d:return d.replace(/_START$/,"").toLowerCase();default:return j.nameWhitespaceCharacter(e)}}(),j.throwSyntaxError("unexpected "+e,c)},g=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;return f=void 0,e="",a.isNative()?e="native":(a.isEval()?(f=a.getScriptNameOrSourceURL(),f||(e=a.getEvalOrigin()+", ")):f=a.getFileName(),f||(f="<anonymous>"),j=a.getLineNumber(),d=a.getColumnNumber(),l=b(f,j,d),e=l?f+":"+l[0]+":"+l[1]:f+":"+j+":"+d),g=a.getFunctionName(),h=a.isConstructor(),i=!(a.isToplevel()||h),i?(k=a.getMethodName(),n=a.getTypeName(),g?(m=c="",n&&g.indexOf(n)&&(m=n+"."),k&&g.indexOf("."+k)!==g.length-k.length-1&&(c=" [as "+k+"]"),""+m+g+c+" ("+e+")"):n+"."+(k||"<anonymous>")+" ("+e+")"):h?"new "+(g||"<anonymous>")+" ("+e+")":g?g+" ("+e+")":e},q={},i=function(b){var c,d;return q[b]?q[b]:(d=null!=o?o.extname(b):void 0,0>u.call(a.FILE_EXTENSIONS,d)?void 0:(c=a._compileFile(b,!0),q[b]=c.sourceMap))},Error.prepareStackTrace=function(b,c){var d,e,f;return f=function(a,b,c){var d,e;return e=i(a),e&&(d=e.sourceLocation([b-1,c-1])),d?[d[0]+1,d[1]+1]:null},e=function(){var b,e,h;for(h=[],b=0,e=c.length;e>b&&(d=c[b],d.getFunction()!==a.run);b++)h.push("  at "+g(d,f));return h}(),""+b+"\n"+e.join("\n")+"\n"}}.call(this),b.exports}(),require["./browser"]=function(){var exports={},module={exports:exports};return function(){var CoffeeScript,compile,runScripts,indexOf=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};CoffeeScript=require("./coffee-script"),CoffeeScript.require=require,compile=CoffeeScript.compile,CoffeeScript.eval=function(code,options){return null==options&&(options={}),null==options.bare&&(options.bare=!0),eval(compile(code,options))},CoffeeScript.run=function(a,b){return null==b&&(b={}),b.bare=!0,b.shiftLine=!0,Function(compile(a,b))()},"undefined"!=typeof window&&null!==window&&("undefined"!=typeof btoa&&null!==btoa&&"undefined"!=typeof JSON&&null!==JSON&&"undefined"!=typeof unescape&&null!==unescape&&"undefined"!=typeof encodeURIComponent&&null!==encodeURIComponent&&(compile=function(a,b){var c,d,e;return null==b&&(b={}),b.sourceMap=!0,b.inline=!0,d=CoffeeScript.compile(a,b),c=d.js,e=d.v3SourceMap,c+"\n//# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(e)))+"\n//# sourceURL=coffeescript"}),CoffeeScript.load=function(a,b,c,d){var e;return null==c&&(c={}),null==d&&(d=!1),c.sourceFiles=[a],e=window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLHTTP"):new window.XMLHttpRequest,e.open("GET",a,!0),"overrideMimeType"in e&&e.overrideMimeType("text/plain"),e.onreadystatechange=function(){var f,g;if(4===e.readyState){if(0!==(g=e.status)&&200!==g)throw Error("Could not load "+a);if(f=[e.responseText,c],d||CoffeeScript.run.apply(CoffeeScript,f),b)return b(f)}},e.send(null)},runScripts=function(){var a,b,c,d,e,f,g,h,i,j,k;for(k=window.document.getElementsByTagName("script"),b=["text/coffeescript","text/literate-coffeescript"],a=function(){var a,c,d,e;for(e=[],a=0,c=k.length;c>a;a++)i=k[a],d=i.type,indexOf.call(b,d)>=0&&e.push(i);return e}(),f=0,c=function(){var b;return b=a[f],b instanceof Array?(CoffeeScript.run.apply(CoffeeScript,b),f++,c()):void 0},d=function(d,e){var f;return f={literate:d.type===b[1]},d.src?CoffeeScript.load(d.src,function(b){return a[e]=b,c()},f,!0):(f.sourceFiles=["embedded"],a[e]=[d.innerHTML,f])},e=g=0,h=a.length;h>g;e=++g)j=a[e],d(j,e);return c()},window.addEventListener?window.addEventListener("DOMContentLoaded",runScripts,!1):window.attachEvent("onload",runScripts))}.call(this),module.exports}(),require["./coffee-script"]}();"function"==typeof define&&define.amd?define(function(){return CoffeeScript}):root.CoffeeScript=CoffeeScript}(this),iio.logs=[],iio.Log=function(){this.Log.apply(this,arguments)},iio.Log.SUCCESS=1,iio.Log.FAILURE=2,iio.Log.WARNING=3,iio.Log.prototype.Log=function(){if(iio.is.string(arguments[0]))this.msg=arguments[0],this.type=arguments[1]||0;else for(var a in arguments[0])this[a]=arguments[0][a]},iio.log=function(){iio.add_log(new iio.Log(arguments[0],arguments[1]))},iio.show_logs=function(){iio.logDiv=document.createElement("div"),iio.logDiv.id="iio_log",iio.logDiv.style.position="fixed",iio.logDiv.style.bottom="0",iio.logDiv.style.right="0",document.body.appendChild(iio.logDiv);for(var a=0;a<iio.logs.length;a++)iio.add_log(iio.logs[a])},iio.add_log=function(a){var b=document.createElement("p");return b.innerHTML=a.msg,a.type==iio.Log.SUCCESS&&(b.style.color="green"),a.type==iio.Log.FAILURE&&(b.style.color="red"),a.type==iio.Log.WARNING&&(b.style.color="yellow"),b.style.fontFamily="monospace",iio.logDiv.appendChild(b),iio.logs.push(a),a},iio._start=iio.start,iio.start=function(a,b,c){return iio.log("START: "+a.name),iio._start(a,b,c)},iio.App.prototype._App=iio.App.prototype.App,iio.App.prototype.App=function(a,b,c){iio.log("enter CONSTRUCTOR: App"),this._App(a,b,c),iio.log("- App.pos: "+this.pos.x+","+this.pos.y),iio.log("- App.width: "+this.width),iio.log("- App.height: "+this.height),iio.log("end CONSTRUCTOR: App")},iio.Obj.prototype._Obj=iio.Obj.prototype.Obj,iio.Obj.prototype.Obj=function(){iio.log("enter CONSTRUCTOR: Obj"),this._Obj(arguments[0]),this.pos&&iio.log("- Obj.pos: "+this.pos.x+","+this.pos.y),this.color&&iio.log("- Obj.color: "+this.color.toString()),iio.log("end CONSTRUCTOR: Obj")},iio.Drawable.prototype._Drawable=iio.Drawable.prototype.Drawable,iio.Drawable.prototype.Drawable=function(){iio.log("enter CONSTRUCTOR: Drawable"),this._Drawable(arguments[0]),iio.log("end CONSTRUCTOR: Drawable")},iio.Line.prototype._Line=iio.Line.prototype.Line,iio.Line.prototype.Line=function(){iio.log("enter CONSTRUCTOR: Line"),this._Line(arguments[0]),this.vs&&iio.log("- Line.vs: ["+this.vs[0].x+","+this.vs[0].y+"] ["+this.vs[1].x+","+this.vs[1].y+"]"),iio.log("end CONSTRUCTOR: Line")},iio_dependency_path="http://iioengine.com/src/core/",iio_dependencies=["core.js","libs.js","V.js","Color.js","Obj.js","App.js","SpriteMap.js","Drawable.js","Line.js","Polygon.js","Rectangle.js","Square.js","Grid.js","Ellipse.js","Text.js"];var load_iio_remote=function(a){iio_load_dependency(0,a)},iio_load_dependency=function(a,b){var c=document.createElement("script");c.setAttribute("type","text/javascript"),c.setAttribute("src",iio_dependency_path+iio_dependencies[a]),"undefined"!=typeof c&&document.getElementsByTagName("head")[0].appendChild(c),c.onload=function(){a<iio_dependencies.length-1?iio_load_dependency(a+1,b):b()}};